<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.30">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>data</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="Data_files/libs/clipboard/clipboard.min.js"></script>
<script src="Data_files/libs/quarto-html/quarto.js"></script>
<script src="Data_files/libs/quarto-html/popper.min.js"></script>
<script src="Data_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="Data_files/libs/quarto-html/anchor.min.js"></script>
<link href="Data_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="Data_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="Data_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="Data_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="Data_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar zindex-bottom">
</div>
<main class="content page-columns page-full" id="quarto-document-content">




<div class="cell">
<style type="text/css">
p {
  text-align: justify
}
</style>
</div>
<section id="data" class="level1 page-columns page-full">
<h1>Data</h1>
<p>In this book, we are concerned with empirical research in the language sciences, in other words, with research that is based on the analysis of data. But what kind of data are analysed in the language sciences? To get a rough idea of the range of data types analysed in the language sciences, let us take a look at the IRIS database. IRIS is a public, open repository where anyone can deposit the data, materials, instruments, code, and tools that they used “for research into languages, including first, second, and beyond, and signed language learning, multilingualism, language education, language use, and language processing”. As such, it supports Open Science and Open Scholarship (see <a href="https://elenlefoll.github.io/RstatsTextbook/OpenScholarship.html">Chapter 1</a>).</p>
<div class="callout callout-style-default callout-caution callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Task 1
</div>
</div>
<div class="callout-body-container callout-body">
<p>Connect to the <a href="https://iris-database.org/">IRIS website</a>. Go to its <a href="https://iris-database.org/search">Search and Download</a> page and scroll down to the filter option Data Type. Browse through the different data types most commonly used in language-related research. For which kinds of studies could these different types of data have been collected?</p>
<div id="fig-IRISDataTypes" class="quarto-figure quarto-figure-center quarto-float anchored" alt="Data Type filter dropdown menu with the following visible categories: Oral production (168), Closed response format (157), Open response (105), Judgements (97), Written production (76), Reaction times (62), Qualitative (46)">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-IRISDataTypes-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/IRISDataTypes.png" class="img-fluid figure-img" alt="Data Type filter dropdown menu with the following visible categories: Oral production (168), Closed response format (157), Open response (105), Judgements (97), Written production (76), Reaction times (62), Qualitative (46)" width="250">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-IRISDataTypes-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;1: Screenshot from the IRIS database search page (accessed on 17 April 2024)
</figcaption>
</figure>
</div>
</div>
</div>
<section id="types-of-research-data" class="level2">
<h2 class="anchored" data-anchor-id="types-of-research-data">Types of research data</h2>
<p>Given the wide range of methods used in language research, it is no surprise that they are so many different types of research data. Although the data types listed on the IRIS search page (see <a href="#fig-IRISDataTypes" class="quarto-xref">Figure&nbsp;1</a> for extract) are very broad and the categories not clearly defined, the list illustrates well the breadth of research data types typically analysed in language studies. The first data type category, ‘Oral production’, for instance, can equally refer to text transcriptions of language users’ oral production, audio, or video files. It can also refer to either raw data or to (more or less) processed data. For example, a transcript of a conversation could have been automatically annotated for part-of-speech, meaning that every word would be marked for their word class (e.g., <code>This_DT is_VBZ not_RB raw_JJ text_NN data_NN ._PUNC</code>), or it could have been manually anonymised by adding placeholders (e.g., <code>&lt;NAME&gt;</code>) indicating that certain words have been retracted for data protection reasons.</p>
<p>The second most frequent data type category, ‘Closed response format’, includes different kinds of questionnaires and tests. Questionnaires may ask study participants to disclose personal information relevant to the research questions using single or multiple-choice questions, such as what language they speak at home, how long they have studied a language for, or how old they are. Tests may be designed to assess participants’ language competences (e.g., in the form of a vocabulary or grammar test), as well as other aspects relevant to the research questions being investigated (e.g., short-term memory or baseline reaction times).</p>
</section>
<section id="data-formats" class="level2">
<h2 class="anchored" data-anchor-id="data-formats">Data formats</h2>
<p>Different data types come in different data formats. For audio files, you may be familiar with the MP3 format, but this by no means the only format in which audio files can be saved. Many other audio file formats exist, such as Waveform Audio File Format (WAVE) and Free Lossless Audio Codec (FLAC).</p>
<p>We can usually tell in what format a file is in by looking at its file extension. The file extension is the suffix of the file name. It comes at the end of the file name and is preceded by a dot. The file extension of a WAVE file is <code>.wav</code>, whereas that of an MP3 file is <code>.mp3</code>; hence the file <code>Recording.wav</code> is a WAVE file, whereas <code>Recording.mp3</code> is an MP3 file.</p>
<blockquote class="blockquote">
<h2 id="quiz-time" class="unnumbered anchored">Quiz time!</h2>
<p>1) In which format are Microsoft Word files typically saved?</p>
<form name="form_1" onsubmit="return validate_form_1()" method="post">
<input type="radio" name="answer_1" id="answer_1_1" value=".docs">
<label>.docs</label>
<br>
<input type="radio" name="answer_1" id="answer_1_2" value=".docx">
<label>.docx</label>
<br>
<input type="radio" name="answer_1" id="answer_1_3" value=".msword">
<label>.msword</label>
<br>
<input type="radio" name="answer_1" id="answer_1_4" value=".odt">
<label>.odt</label>
<br>
<input type="submit" value="Check answer">
<div id="result_1"></div>
</form>
<script>function validate_form_1() {var x, text; var x = document.forms['form_1']['answer_1'].value;if (x == '.docx'){text = 'That’s right! Though older versions of MS Word used the format <code>.doc</code>.';} else {text = 'That’s incorrect. Do you have a Word file on your computer whose file extension you could check?';} document.getElementById('result_1').innerHTML = text; evaluate_final_score(); return false;}function evaluate_final_score(){
         element = document.getElementById('checkdown_final_score');
         if(element === null){return false;} else {var element, text, res1;res1 = document.getElementById('result_1').innerText == 'That’s right! Though older versions of MS Word used the format .doc.';text = res1;element.innerHTML = text;
         return false;
         }}</script>
<p>&nbsp;</p>
<p>2) Which of these files are audio files?</p>
<form name="form_2" onsubmit="return validate_form_2()" method="post">
<input type="checkbox" id="answer_2_1" value="001_dialog.flac">
<label>001_dialog.flac</label>
<br>
<input type="checkbox" id="answer_2_2" value="dialog_01.csv">
<label>dialog_01.csv</label>
<br>
<input type="checkbox" id="answer_2_3" value="DIALOGUE.audio">
<label>DIALOGUE.audio</label>
<br>
<input type="checkbox" id="answer_2_4" value="dialogue001.wav">
<label>dialogue001.wav</label>
<br>
<input type="checkbox" id="answer_2_5" value="dialogue001.mp3">
<label>dialogue001.mp3</label>
<br>
<input type="submit" value="Check answer">
<div id="result_2"></div>
</form>
<script>function validate_form_2() {var text; var x1 = document.getElementById('answer_2_1'); var x2 = document.getElementById('answer_2_2'); var x3 = document.getElementById('answer_2_3'); var x4 = document.getElementById('answer_2_4'); var x5 = document.getElementById('answer_2_5'); if (x1.checked == true&x2.checked == false&x3.checked == false&x4.checked == true&x5.checked == true){text = 'That’s right!';} else {text = 'Not quite. Hint: There are three audio files in this list.';} document.getElementById('result_2').innerHTML = text; evaluate_final_score(); return false;}function evaluate_final_score(){
         element = document.getElementById('checkdown_final_score');
         if(element === null){return false;} else {var element, text, res1, res2;res1 = document.getElementById('result_1').innerText == 'That’s right! Though older versions of MS Word used the format .doc.'; res2 = document.getElementById('result_2').innerText == 'That’s right!';text = res1 + res2;element.innerHTML = text;
         return false;
         }}</script>
</blockquote>
</section>
<section id="sharing-research-data-and-materials" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="sharing-research-data-and-materials">Sharing research data and materials</h2>
<p>In line with the principles of Open Science (see <a href="https://elenlefoll.github.io/RstatsTextbook/OpenScholarship.html">Chapter 1</a>), it is important to ensure that both the materials that were used to collect research data (e.g., questionnaire items, audio, image or video stimuli, language aptitude tests, etc.) and the data themselves are, whenever legally possible and ethically responsible, shared with the research community in open access. Sharing materials ensures that studies can be rerun with new participants. Sharing research data enables independent researchers to check published results and run additional analyses that may confirm, contradict, or expand the conclusions of the original studies.</p>
<p><span class="citation" data-cites="schimkeFirstLanguageInfluence2018">Schimke et al. (<a href="#ref-schimkeFirstLanguageInfluence2018" role="doc-biblioref">2018</a>)</span> is an example of a publication which was awarded the Open Data and the Open Materials badges (see <a href="#fig-SchimkeTitle" class="quarto-xref">Figure&nbsp;2 (a)</a>). This means that the authors published the research materials and data associated with this study in an online repository for all to access. The authors could have chosen from a number of online repositories but, in this case, they chose IRIS.</p>
<p>In this publication, <span class="citation" data-cites="schimkeFirstLanguageInfluence2018">Schimke et al. (<a href="#ref-schimkeFirstLanguageInfluence2018" role="doc-biblioref">2018</a>)</span> report the results of an eye-tracking experiment which involved Spanish speakers listening to ambiguous sentences in Spanish whilst looking at images of Playmobil figures (see <a href="#fig-Playmobil" class="quarto-xref">Figure&nbsp;2 (b)</a> for an example).</p>
<div id="fig-SchimkeEA2018" class="quarto-layout-panel">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-SchimkeEA2018-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="quarto-layout-row">
<div class="quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-SchimkeEA2018" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-SchimkeTitle" class="quarto-figure quarto-figure-center quarto-float anchored" alt="Heading of PDF version of the article from the journal Language Learning: A Journal of Research in Language Studies. EMPIRICAL STUDY First Language Influence on SecondLanguage Offline and Online AmbiguousPronoun Resolution Sarah Schimke, Israel de la Fuente, Barbara Hemforth, and Saveria Colonnada from University Münster, University of Lille/CNRS, CNRS/University of Paris Diderot, and University of Paris 8/CNRS">
<figure class="quarto-float quarto-subfloat-fig figure">
<div aria-describedby="fig-SchimkeTitle-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/SchimkeEA2018Abstract.png" class="img-fluid figure-img" data-ref-parent="fig-SchimkeEA2018" alt="Heading of PDF version of the article from the journal Language Learning: A Journal of Research in Language Studies. EMPIRICAL STUDY First Language Influence on SecondLanguage Offline and Online AmbiguousPronoun Resolution Sarah Schimke, Israel de la Fuente, Barbara Hemforth, and Saveria Colonnada from University Münster, University of Lille/CNRS, CNRS/University of Paris Diderot, and University of Paris 8/CNRS">
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-SchimkeTitle-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(a) Title page of the <span class="citation" data-cites="schimkeFirstLanguageInfluence2018">Schimke et al. (<a href="#ref-schimkeFirstLanguageInfluence2018" role="doc-biblioref">2018</a>)</span>
</figcaption>
</figure>
</div>
</div>
<div class="quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-SchimkeEA2018" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-Playmobil" class="quarto-figure quarto-figure-center quarto-float anchored" alt="Photo of two Playmobil figures. On the left a street sweeper with a broom and on the right a postman with a trolley.">
<figure class="quarto-float quarto-subfloat-fig figure">
<div aria-describedby="fig-Playmobil-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/Playmobil.bmp" class="img-fluid figure-img" data-ref-parent="fig-SchimkeEA2018" alt="Photo of two Playmobil figures. On the left a street sweeper with a broom and on the right a postman with a trolley.">
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-Playmobil-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(b) Image from Experiment 1 in <span class="citation" data-cites="schimkeFirstLanguageInfluence2018">Schimke et al. (<a href="#ref-schimkeFirstLanguageInfluence2018" role="doc-biblioref">2018</a>)</span>
</figcaption>
</figure>
</div>
</div>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-SchimkeEA2018-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;2: An example of a publication for which both research materials and data have been published.
</figcaption>
</figure>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-2-contents" aria-controls="callout-2" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
How did the experiment work?
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-2" class="callout-2-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>In this experiment, participants were instructed to decide whether the sentences they heard matched the Playmobil images or not. Consider the following two sentences from the experiment:</p>
<blockquote class="blockquote">
<ol type="1">
<li><p><em>El barrendero se encontró con el cartero antes de que recogiera las cartas.</em><br>
[The street sweeper met the postman before he fetched the letters.]</p></li>
<li><p><em>El barrendero se encontró con el cartero antes de que recogiera la escoba.</em><br>
[The street sweeper met the postman before he fetched the broom.]</p></li>
</ol>
</blockquote>
<p>Up until the point at which either <em>las</em> <em>cartas</em> [the letters] or <em>la escoba</em> [broom] are heard, it is unclear who “he” is. Whilst listening to either Sentence 1 or Sentence 2, participants were presented with <a href="#fig-Playmobil" class="quarto-xref">Figure&nbsp;2 (b)</a>.</p>
<p>The researchers measured how long it took for participants to look at the person referred to by the ambiguous pronoun “he”. In other words, for Sentence 1, they were interested in how long it took participants to focus on the postman and, in Sentence 2, on the street sweeper. These measurements were made using an eye-tracking device.</p>
</div>
</div>
</div>

<div class="no-row-height column-margin column-container"><div class="">
<div id="fig-OpenDataOpenMaterials" class="quarto-figure quarto-figure-center quarto-float anchored" width="153" alt="The Open Data badge is blue and shows a simple barplot and the Open Materials is yellow and shows an open box">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-OpenDataOpenMaterials-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/OpenDataOpenMaterials.jpg" id="fig-OpenDataOpenMaterials" class="img-fluid figure-img" alt="The Open Data badge is blue and shows a simple barplot and the Open Materials is yellow and shows an open box" width="153">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig quarto-uncaptioned" id="fig-OpenDataOpenMaterials-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
</figcaption>
</figure>
</div>
</div></div><div class="callout callout-style-default callout-caution callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Task 2
</div>
</div>
<div class="callout-body-container callout-body">
<p>Imagine that you want to run an experiment similar to the one carried out in <span class="citation" data-cites="schimkeFirstLanguageInfluence2018">Schimke et al. (<a href="#ref-schimkeFirstLanguageInfluence2018" role="doc-biblioref">2018</a>)</span>. To this end, you would like to reuse the Playmobil image files. These can be found on IRIS. In what file format do you think that the images will be archived?</p>
<p>To find out, click <a href="https://iris-database.org/search/?s_publicationAPAInlineReference=Schimke%20et%20al.%20(2018)">here</a> to go straight to the list of data and materials associated with the study. Next, find the “Pictorial” entry which contains the images. It allows you to download a ZIP file called <code>Images_online.zip</code>. ZIP is an archive file format that can contain one or more compressed files. Download this <code>zip</code> file.</p>
<p>Once the download was successful, navigate to the folder where the file was saved on your computer and unzip the file, i.e., decompress it and extract its contents:</p>
<ul>
<li>To unzip on Windows, double-click the file, select “Extract All,” select a folder, and then click “Extract.”</li>
<li>On a Mac, simply double-click the file to unzip it.</li>
<li>If you are using the Linux command line, use the command <code>unzip</code> followed by the name of the file to unzip it. You should find that the ZIP file contains a folder entitled “Images”, which contains 58 pictures of Playmobil figures.</li>
</ul>
<p>In what file format are these image files?</p>
<form name="form_3" onsubmit="return validate_form_3()" method="post">
<input type="radio" name="answer_3" id="answer_3_1" value="BMP">
<label>BMP</label>
<br>
<input type="radio" name="answer_3" id="answer_3_2" value="GIMP">
<label>GIMP</label>
<br>
<input type="radio" name="answer_3" id="answer_3_3" value="JPEG">
<label>JPEG</label>
<br>
<input type="radio" name="answer_3" id="answer_3_4" value="PNG">
<label>PNG</label>
<br>
<input type="radio" name="answer_3" id="answer_3_5" value="GIF">
<label>GIF</label>
<br>
<input type="submit" value="Check answer">
<div id="result_3"></div>
</form>
<script>function validate_form_3() {var x, text; var x = document.forms['form_3']['answer_3'].value;if (x == 'BMP'){text = 'That’s right!';} else {text = 'This is an image file format, but these Playmobil images are not saved in this format.';} document.getElementById('result_3').innerHTML = text; evaluate_final_score(); return false;}function evaluate_final_score(){
         element = document.getElementById('checkdown_final_score');
         if(element === null){return false;} else {var element, text, res1, res2, res3;res1 = document.getElementById('result_1').innerText == 'That’s right! Though older versions of MS Word used the format .doc.'; res2 = document.getElementById('result_2').innerText == 'That’s right!'; res3 = document.getElementById('result_3').innerText == 'That’s right!';text = res1 + res2 + res3;element.innerHTML = text;
         return false;
         }}</script>
</div>
</div>
</section>
<section id="working-with-tabular-data" class="level2">
<h2 class="anchored" data-anchor-id="working-with-tabular-data">Working with tabular data</h2>
<p>Data may be collected with analogue means, e.g., by getting participants to answer a questionnaire on paper or collecting learners’ work on paper. However, all data are typically digitalised for analysis. They are then stored as text files in formats such as <code>.txt</code> or <code>.csv</code>.</p>
<p>When researchers conduct an online survey, the data they collect is typically stored in the form of tables.</p>
<p>But even if other data types are originally collected and/or analysed, researchers will often end up doing their quantitative analyses on the basis of tabular data. Consider a team of researchers going into schools to investigate how foreign languages are taught and learnt in a specific environment. They may record classroom interactions using video and collect students’ written work on paper. However, when it comes to the quantitative data analysis, all of these data are likely to eventualy be examined in the form of tables.</p>
<p>[Flowchart figure showing: picture of fieldwork with recording device -&gt; audio file -&gt; text transcript -&gt; annotated text transcript -&gt; data table]</p>
<p>In the fieldwork research scenario, researchers may be interested in a language community’s use of a particular linguistic phenomenon, say formal and informal forms of address. To this end, they obtain informed consent from members of this community to record their interactions over several weeks. The linguists will then transcribe their field recordings. This allows them to search for the relevant forms of address in the transcripts and, if necessary, to annotate the linguistic features for various (e.g., socio-cultural) aspects. For the quantitative data analysis, the forms of address and their associated annotations would then be converted to a table format.</p>
</section>
<section id="dangers-of-spreadsheet-programmes" class="level2">
<h2 class="anchored" data-anchor-id="dangers-of-spreadsheet-programmes">Dangers of spreadsheet programmes</h2>
<ul>
<li>Dangers of spreadsheet programmes</li>
<li>Specific problems of Excel!</li>
</ul>
</section>
<section id="file-management" class="level2">
<h2 class="anchored" data-anchor-id="file-management">File management</h2>
<ul>
<li>Paths</li>
<li>File naming</li>
<li>File organisation</li>
</ul>
</section>
<section id="task-download-data-rename-open-in-libreoffice" class="level2 unnumbered">


</section>
</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography" id="quarto-bibliography"><h2 class="anchored quarto-appendix-heading">Task download data + rename + open in LibreOffice</h2><div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list">
<div id="ref-schimkeFirstLanguageInfluence2018" class="csl-entry" role="listitem">
Schimke, Sarah, Israel de la Fuente, Barbara Hemforth, and Saveria Colonna. 2018. <span>“First Language Influence on Second Language Offline and Online Ambiguous Pronoun Resolution.”</span> <em>Language Learning</em> 68 (3): 744–79. <a href="https://doi.org/10.1111/lang.12293">https://doi.org/10.1111/lang.12293</a>.
</div>
</div></section></div></main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>