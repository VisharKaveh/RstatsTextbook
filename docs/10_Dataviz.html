<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.26">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Elen Le Foll">

<title>10&nbsp; The GrammaR of Graphics – Data Analysis for the Language Sciences</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./11_InferentialStats.html" rel="next">
<link href="./9_DataWrangling.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-53f539a478d6ecd1be31ce9fd30fd81c.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark-3e3370d44295d9fa30cc16d77ad785c2.css" rel="stylesheet" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-53f539a478d6ecd1be31ce9fd30fd81c.css" rel="stylesheet" class="quarto-color-scheme-extra" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-db8da973c8974479654007bb7dceba98.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/bootstrap/bootstrap-dark-540c66f2be59a33d43b8e94dc657d4ab.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<link href="site_libs/bootstrap/bootstrap-db8da973c8974479654007bb7dceba98.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme-extra" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/quarto-contrib/line-highlight-1.0.0/line-highlight.css" rel="stylesheet">
<script src="site_libs/quarto-contrib/glightbox/glightbox.min.js"></script>
<link href="site_libs/quarto-contrib/glightbox/glightbox.min.css" rel="stylesheet">
<link href="site_libs/quarto-contrib/glightbox/lightbox.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<link href="site_libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">
<script src="site_libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>
<script src="site_libs/plotly-binding-4.10.4/plotly.js"></script>
<script src="site_libs/typedarray-0.1/typedarray.min.js"></script>
<script src="site_libs/jquery-3.5.1/jquery.min.js"></script>
<link href="site_libs/crosstalk-1.2.1/css/crosstalk.min.css" rel="stylesheet">
<script src="site_libs/crosstalk-1.2.1/js/crosstalk.min.js"></script>
<link href="site_libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet">
<script src="site_libs/plotly-main-2.11.1/plotly-latest.min.js"></script>


<link rel="stylesheet" href="style.css">
</head>

<body class="nav-sidebar floating slimcontent quarto-light"><script id="quarto-html-before-body" type="application/javascript">
    const toggleBodyColorMode = (bsSheetEl) => {
      const mode = bsSheetEl.getAttribute("data-mode");
      const bodyEl = window.document.querySelector("body");
      if (mode === "dark") {
        bodyEl.classList.add("quarto-dark");
        bodyEl.classList.remove("quarto-light");
      } else {
        bodyEl.classList.add("quarto-light");
        bodyEl.classList.remove("quarto-dark");
      }
    }
    const toggleBodyColorPrimary = () => {
      const bsSheetEl = window.document.querySelector("link#quarto-bootstrap:not([rel=disabled-stylesheet])");
      if (bsSheetEl) {
        toggleBodyColorMode(bsSheetEl);
      }
    }
    window.setColorSchemeToggle = (alternate) => {
      const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
      for (let i=0; i < toggles.length; i++) {
        const toggle = toggles[i];
        if (toggle) {
          if (alternate) {
            toggle.classList.add("alternate");
          } else {
            toggle.classList.remove("alternate");
          }
        }
      }
    };
    const toggleColorMode = (alternate) => {
      // Switch the stylesheets
      const primaryStylesheets = window.document.querySelectorAll('link.quarto-color-scheme:not(.quarto-color-alternate)');
      const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
      manageTransitions('#quarto-margin-sidebar .nav-link', false);
      if (alternate) {
        // note: dark is layered on light, we don't disable primary!
        enableStylesheet(alternateStylesheets);
        for (const sheetNode of alternateStylesheets) {
          if (sheetNode.id === "quarto-bootstrap") {
            toggleBodyColorMode(sheetNode);
          }
        }
      } else {
        disableStylesheet(alternateStylesheets);
        enableStylesheet(primaryStylesheets)
        toggleBodyColorPrimary();
      }
      manageTransitions('#quarto-margin-sidebar .nav-link', true);
      // Switch the toggles
      window.setColorSchemeToggle(alternate)
      // Hack to workaround the fact that safari doesn't
      // properly recolor the scrollbar when toggling (#1455)
      if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
        manageTransitions("body", false);
        window.scrollTo(0, 1);
        setTimeout(() => {
          window.scrollTo(0, 0);
          manageTransitions("body", true);
        }, 40);
      }
    }
    const disableStylesheet = (stylesheets) => {
      for (let i=0; i < stylesheets.length; i++) {
        const stylesheet = stylesheets[i];
        stylesheet.rel = 'disabled-stylesheet';
      }
    }
    const enableStylesheet = (stylesheets) => {
      for (let i=0; i < stylesheets.length; i++) {
        const stylesheet = stylesheets[i];
        if(stylesheet.rel !== 'stylesheet') { // for Chrome, which will still FOUC without this check
          stylesheet.rel = 'stylesheet';
        }
      }
    }
    const manageTransitions = (selector, allowTransitions) => {
      const els = window.document.querySelectorAll(selector);
      for (let i=0; i < els.length; i++) {
        const el = els[i];
        if (allowTransitions) {
          el.classList.remove('notransition');
        } else {
          el.classList.add('notransition');
        }
      }
    }
    const isFileUrl = () => {
      return window.location.protocol === 'file:';
    }
    window.hasAlternateSentinel = () => {
      let styleSentinel = getColorSchemeSentinel();
      if (styleSentinel !== null) {
        return styleSentinel === "alternate";
      } else {
        return false;
      }
    }
    const setStyleSentinel = (alternate) => {
      const value = alternate ? "alternate" : "default";
      if (!isFileUrl()) {
        window.localStorage.setItem("quarto-color-scheme", value);
      } else {
        localAlternateSentinel = value;
      }
    }
    const getColorSchemeSentinel = () => {
      if (!isFileUrl()) {
        const storageValue = window.localStorage.getItem("quarto-color-scheme");
        return storageValue != null ? storageValue : localAlternateSentinel;
      } else {
        return localAlternateSentinel;
      }
    }
    const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
      const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
      const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
      let newTheme = '';
      if(darkModeDefault) {
        newTheme = isAlternate ? baseTheme : alternateTheme;
      } else {
        newTheme = isAlternate ? alternateTheme : baseTheme;
      }
      const changeGiscusTheme = () => {
        // From: https://github.com/giscus/giscus/issues/336
        const sendMessage = (message) => {
          const iframe = document.querySelector('iframe.giscus-frame');
          if (!iframe) return;
          iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
        }
        sendMessage({
          setConfig: {
            theme: newTheme
          }
        });
      }
      const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
      if (isGiscussLoaded) {
        changeGiscusTheme();
      }
    };
    const darkModeDefault = false;
      document.querySelector('link#quarto-text-highlighting-styles.quarto-color-scheme-extra').rel = 'disabled-stylesheet';
      document.querySelector('link#quarto-bootstrap.quarto-color-scheme-extra').rel = 'disabled-stylesheet';
    let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
    // Dark / light mode switch
    window.quartoToggleColorScheme = () => {
      // Read the current dark / light value
      let toAlternate = !window.hasAlternateSentinel();
      toggleColorMode(toAlternate);
      setStyleSentinel(toAlternate);
      toggleGiscusIfUsed(toAlternate, darkModeDefault);
    };
    // Switch to dark mode if need be
    if (window.hasAlternateSentinel()) {
      toggleColorMode(true);
    } else {
      toggleColorMode(false);
    }
  </script>

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./10_Dataviz.html"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">The Gramma<code>R</code> of Graphics</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Data Analysis for the<br>Language Sciences</a> 
        <div class="sidebar-tools-main tools-wide">
    <a href="mailto:elefoll@uni-koeln.de" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-envelope"></i></a>
    <a href="https://github.com/elenlefoll/RstatsTextbook/" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-github"></i></a>
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preface</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1_OpenScholarship.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Open Schola<code>R</code>ship</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./2_Data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Data files and formats</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./3_DataManagement.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Data management</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./4_InstallingR.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Installing <code>R</code> and RStudio</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./5_GettingStaRted.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Getting sta<code>R</code>ted in <code>R</code></span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./6_ImpoRtingData.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Impo<code>R</code>ting data</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./7_VariablesFunctions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Va<code>R</code>iables and functions</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./8_DescriptiveStats.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Desc<code>R</code>iptive statistics</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./9_DataWrangling.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Data w<code>R</code>angling</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./10_Dataviz.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">The Gramma<code>R</code> of Graphics</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./11_InferentialStats.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Infe<code>R</code>ential statistics</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./12_LinearRegression.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Multiple linea<code>R</code> regression</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./13_LiterateProgramming.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Lite<code>R</code>ate programming in Quarto</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./99_references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">Case studies</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./CS_Poppy.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">‘Throw’ verbs in Spanish: Rep<code>R</code>oducing the results of a corpus linguistics study</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./CS_RoseGina.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">The semantics of emojis: Explo<code>R</code>ing the results of an experimental study</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true">
 <span class="menu-text">Appendices</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./A_FurtherResources.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">A</span>&nbsp; <span class="chapter-title">Next-step resources</span></span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#chapter-overview" id="toc-chapter-overview" class="nav-link active" data-scroll-target="#chapter-overview">Chapter overview</a></li>
  <li><a href="#set-up-and-data-import" id="toc-set-up-and-data-import" class="nav-link" data-scroll-target="#set-up-and-data-import">Set-up and data import</a></li>
  <li><a href="#sec-Syntax" id="toc-sec-Syntax" class="nav-link" data-scroll-target="#sec-Syntax"><span class="header-section-number">10.1</span> The syntax of graphics</a>
  <ul class="collapse">
  <li><a href="#sec-aes" id="toc-sec-aes" class="nav-link" data-scroll-target="#sec-aes"><span class="header-section-number">10.1.1</span> Aesthetics</a></li>
  <li><a href="#sec-geoms" id="toc-sec-geoms" class="nav-link" data-scroll-target="#sec-geoms"><span class="header-section-number">10.1.4</span> Geometries</a></li>
  <li><a href="#sec-StatsLabs" id="toc-sec-StatsLabs" class="nav-link" data-scroll-target="#sec-StatsLabs"><span class="header-section-number">10.1.5</span> Statistics and labels</a></li>
  <li><a href="#sec-ggplotData" id="toc-sec-ggplotData" class="nav-link" data-scroll-target="#sec-ggplotData"><span class="header-section-number">10.1.6</span> Data</a></li>
  <li><a href="#sec-facets" id="toc-sec-facets" class="nav-link" data-scroll-target="#sec-facets"><span class="header-section-number">10.1.7</span> Facets</a></li>
  <li><a href="#sec-scales" id="toc-sec-scales" class="nav-link" data-scroll-target="#sec-scales"><span class="header-section-number">10.1.8</span> Scales</a></li>
  <li><a href="#sec-themes" id="toc-sec-themes" class="nav-link" data-scroll-target="#sec-themes"><span class="header-section-number">10.1.9</span> Themes</a></li>
  <li><a href="#sec-coordinates" id="toc-sec-coordinates" class="nav-link" data-scroll-target="#sec-coordinates"><span class="header-section-number">10.1.10</span> Coordinates</a></li>
  </ul></li>
  <li><a href="#sec-Semantics" id="toc-sec-Semantics" class="nav-link" data-scroll-target="#sec-Semantics"><span class="header-section-number">10.2</span> The semantics of graphics</a>
  <ul class="collapse">
  <li><a href="#bar-plots" id="toc-bar-plots" class="nav-link" data-scroll-target="#bar-plots"><span class="header-section-number">10.2.1</span> Bar plots</a></li>
  <li><a href="#sec-histograms" id="toc-sec-histograms" class="nav-link" data-scroll-target="#sec-histograms"><span class="header-section-number">10.2.2</span> Histograms</a></li>
  <li><a href="#sec-Density" id="toc-sec-Density" class="nav-link" data-scroll-target="#sec-Density"><span class="header-section-number">10.2.3</span> Density plots</a></li>
  <li><a href="#boxplots" id="toc-boxplots" class="nav-link" data-scroll-target="#boxplots"><span class="header-section-number">10.2.4</span> Boxplots</a></li>
  <li><a href="#sec-Scatterplots" id="toc-sec-Scatterplots" class="nav-link" data-scroll-target="#sec-Scatterplots"><span class="header-section-number">10.2.5</span> Scatter plots</a></li>
  <li><a href="#word-clouds" id="toc-word-clouds" class="nav-link" data-scroll-target="#word-clouds"><span class="header-section-number">10.2.6</span> Word clouds</a></li>
  <li><a href="#sec-CombiningGeoms" id="toc-sec-CombiningGeoms" class="nav-link" data-scroll-target="#sec-CombiningGeoms"><span class="header-section-number">10.2.7</span> Complex plots</a></li>
  <li><a href="#sec-InteractivePlots" id="toc-sec-InteractivePlots" class="nav-link" data-scroll-target="#sec-InteractivePlots"><span class="header-section-number">10.2.8</span> Interactive plots</a></li>
  </ul></li>
  <li><a href="#sec-ExploringPlots" id="toc-sec-ExploringPlots" class="nav-link" data-scroll-target="#sec-ExploringPlots"><span class="header-section-number">10.3</span> Exporting plots 🚀</a>
  <ul class="collapse">
  <li><a href="#check-your-progress" id="toc-check-your-progress" class="nav-link" data-scroll-target="#check-your-progress">Check your progress 🌟</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content page-columns page-full" id="quarto-document-content">


<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span id="sec-DataViz" class="quarto-section-identifier"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">The Gramma<code>R</code> of Graphics</span></span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Warning
</div>
</div>
<div class="callout-body-container callout-body">
<p>As with the rest of this textbook (see <a href="https://elenlefoll.github.io/RstatsTextbook/">Preface</a>), this chapter is very much <strong>work in progress</strong>. All feedback is very welcome.</p>
</div>
</div>
<p>One of the advantages of working in <code>R</code> is that it allows us to create highly customised graphs for effective data visualisation. The <strong>Grammar of Graphics</strong> <span class="citation" data-cites="wilkinsonGrammarGraphics2005">(<a href="99_references.html#ref-wilkinsonGrammarGraphics2005" role="doc-biblioref">Wilkinson 2005</a>)</span> is a theoretical framework that defines a structured approach to building and understanding statistical graphs. We will focus on using the tidyverse package <a href="https://ggplot2.tidyverse.org/">{ggplot2}</a> <span class="citation" data-cites="Wickhamggplot2Elegantgraphics2016">(<a href="99_references.html#ref-Wickhamggplot2Elegantgraphics2016" role="doc-biblioref">Wickham 2016</a>)</span> to create effective data visualisations. The {ggplot2} is an implementation of the Grammar of Graphics (GG) syntax in <code>R</code>.</p>

<div class="no-row-height column-margin column-container"><div class="">
<div id="fig-hexggplot2" class="quarto-float quarto-figure quarto-figure-center anchored" alt="The hexagonal logo of the ggplot2 package features a graph with dots that are connected by a line.">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-hexggplot2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="images/hex_ggplot2.png" class="lightbox" data-gallery="quarto-lightbox-gallery-1" title="Figure&nbsp;10.1: Hex sticker of the {ggplot2} package"><img src="images/hex_ggplot2.png" class="img-fluid figure-img" alt="The hexagonal logo of the ggplot2 package features a graph with dots that are connected by a line." width="100"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-hexggplot2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;10.1: Hex sticker of the <a href="https://ggplot2.tidyverse.org/">{ggplot2}</a> package
</figcaption>
</figure>
</div>
</div></div><p>This chapter is divided into two parts: the first explains the <a href="https://elenlefoll.github.io/RstatsTextbook/10_Dataviz.html#sec-Syntax"><strong>syntax</strong></a> of the Grammar of Graphics <span class="citation" data-cites="wilkinsonGrammarGraphics2005">(<a href="99_references.html#ref-wilkinsonGrammarGraphics2005" role="doc-biblioref">Wilkinson 2005</a>)</span> and how the {ggplot2} package works, while the second part focuses on the <a href="https://elenlefoll.github.io/RstatsTextbook/10_Dataviz.html#sec-Semantics"><strong>semantics</strong></a> of statistical graphics and provides an introduction to the many different types of data visualisations that can be created using the package.</p>
<section id="chapter-overview" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="chapter-overview">Chapter overview</h3>
<p>In this chapter, you will learn how to:</p>
<ul>
<li>Create and interpret bar plots to visualise categorical variables.</li>
<li>Create and interpret histograms, density plots, and violin plots to visualise continuous numeric variables.</li>
<li>Create and interpret boxplots to visualise the distribution of continuous numeric variables across different subsets of the data.</li>
<li>Create and interpret scatter plots to visualise correlations between pairs of numeric variables.</li>
<li>Create and interpret facetted plots to explore the relationship between three or more variables at once.</li>
<li>Create interactive plots for data exploration.</li>
</ul>
<div id="fig-DataArtists" class="quarto-float quarto-figure quarto-figure-center anchored" alt="A fuzzy monster in a beret and scarf, critiquing their own column graph on a canvas in front of them while other assistant monsters (also in berets) carry over boxes full of elements that can be used to customize a graph (like themes and geometric shapes). In the background is a wall with framed data visualizations. Stylized text reads: ggplot2: build a data masterpiece.">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-DataArtists-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="images/AHorst_ggplot2.png" class="lightbox" data-gallery="quarto-lightbox-gallery-2" title="Figure&nbsp;10.2: Building a data masterpiece with {ggplot2} (artwork by @allison_horst)"><img src="images/AHorst_ggplot2.png" class="img-fluid figure-img" alt="A fuzzy monster in a beret and scarf, critiquing their own column graph on a canvas in front of them while other assistant monsters (also in berets) carry over boxes full of elements that can be used to customize a graph (like themes and geometric shapes). In the background is a wall with framed data visualizations. Stylized text reads: ggplot2: build a data masterpiece."></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-DataArtists-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;10.2: Building a data masterpiece with {ggplot2} (artwork by <a href="https://allisonhorst.com/">@allison_horst</a>)
</figcaption>
</figure>
</div>
</section>
<section id="set-up-and-data-import" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="set-up-and-data-import">Set-up and data import</h3>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Prerequisites
</div>
</div>
<div class="callout-body-container callout-body">
<p>This chapter assumes that you are familiar with the concepts of descriptive statistics explained in <a href="8_DescriptiveStats.html" class="quarto-xref"><span>Chapter 8</span></a>, and the use of the data wrangling functions introduced in <a href="9_DataWrangling.html" class="quarto-xref"><span>Chapter 9</span></a>.</p>
<p>All examples, tasks, and quiz questions are based on data from:</p>
<blockquote class="blockquote">
<p>Dąbrowska, Ewa. 2019. Experience, Aptitude, and Individual Differences in Linguistic Attainment: A Comparison of Native and Nonnative Speakers. Language Learning 69(S1). 72-100. <a href="https://doi.org/10.1111/lang.12323" class="uri">https://doi.org/10.1111/lang.12323</a>.</p>
</blockquote>
<p>Our starting point for this chapter is the wrangled combined dataset that we created and saved in <a href="9_DataWrangling.html" class="quarto-xref"><span>Chapter 9</span></a>. Follow the instructions in this chapter to create this <code>R</code> object or download <code>combined_L1_L2_data.rds</code> from <a href="https://github.com/elenlefoll/RstatsTextbook/blob/main/data/processed/combined_L1_L2_data.rds" class="uri">the textbook’s GitHub repository</a>.</p>
</div>
</div>
<p>Before we begin, we must load the <code>combined_L1_L2_data.rds</code> file that we created and saved in <a href="9_DataWrangling.html" class="quarto-xref"><span>Chapter 9</span></a>. This file contains the data of all the L1 and L2 participants of <span class="citation" data-cites="DabrowskaExperienceAptitudeIndividual2019">Dąbrowska (<a href="99_references.html#ref-DabrowskaExperienceAptitudeIndividual2019" role="doc-biblioref">2019</a>)</span>. The categorical variables are stored as factors and obvious data entry inconsistencies and typos have been corrected (see <a href="9_DataWrangling.html" class="quarto-xref"><span>Chapter 9</span></a>).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(here)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>Dabrowska.data <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="at">file =</span> <span class="fu">here</span>(<span class="st">"data"</span>, <span class="st">"processed"</span>, <span class="st">"combined_L1_L2_data.rds"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Check that your data is correctly imported by examining the output of <code>View(Dabrowska.data)</code> and <code>str(Dabrowska.data)</code>. Once you are satisfied that that’s the case, we ready to get creative! 🎨</p>
</section>
<section id="sec-Syntax" class="level2" data-number="10.1">
<h2 data-number="10.1" class="anchored" data-anchor-id="sec-Syntax"><span class="header-section-number">10.1</span> The syntax of graphics</h2>
<p>The syntax of the Grammar of Graphics <span class="citation" data-cites="wilkinsonGrammarGraphics2005">(<a href="99_references.html#ref-wilkinsonGrammarGraphics2005" role="doc-biblioref">Wilkinson 2005</a>)</span> is made up of <strong>layers</strong> (<a href="#fig-layers" class="quarto-xref">Figure&nbsp;<span>10.3</span></a>), which allow us to create highly effective and efficient data visualisations, while giving us lots of flexibility and control.</p>
<div id="fig-layers" class="quarto-float quarto-figure quarto-figure-center anchored" alt="A layered diagram illustrating the key elements of data visualization: Data, Aesthetics, Geometries, Facets, Statistics, Coordinates, and Theme, each shown as a layer with a distinct colour.">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-layers-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="images/gglayers.png" class="lightbox" data-gallery="quarto-lightbox-gallery-3" title="Figure&nbsp;10.3: The syntax of the Grammar of Graphics as visualised in the QCBS R Workshop Series (CC-BY-NC-SA)."><img src="images/gglayers.png" class="img-fluid figure-img" alt="A layered diagram illustrating the key elements of data visualization: Data, Aesthetics, Geometries, Facets, Statistics, Coordinates, and Theme, each shown as a layer with a distinct colour." width="559"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-layers-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;10.3: The syntax of the Grammar of Graphics as visualised in the <a href="https://r.qcbs.ca/workshop03/book-en/grammar-of-graphics-gg-basics.html">QCBS R Workshop Series</a> (CC-BY-NC-SA).
</figcaption>
</figure>
</div>
<p>The <strong>data</strong> layer and the <strong>aesthetics</strong> layer are compulsory as you cannot build a graph that does not map <em>some</em> data onto <em>some</em> visual aspect (= aesthetic) of a graph. The remaining layers are optional, but some are very important. In the following, we will explain how the <strong>geometries</strong>, <strong>facet</strong>, <strong>scales</strong>, <strong>coordinates</strong>, and <strong>theme</strong> layers are used to build and customise graphs using the {ggplot2} library in <code>R</code>.</p>
<section id="sec-aes" class="level3" data-number="10.1.1">
<h3 data-number="10.1.1" class="anchored" data-anchor-id="sec-aes"><span class="header-section-number">10.1.1</span> Aesthetics</h3>
<p>As explained in the documentation, the <code>ggplot()</code> function<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a> has two compulsory arguments. First, we must select the <strong>data</strong> that we want to visualise. Second, we must specify which variable(s) from the data should be mapped onto which visual property or <strong>aesthetics</strong> (short: <code>aes</code>) of the plot.</p>
<blockquote class="blockquote">
<table class="caption-top table">
<tbody>
<tr class="odd">
<td>ggplot {ggplot2}</td>
<td>R Documentation</td>
</tr>
</tbody>
</table>
<h3 id="description" data-number="10.1.2" class="anchored"><span class="header-section-number">10.1.2</span> Description</h3>
<p><code>ggplot()</code> initializes a ggplot object. It can be used to declare the input data frame for a graphic and to specify the set of plot aesthetics intended to be common throughout all subsequent layers unless specifically overridden.</p>
<h3 id="usage" data-number="10.1.3" class="anchored"><span class="header-section-number">10.1.3</span> Usage</h3>
<pre data-code-line-numbers=""><code>ggplot(data = NULL, mapping = aes(), ...)</code></pre>
</blockquote>
<p>For example, to create a bar plot visualising the distribution of participants’ occupational groups in the combined dataset from <span class="citation" data-cites="DabrowskaExperienceAptitudeIndividual2019">Dąbrowska (<a href="99_references.html#ref-DabrowskaExperienceAptitudeIndividual2019" role="doc-biblioref">2019</a>)</span> (<code>Dabrowska.data</code>), we need to map the <code>OccupGroup</code> variable from <code>Dabrowska.data</code> onto our plot’s <em>x-</em>axis (<code>x</code>).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> Dabrowska.data,</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>       <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> OccupGroup))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-EmptyBarplot" class="quarto-float quarto-figure quarto-figure-center anchored" alt="An empty plot with the x-axis labeled OccupGroup and four group labels: C, I, M, and PS. No data is shown.">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-EmptyBarplot-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="10_Dataviz_files/figure-html/fig-EmptyBarplot-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-4" title="Figure&nbsp;10.4: Attempt to plot the distribution of participants’ occupational groups in Dąbrowska (2019)"><img src="10_Dataviz_files/figure-html/fig-EmptyBarplot-1.png" class="img-fluid figure-img" alt="An empty plot with the x-axis labeled OccupGroup and four group labels: C, I, M, and PS. No data is shown." width="576"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-EmptyBarplot-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;10.4: Attempt to plot the distribution of participants’ occupational groups in Dąbrowska (2019)
</figcaption>
</figure>
</div>
</div>
</div>
<p>As you can see from <a href="#fig-EmptyBarplot" class="quarto-xref">Figure&nbsp;<span>10.4</span></a>, however, running this code returns an empty plot: All we get is a grid background and a nicely labelled <em>x-</em>axis, but no data… Why might that be? &nbsp;🤔</p>
</section>
<section id="sec-geoms" class="level3" data-number="10.1.4">
<h3 data-number="10.1.4" class="anchored" data-anchor-id="sec-geoms"><span class="header-section-number">10.1.4</span> Geometries</h3>
<p>The reason we are not seeing any data is that we have not yet specified with which kind of <strong>geometry</strong> (short: <strong>geom</strong>) we would like to plot the data. The {ggplot2} library features more than 30 different geom functions! They all begin with the prefix <code>geom_</code>. To create a bar plot showing participants’ occupational groups, we need to add a <code>geom_bar()</code> <strong>layer</strong> to our empty <code>ggplot</code> object (see <a href="#fig-barplot1" class="quarto-xref">Figure&nbsp;<span>10.5</span></a>).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> Dabrowska.data,</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>       <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> OccupGroup)) <span class="sc">+</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-barplot1" class="quarto-float quarto-figure quarto-figure-center anchored" alt="A bar plot showing the number of various occupational groups. The x-axis is labeled as OccupGroup and represents different occupation categories: C, I, M, and PS, with PS having the highest count of them all. The y-axis represents the number of individuals in each group and is labeled as count.">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-barplot1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="10_Dataviz_files/figure-html/fig-barplot1-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-5" title="Figure&nbsp;10.5: Distribution of participants’ occupational groups (C = clerical position, I = inactive (i.e., unemployed, retired, or homemakers), M = manual jobs, PS = professional-level job or studying for a degree)"><img src="10_Dataviz_files/figure-html/fig-barplot1-1.png" class="img-fluid figure-img" alt="A bar plot showing the number of various occupational groups. The x-axis is labeled as OccupGroup and represents different occupation categories: C, I, M, and PS, with PS having the highest count of them all. The y-axis represents the number of individuals in each group and is labeled as count." width="576"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-barplot1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;10.5: Distribution of participants’ occupational groups (C = clerical position, I = inactive (i.e., unemployed, retired, or homemakers), M = manual jobs, PS = professional-level job or studying for a degree)
</figcaption>
</figure>
</div>
</div>
</div>
<p>Note that we use the <code>+</code> operator to <em>add</em> layers to <code>ggplot</code> objects. If we try to use the pipe operator (<code>|&gt;</code>) <em>within</em> the <code>ggplot()</code> function, we will get an error message.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> Dabrowska.data,</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>       <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> OccupGroup)) <span class="sc">|&gt;</span> </span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<pre data-code-line-numbers=""><code>Error in `geom_bar()`: 
! `mapping` must be created by `aes()`. 
ℹ Did you use `%&gt;%` or `|&gt;` instead of `+`? 
Run `rlang::last_trace()` to see where the error occurred.</code></pre>
</section>
<section id="sec-StatsLabs" class="level3" data-number="10.1.5">
<h3 data-number="10.1.5" class="anchored" data-anchor-id="sec-StatsLabs"><span class="header-section-number">10.1.5</span> Statistics and labels</h3>
<p>We now have a simple bar plot that represents the distribution of participants’ occupational groups in <span class="citation" data-cites="DabrowskaExperienceAptitudeIndividual2019">Dąbrowska (<a href="99_references.html#ref-DabrowskaExperienceAptitudeIndividual2019" role="doc-biblioref">2019</a>)</span>. By default, the axis labels are simply the names of the variables that are mapped onto the plot’s aesthetics. That’s why, in <a href="#fig-barplot1" class="quarto-xref">Figure&nbsp;<span>10.5</span></a>, our <em>x</em>-axis is labelled “OccupGroup”.</p>
<p>What about the <em>y</em>-axis? We did not specify a <em>y</em>-aesthetic within the mapping argument of our <code>ggplot()</code> object, yet the <em>y</em>-axis is labelled “count”. This is because <code>geom_bar()</code> automatically computes a “count” <strong>statistic</strong> that gets mapped to the <em>y</em>-aesthetic.</p>
<p>If we want to change these axis labels, we can do so by adding a <code>labs()</code> <strong>layer</strong> to our plot (see <a href="#fig-BarOccupGroup" class="quarto-xref">Figure&nbsp;<span>10.6</span></a>).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> Dabrowska.data,</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>       <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> OccupGroup)) <span class="sc">+</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>() <span class="sc">+</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Occupational group"</span>,</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Number of participants"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-BarOccupGroup" class="quarto-float quarto-figure quarto-figure-center anchored" alt="This is the same bar plot as above. The only difference is that the x-axis is labeled as Occupational group and the y-axis is labeled as Number of participants.">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-BarOccupGroup-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="10_Dataviz_files/figure-html/fig-BarOccupGroup-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-6" title="Figure&nbsp;10.6: Distribution of participants’ occupational groups (C = clerical position, I = inactive (i.e., unemployed, retired, or homemakers), M = manual jobs, PS = professional-level job or studying for a degree)"><img src="10_Dataviz_files/figure-html/fig-BarOccupGroup-1.png" class="img-fluid figure-img" alt="This is the same bar plot as above. The only difference is that the x-axis is labeled as Occupational group and the y-axis is labeled as Number of participants." width="576"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-BarOccupGroup-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;10.6: Distribution of participants’ occupational groups (C = clerical position, I = inactive (i.e., unemployed, retired, or homemakers), M = manual jobs, PS = professional-level job or studying for a degree)
</figcaption>
</figure>
</div>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Quiz time!
</div>
</div>
<div class="callout-body-container callout-body">
<p><span style="color:green;"><strong>Q10.1</strong></span> Which of the following labels can be added or modified using the <code>labs()</code> function?</p>
<div class="cell">
<div class="cell-output-display">
<form name="form_94946" onsubmit="return validate_form_94946()" method="post">
<input type="checkbox" id="answer_94946_1" value="plot alt-text">
<label>plot alt-text</label>
<br>
<input type="checkbox" id="answer_94946_2" value="y-axis label">
<label>y-axis label</label>
<br>
<input type="checkbox" id="answer_94946_3" value="plot subtitle">
<label>plot subtitle</label>
<br>
<input type="checkbox" id="answer_94946_4" value="plot caption">
<label>plot caption</label>
<br>
<input type="checkbox" id="answer_94946_5" value="plot title">
<label>plot title</label>
<br>
<input type="checkbox" id="answer_94946_6" value="x-axis label">
<label>x-axis label</label>
<br>
<input type="submit" value="Check answer">
<div id="result_94946"></div>
</form>
<script>function validate_form_94946() {var text; var x1 = document.getElementById('answer_94946_1'); var x2 = document.getElementById('answer_94946_2'); var x3 = document.getElementById('answer_94946_3'); var x4 = document.getElementById('answer_94946_4'); var x5 = document.getElementById('answer_94946_5'); var x6 = document.getElementById('answer_94946_6'); if (x1.checked == true&x2.checked == true&x3.checked == true&x4.checked == true&x5.checked == true&x6.checked == true){text = 'That’s right and there are many more possibilities. For instance, it’s also possible to change the title of a plot’s legend using the labs() function.';} else {text = 'No, there are more labels that can be ammended.';} document.getElementById('result_94946').innerHTML = text; evaluate_final_score(); return false;}function evaluate_final_score(){
         element = document.getElementById('checkdown_final_score');
         if(element === null){return false;} else {var element, text, res1;res1 = document.getElementById('result_94946').innerText == 'That’s right and there are many more possibilities. For instance, it’s also possible to change the title of a plot’s legend using the labs() function.';text = res1;element.innerHTML = text;
         return false;
         }}</script>
</div>
<div class="cell-output-display">
<div id="hint_85513" onclick="return show_hint_85513()">🐭 Click on the mouse for a hint.</div>
<div id="result_85513" onclick="return show_hint_85513()"></div>
<script>function show_hint_85513(){var x = document.getElementById('result_85513').innerHTML; if(!x){document.getElementById('result_85513').innerHTML = 'Check out the function’s help file to find out more about its possibilities by entering ?labs in the Console.';} else {document.getElementById('result_85513').innerHTML = '';}}</script>
</div>
</div>
<p>&nbsp;</p>
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-4-contents" aria-controls="callout-4" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
What is alt-text and why is it important?
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-4" class="callout-4-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p><strong>Alt-text</strong>, or alternative text, is a concise description of an image used to make its informational content accessible to people with visual impairments. Using a screenreader programme, blind and visually impaired individuals can have the alt-text associated with an image read out to them.</p>
<p>A good alt-text aims to convey the main message and insights of the graph, allowing someone who cannot see it to understand the information being presented. In the context of online publications, alt-text is also useful in regions with low bandwidth as images may take a very long time to load. By including alt-text, we can therefore make our work more accessible and inclusive, enabling more people to engage with and understand our data and analyses.</p>
<!--#  To do @Elen: Add alt-text task related to a plot from Chapter 8.-->
</div>
</div>
</div>
</section>
<section id="sec-ggplotData" class="level3" data-number="10.1.6">
<h3 data-number="10.1.6" class="anchored" data-anchor-id="sec-ggplotData"><span class="header-section-number">10.1.6</span> Data</h3>
<p>Instead of using the <strong>data</strong> argument of the <code>ggplot()</code> function as we did above, we can <strong>pipe</strong> the data into the function’s first argument (see <a href="7_VariablesFunctions.html#sec-Piping" class="quarto-xref"><span>Section 7.5.2</span></a>). Compare these two methods and their outputs.</p>
<div class="columns">
<div class="column" style="width:48%;">
<p><strong>Using the data argument of <code>ggplot()</code></strong></p>
<div class="cell" data-source-line-numbers="1">
<div class="sourceCode cell-code" id="cb8" data-source-line-numbers="1" data-code-line-numbers="1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> Dabrowska.data,</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>       <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> OccupGroup))      <span class="sc">+</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>() <span class="sc">+</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Occupational group"</span>,</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Number of participants"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><a href="10_Dataviz_files/figure-html/unnamed-chunk-8-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-7"><img src="10_Dataviz_files/figure-html/unnamed-chunk-8-1.png" class="img-fluid figure-img" alt="This is the same bar plot as above." width="576"></a></p>
</figure>
</div>
</div>
</div>
</div><div class="column" style="width:4%;">
<!-- empty column to create gap -->
</div><div class="column" style="width:48%;">
<p><strong>Piping the data into <code>ggplot()</code></strong></p>
<div class="cell" data-source-line-numbers="1">
<div class="sourceCode cell-code" id="cb9" data-source-line-numbers="1" data-code-line-numbers="1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>Dabrowska.data <span class="sc">|&gt;</span> </span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> OccupGroup)) <span class="sc">+</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>() <span class="sc">+</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Occupational group"</span>,</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Number of participants"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><a href="10_Dataviz_files/figure-html/unnamed-chunk-9-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-8"><img src="10_Dataviz_files/figure-html/unnamed-chunk-9-1.png" class="img-fluid figure-img" alt="This is the same bar plot as above." width="576"></a></p>
</figure>
</div>
</div>
</div>
</div>
</div>
<p>You should have realised that the outputs are exactly the same. Piping the dataset into the <code>ggplot()</code> function, however, allows us to easily wrangle the data that we want to visualise ‘on the fly’, without transforming the data object itself. For example, we can use the tidyverse <code>filter()</code> function (see <a href="9_DataWrangling.html#sec-filter" class="quarto-xref"><span>Section 9.8</span></a>) to examine the distribution of occupational groups among L2 participants only (see <a href="#fig-BarOccupGroupL2" class="quarto-xref">Figure&nbsp;<span>10.7</span></a>).</p>
<div class="cell" data-source-line-numbers="2,7">
<div class="sourceCode cell-code" id="cb10" data-source-line-numbers="2,7" data-code-line-numbers="2,7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>Dabrowska.data <span class="sc">|&gt;</span> </span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Group <span class="sc">==</span> <span class="st">"L2"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> OccupGroup)) <span class="sc">+</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>() <span class="sc">+</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Occupational group"</span>,</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Number of participants"</span>,</span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">title =</span> <span class="st">"Occupational groups of L2 participants"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-BarOccupGroupL2" class="quarto-float quarto-figure quarto-figure-center anchored" width="576" alt="Bar plot with the title of Occupational groups of L2 participants showing the distribution of L2 participants' occupational group. The x-axis is labeled as Occupational group with PS having the highest count, and the y-axis is labeled as Number of participants.">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-BarOccupGroupL2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="10_Dataviz_files/figure-html/fig-BarOccupGroupL2-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-9" title="Figure&nbsp;10.7: "><img src="10_Dataviz_files/figure-html/fig-BarOccupGroupL2-1.png" id="fig-BarOccupGroupL2" class="img-fluid figure-img" alt="Bar plot with the title of Occupational groups of L2 participants showing the distribution of L2 participants' occupational group. The x-axis is labeled as Occupational group with PS having the highest count, and the y-axis is labeled as Number of participants." width="576"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig quarto-uncaptioned" id="fig-BarOccupGroupL2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;10.7
</figcaption>
</figure>
</div>
</div>
</div>
<p>We can also combine several <code>filter()</code> conditions using the <code>&amp;</code> (AND) and <code>|</code> (OR) operators. For example, we may want to visualise the distribution of the occupational groups of participants who are L2 speakers of English <em>and</em> whose first language is Polish (see <a href="#fig-BarOccupGroupL2Polish" class="quarto-xref">Figure&nbsp;<span>10.8</span></a>).</p>
<div class="cell" data-source-line-numbers="2,7">
<div class="sourceCode cell-code" id="cb11" data-source-line-numbers="2,7" data-code-line-numbers="2,7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>Dabrowska.data <span class="sc">|&gt;</span> </span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Group <span class="sc">==</span> <span class="st">"L2"</span> <span class="sc">&amp;</span> NativeLg <span class="sc">==</span> <span class="st">"Polish"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> OccupGroup)) <span class="sc">+</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>() <span class="sc">+</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Occupational group"</span>,</span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Number of participants"</span>,</span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">title =</span> <span class="st">"Occupational groups of Polish L2 participants"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-BarOccupGroupL2Polish" class="quarto-float quarto-figure quarto-figure-center anchored" width="576" alt="Bar plot showing the number of Polish L2 participants across occupational groups C, I, M, and PS, with M having the highest count. The x-axis and the y-axis are labeled as the plot above. The title of the plot is Occupational groups of Polish L2 participants.">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-BarOccupGroupL2Polish-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="10_Dataviz_files/figure-html/fig-BarOccupGroupL2Polish-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-10" title="Figure&nbsp;10.8: "><img src="10_Dataviz_files/figure-html/fig-BarOccupGroupL2Polish-1.png" id="fig-BarOccupGroupL2Polish" class="img-fluid figure-img" alt="Bar plot showing the number of Polish L2 participants across occupational groups C, I, M, and PS, with M having the highest count. The x-axis and the y-axis are labeled as the plot above. The title of the plot is Occupational groups of Polish L2 participants." width="576"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig quarto-uncaptioned" id="fig-BarOccupGroupL2Polish-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;10.8
</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="sec-facets" class="level3" data-number="10.1.7">
<h3 data-number="10.1.7" class="anchored" data-anchor-id="sec-facets"><span class="header-section-number">10.1.7</span> Facets</h3>
<p>If we want to compare two subsets of the data, we can add a <strong>facet layer</strong> to subdivide the plot into several plots each representing a subset of the data. In the following, we use the <code>facet_wrap()</code> function to subdivide our bar plot by the <code>Group</code> variable (<code>~ Group</code>). This allows us to easily compare the distribution of occupations across L1 and the L2 participants (see <a href="#fig-BarOccupGroupFacet" class="quarto-xref">Figure&nbsp;<span>10.9</span></a>).</p>
<div class="cell" data-source-line-numbers="4">
<div class="sourceCode cell-code" id="cb12" data-source-line-numbers="4" data-code-line-numbers="4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>Dabrowska.data <span class="sc">|&gt;</span> </span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> OccupGroup)) <span class="sc">+</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>() <span class="sc">+</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> Group) <span class="sc">+</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Occupational group"</span>,</span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Number of participants"</span>,</span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">title =</span> <span class="st">"Occupational groups of participants"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-BarOccupGroupFacet" class="quarto-float quarto-figure quarto-figure-center anchored" width="576" alt="Bar plot titled Occupational groups of participants showing the number of participants in four occupational groups for two categories, L1 and L2. The plot is divided into two panels: in the L1 group, the number of participants is roughly equal across all occupations, ranging from about 20 to 25. In the L2 group, PS has the highest number of participants at over 30, followed by M and C, while I has the fewest participants.">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-BarOccupGroupFacet-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="10_Dataviz_files/figure-html/fig-BarOccupGroupFacet-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-11" title="Figure&nbsp;10.9: "><img src="10_Dataviz_files/figure-html/fig-BarOccupGroupFacet-1.png" id="fig-BarOccupGroupFacet" class="img-fluid figure-img" alt="Bar plot titled Occupational groups of participants showing the number of participants in four occupational groups for two categories, L1 and L2. The plot is divided into two panels: in the L1 group, the number of participants is roughly equal across all occupations, ranging from about 20 to 25. In the L2 group, PS has the highest number of participants at over 30, followed by M and C, while I has the fewest participants." width="576"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig quarto-uncaptioned" id="fig-BarOccupGroupFacet-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;10.9
</figcaption>
</figure>
</div>
</div>
</div>
<p>To compare the distributions of occupations of the male and female L2 participants, we can combine a <code>filter()</code> operation to select only the L2 participants, with a <code>facet_wrap()</code> layer (see <a href="#fig-BarOccupGroupL2Facet" class="quarto-xref">Figure&nbsp;<span>10.10</span></a>).</p>
<div class="cell" data-source-line-numbers="2,5">
<div class="sourceCode cell-code" id="cb13" data-source-line-numbers="2,5" data-code-line-numbers="2,5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>Dabrowska.data <span class="sc">|&gt;</span> </span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Group <span class="sc">==</span> <span class="st">"L2"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> OccupGroup)) <span class="sc">+</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>() <span class="sc">+</span></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> Gender) <span class="sc">+</span></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Occupational group"</span>,</span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Participants"</span>,</span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>       <span class="at">title =</span> <span class="st">"Occupational groups of L2 participants"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-BarOccupGroupL2Facet" class="quarto-float quarto-figure quarto-figure-center anchored" width="576" alt="Bar plot titled Occupational groups of L2 participants showing the number of female and male participants across four occupational groups. The plot is divided into two panels: F and M. In both the highest number belongs to the group PS.">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-BarOccupGroupL2Facet-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="10_Dataviz_files/figure-html/fig-BarOccupGroupL2Facet-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-12" title="Figure&nbsp;10.10: "><img src="10_Dataviz_files/figure-html/fig-BarOccupGroupL2Facet-1.png" id="fig-BarOccupGroupL2Facet" class="img-fluid figure-img" alt="Bar plot titled Occupational groups of L2 participants showing the number of female and male participants across four occupational groups. The plot is divided into two panels: F and M. In both the highest number belongs to the group PS." width="576"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig quarto-uncaptioned" id="fig-BarOccupGroupL2Facet-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;10.10
</figcaption>
</figure>
</div>
</div>
</div>
<p>To explore potential gender differences in occupational groups across both L1 and L2 groups, we can combine the two variables within the <code>facet_wrap()</code> function (see <a href="#fig-TwoFacetsBarplot" class="quarto-xref">Figure&nbsp;<span>10.11</span></a>).</p>
<div class="cell" data-source-line-numbers="4">
<div class="sourceCode cell-code" id="cb14" data-source-line-numbers="4" data-code-line-numbers="4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>Dabrowska.data <span class="sc">|&gt;</span> </span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> OccupGroup)) <span class="sc">+</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>() <span class="sc">+</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> Group <span class="sc">+</span> Gender) <span class="sc">+</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Occupational group"</span>,</span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Participants"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-TwoFacetsBarplot" class="quarto-float quarto-figure quarto-figure-center anchored" width="576" alt="Bar plot showing the number of participants across four occupational groups, split by language group (L1 and L2) and gender (F and M). The plot has four panels. L1 Female participant counts are relatively even across groups, with the highest in PS. In L2 Female panel a large number of participants are in the PS group, in L1 Male panel all occupational groups have similar participant counts, and in L2 Male panel PS and M have the highest counts.">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-TwoFacetsBarplot-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="10_Dataviz_files/figure-html/fig-TwoFacetsBarplot-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-13" title="Figure&nbsp;10.11: "><img src="10_Dataviz_files/figure-html/fig-TwoFacetsBarplot-1.png" id="fig-TwoFacetsBarplot" class="img-fluid figure-img" alt="Bar plot showing the number of participants across four occupational groups, split by language group (L1 and L2) and gender (F and M). The plot has four panels. L1 Female participant counts are relatively even across groups, with the highest in PS. In L2 Female panel a large number of participants are in the PS group, in L1 Male panel all occupational groups have similar participant counts, and in L2 Male panel PS and M have the highest counts." width="576"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig quarto-uncaptioned" id="fig-TwoFacetsBarplot-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;10.11
</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="sec-scales" class="level3" data-number="10.1.8">
<h3 data-number="10.1.8" class="anchored" data-anchor-id="sec-scales"><span class="header-section-number">10.1.8</span> Scales</h3>
<p><strong>Scale</strong> layers allow us to map data values to the visual values of an aesthetic. For example, to make our facetted plot in <a href="#fig-TwoFacetsBarplot" class="quarto-xref">Figure&nbsp;<span>10.11</span></a> easier to read, we could add some colour using a <strong>fill</strong> aesthetic to fill each bar with a colour that corresponds to the participants’ gender. To do so, we map each unique value of the variable <code>Gender</code> (“F” and “M”) onto a colour that is then used to fill the corresponding bars of our bar plot. Adding the <strong>fill</strong> aesthetic automatically generates a legend (see <a href="#fig-ColourBarplot" class="quarto-xref">Figure&nbsp;<span>10.12</span></a>).</p>
<div class="cell" data-source-line-numbers="3">
<div class="sourceCode cell-code" id="cb15" data-source-line-numbers="3" data-code-line-numbers="3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>Dabrowska.data <span class="sc">|&gt;</span> </span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> OccupGroup, </span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>                       <span class="at">fill =</span> Gender)) <span class="sc">+</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>() <span class="sc">+</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> Group <span class="sc">+</span> Gender) <span class="sc">+</span></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Occupational group"</span>,</span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Participants"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-ColourBarplot" class="quarto-float quarto-figure quarto-figure-center anchored" width="576" alt="This is the same plot as above. The only difference is that the bars in the two F panels are in the colour light red, and the bars in the two M panels are in the colour blue. There is a legend titled Gender on the right side of the plot that shows which colour shows which category.">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-ColourBarplot-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="10_Dataviz_files/figure-html/fig-ColourBarplot-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-14" title="Figure&nbsp;10.12: "><img src="10_Dataviz_files/figure-html/fig-ColourBarplot-1.png" id="fig-ColourBarplot" class="img-fluid figure-img" alt="This is the same plot as above. The only difference is that the bars in the two F panels are in the colour light red, and the bars in the two M panels are in the colour blue. There is a legend titled Gender on the right side of the plot that shows which colour shows which category." width="576"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig quarto-uncaptioned" id="fig-ColourBarplot-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;10.12
</figcaption>
</figure>
</div>
</div>
</div>
<p>As we did not specify any <strong>fill</strong> colours for <a href="#fig-ColourBarplot" class="quarto-xref">Figure&nbsp;<span>10.12</span></a>, {ggplot2} used default colours taken from the {scales} package of the tidyverse environment. This is because, in the Grammar of Graphics, colour palettes are governed by <strong>scales</strong>. To specify a different set of colours, we therefore need to specify a <strong>scale layer</strong>.</p>
<p>One way to do this is to use <code>scale_fill_manual()</code> to manually pick our own colours, either using <a href="https://r-charts.com/colors/"><code>R</code> colour codes</a> (such as <code>purple</code>) or <a href="https://www.w3schools.com/colors/colors_picker.asp">hexadecimal colour codes</a> (such as <code>#34027d</code>). Note that both types of colour codes must be enclosed in quotation marks.</p>
<div class="cell" data-source-line-numbers="3,8">
<div class="sourceCode cell-code" id="cb16" data-source-line-numbers="3,8" data-code-line-numbers="3,8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>Dabrowska.data <span class="sc">|&gt;</span> </span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> OccupGroup, </span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>                       <span class="at">fill =</span> Gender)) <span class="sc">+</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>() <span class="sc">+</span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> Group <span class="sc">+</span> Gender) <span class="sc">+</span></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Occupational group"</span>,</span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Participants"</span>) <span class="sc">+</span></span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"purple"</span>, <span class="st">"#34027d"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-PurpleBarplot" class="quarto-float quarto-figure quarto-figure-center anchored" alt="This is the same plot as above. The only difference is that the bars in the two F panels are in the colour light purple, and the bars in the two M panels are in the dark purple.">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-PurpleBarplot-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="10_Dataviz_files/figure-html/fig-PurpleBarplot-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-15" title="Figure&nbsp;10.13: A facetted bar plot with hand-picked colours"><img src="10_Dataviz_files/figure-html/fig-PurpleBarplot-1.png" class="img-fluid figure-img" alt="This is the same plot as above. The only difference is that the bars in the two F panels are in the colour light purple, and the bars in the two M panels are in the dark purple." width="576"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-PurpleBarplot-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;10.13: A facetted bar plot with hand-picked colours
</figcaption>
</figure>
</div>
</div>
</div>
<p>Although it makes the plot easier to interpret, the colour aesthetic (here <code>fill</code>) is not strictly necessary to understand the data represented in <a href="#fig-PurpleBarplot" class="quarto-xref">Figure&nbsp;<span>10.13</span></a>. After all, the two <code>gender</code> subgroups are already distinguished by the <code>facet_wrap()</code> layer. That’s not necessarily a bad thing, but you must consider whether such redundant elements facilitate the interpretation of the data visualised or not.</p>
<p>In some cases, colour is used as the <em>only</em> way of identifying subgroups in the data, for example in a <strong>stacked bar plot</strong> (see <a href="#fig-ColourStackedBarplot" class="quarto-xref">Figure&nbsp;<span>10.14</span></a>). In such cases, it is important to consider how the plot will be perceived by different people (see note on colour blindness below).</p>
<div class="cell" data-source-line-numbers="3,5">
<div class="sourceCode cell-code" id="cb17" data-source-line-numbers="3,5" data-code-line-numbers="3,5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>Dabrowska.data <span class="sc">|&gt;</span> </span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> OccupGroup, </span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>                       <span class="at">fill =</span> Gender)) <span class="sc">+</span></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>() <span class="sc">+</span></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> Group) <span class="sc">+</span></span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Occupational group"</span>,</span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Participants"</span>) <span class="sc">+</span></span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"purple"</span>, <span class="st">"#34027d"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-ColourStackedBarplot" class="quarto-float quarto-figure quarto-figure-center anchored" alt="Bar plot showing the number of participants across four occupational groups, split by two language groups (L1 and L2). Each bar in this plot contains two colours: light purple representing female participants and dark purple representing male ones. There is a legend titled Gender on the right side of the plot.">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-ColourStackedBarplot-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="10_Dataviz_files/figure-html/fig-ColourStackedBarplot-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-16" title="Figure&nbsp;10.14: A stacked bar plot with hand-picked colours"><img src="10_Dataviz_files/figure-html/fig-ColourStackedBarplot-1.png" class="img-fluid figure-img" alt="Bar plot showing the number of participants across four occupational groups, split by two language groups (L1 and L2). Each bar in this plot contains two colours: light purple representing female participants and dark purple representing male ones. There is a legend titled Gender on the right side of the plot." width="576"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-ColourStackedBarplot-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;10.14: A stacked bar plot with hand-picked colours
</figcaption>
</figure>
</div>
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-6-contents" aria-controls="callout-6" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
A note on colours and colour blindness 🌈
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-6" class="callout-6-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Colour blindness is a condition that results in a decreased ability to see colours and perceive differences in colour. There are different types of colour blindness but, in general, it is best to avoid red-green contrasts. To ensure that your data visualisations are accessible to as many people as possible, you may want to use the <a href="https://cran.r-project.org/web/packages/colorBlindness/vignettes/colorBlindness.html">{colorBlindness}</a> package <span class="citation" data-cites="ouColorBlindnessSafeColor2021">(<a href="99_references.html#ref-ouColorBlindnessSafeColor2021" role="doc-biblioref">Ou 2021</a>)</span> to simulate the appearance of a set of colours for people with different forms of colour blindness.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb18" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="co">#install.packages("colorBlindness")</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(colorBlindness)</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>colorBlindness<span class="sc">::</span><span class="fu">displayAllColors</span>(scales<span class="sc">::</span><span class="fu">hue_pal</span>()(<span class="dv">6</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><a href="10_Dataviz_files/figure-html/unnamed-chunk-18-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-17"><img src="10_Dataviz_files/figure-html/unnamed-chunk-18-1.png" class="img-fluid figure-img" width="576"></a></p>
</figure>
</div>
</div>
</div>
<p>Using the {colorBlindness} package, we can immediately see that the default {scales} discrete palette that {ggplot2} used in <a href="#fig-ColourBarplot" class="quarto-xref">Figure&nbsp;<span>10.12</span></a> is not accessible to colour blind people (deuteranope and protanope), nor is it distinguishable when printed in grey-scale (desaturate). In contrast, our hand-picked colours from <a href="#fig-PurpleBarplot" class="quarto-xref">Figure&nbsp;<span>10.13</span></a> fare much better.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb19" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>colorBlindness<span class="sc">::</span><span class="fu">displayAllColors</span>(<span class="fu">c</span>(<span class="st">"pink"</span>, <span class="st">"#34027d"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><a href="10_Dataviz_files/figure-html/unnamed-chunk-19-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-18"><img src="10_Dataviz_files/figure-html/unnamed-chunk-19-1.png" class="img-fluid figure-img" width="576"></a></p>
</figure>
</div>
</div>
</div>
<p>But you need not manually pick colours, as many people have developed and shared <code>R</code> packages that feature attractive, ready-to-use colour-blind friendly palettes. The <a href="https://cran.r-project.org/web/packages/viridis/vignettes/intro-to-viridis.html">{viridis}</a> package <span class="citation" data-cites="garnierSjmgarnierViridisCRAN2023">(<a href="99_references.html#ref-garnierSjmgarnierViridisCRAN2023" role="doc-biblioref">Garnier et al. 2023</a>)</span>, for example, includes eight such palettes (“magma”, “inferno”, “plasma”, “cividis”, “rocket”, “turbo”) that also reproduce well in grey-scale. And, as it is included in the {ggplot2} installation, you don’t even need to install the {viridis} package separately!</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb20" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>colorBlindness<span class="sc">::</span><span class="fu">displayAllColors</span>(viridis<span class="sc">::</span><span class="fu">viridis</span>(<span class="dv">6</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><a href="10_Dataviz_files/figure-html/unnamed-chunk-20-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-19"><img src="10_Dataviz_files/figure-html/unnamed-chunk-20-1.png" class="img-fluid figure-img" width="576"></a></p>
</figure>
</div>
</div>
</div>
<p>Choosing an appropriate palette is not the only way to make your visualisations accessible to colour-blind readers. Another way is to provide redundant mappings to other aesthetics such size, line type, shape, or pattern (see <a href="#fig-PatternBarplot" class="quarto-xref">Figure&nbsp;<span>10.15</span></a>).</p>
<div class="cell">
<details class="code-fold">
<summary>Show {ggplot2} code to generate <span class="citation" data-cites="fig-PatternBarplot">(<a href="99_references.html#ref-fig-PatternBarplot" role="doc-biblioref"><strong>fig-PatternBarplot?</strong></a>)</span></summary>
<div class="sourceCode cell-code" id="cb21" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="co">#install.packages("ggpattern")</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggpattern)</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>Dabrowska.data <span class="sc">|&gt;</span> </span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> OccupGroup, </span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>                       <span class="at">fill =</span> Gender,</span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>                       <span class="at">pattern =</span> Gender)) <span class="sc">+</span></span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar_pattern</span>(<span class="at">pattern_density =</span> <span class="fl">0.01</span>,  <span class="co"># adjust for better visibility</span></span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a>                   <span class="at">pattern_fill =</span> <span class="st">"transparent"</span>,  <span class="co"># keeps pattern visible</span></span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a>                   <span class="at">pattern_colour =</span> <span class="st">"white"</span>) <span class="sc">+</span>  <span class="co"># pattern lines color</span></span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> Group) <span class="sc">+</span></span>
<span id="cb21-12"><a href="#cb21-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Occupational group"</span>,</span>
<span id="cb21-13"><a href="#cb21-13" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Participants"</span>) <span class="sc">+</span></span>
<span id="cb21-14"><a href="#cb21-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"purple"</span>, <span class="st">"#34027d"</span>)) <span class="sc">+</span></span>
<span id="cb21-15"><a href="#cb21-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_pattern_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"stripe"</span>, <span class="st">"crosshatch"</span>)) <span class="co"># specify types of patterns</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="fig-PatternBarplot" class="quarto-float quarto-figure quarto-figure-center anchored" width="576" alt="This is the same plot as above. The only difference is that the two different shades of purple representing female and male participants are marked with a distinct pattern as well.">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-PatternBarplot-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="10_Dataviz_files/figure-html/fig-PatternBarplot-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-20" title="Figure&nbsp;10.15: "><img src="10_Dataviz_files/figure-html/fig-PatternBarplot-1.png" id="fig-PatternBarplot" class="img-fluid figure-img" alt="This is the same plot as above. The only difference is that the two different shades of purple representing female and male participants are marked with a distinct pattern as well." width="576"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig quarto-uncaptioned" id="fig-PatternBarplot-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;10.15
</figcaption>
</figure>
</div>
</div>
</div>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-5-contents" aria-controls="callout-5" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
“What to do if you get the error message: seq.default(from, to, by) : invalid”
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-5" class="callout-5-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>If you get the error message “Error in seq.default(from, to, by) : invalid ‘(to - from)/by’” when trying to run this chunk of code, this is because your Plots pane in RStudio is not large enough to accommodate the plot. Increase its size and it should work (see also <a href="https://stackoverflow.com/questions/73960726/error-in-seq-defaultfrom-to-by-invalid-to-from-by-ggpattern" class="uri">https://stackoverflow.com/questions/73960726/error-in-seq-defaultfrom-to-by-invalid-to-from-by-ggpattern</a>).</p>
</div>
</div>
</div>
<p>Finally, it is important to remember that colour blindness is by no means the only type of visual impairment you should consider when creating visualisations. Wordlwide, far more people are affected by <strong>blindness</strong> and <strong>low vision</strong>. <a href="13_LiterateProgramming.html" class="quarto-xref"><span>Chapter 13</span></a> explains how to add <strong>alternative texts</strong> (alt-text) to plots and images. Many people with visual impairments rely on screen readers that use these alternative texts to provide audio descriptions of images and plots. These alternative texts can also improve the user experience when there are internet connection issues and images do not load properly or quickly enough.</p>
</div>
</div>
</div>
<p>Some academic publishers still require grey-scale plots, in which case you will want to use the <strong>scale</strong> layer <code>scale_fill_grey()</code>. Alternatively, the colour palettes of the {viridis} package (see information box on colour blindness) render well in grey, too. The {viridis} function for a discrete colour scale (as needed for a categorical variable such as <code>Gender</code>) can be called up using the <code>scale_fill_viridis_d()</code> function. With the “option” argument, you can switch between eight different viridis palettes (“magma”, “inferno”, “plasma”, “cividis”, “rocket”, “turbo”).</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" role="tab" aria-controls="tabset-1-1" aria-selected="true" aria-current="page">scale_fill_grey()</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-2" role="tab" aria-controls="tabset-1-2" aria-selected="false">scale_fill_viridis_d</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-3" role="tab" aria-controls="tabset-1-3" aria-selected="false">scale_fill_viridis_d(option = “turbo”)</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-1-1-tab">
<div class="cell" data-source-line-numbers="7">
<div class="sourceCode cell-code" id="cb22" data-source-line-numbers="7" data-code-line-numbers="7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>Dabrowska.data <span class="sc">|&gt;</span> </span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> OccupGroup, <span class="at">fill =</span> Gender)) <span class="sc">+</span></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>() <span class="sc">+</span></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> Group) <span class="sc">+</span></span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Occupational group"</span>,</span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Participants"</span>) <span class="sc">+</span></span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_grey</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-GreyBarplot" class="quarto-float quarto-figure quarto-figure-center anchored" width="576">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-GreyBarplot-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="10_Dataviz_files/figure-html/fig-GreyBarplot-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-21" title="Figure&nbsp;10.16: "><img src="10_Dataviz_files/figure-html/fig-GreyBarplot-1.png" id="fig-GreyBarplot" class="img-fluid figure-img" width="576"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig quarto-uncaptioned" id="fig-GreyBarplot-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;10.16
</figcaption>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-1-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-2-tab">
<div class="cell" data-source-line-numbers="7">
<div class="sourceCode cell-code" id="cb23" data-source-line-numbers="7" data-code-line-numbers="7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>Dabrowska.data <span class="sc">|&gt;</span> </span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> OccupGroup, <span class="at">fill =</span> Gender)) <span class="sc">+</span></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>() <span class="sc">+</span></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> Group) <span class="sc">+</span></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Occupational group"</span>,</span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Participants"</span>) <span class="sc">+</span></span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_viridis_d</span>(<span class="at">option =</span> <span class="st">"viridis"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-ViridisBarplot" class="quarto-float quarto-figure quarto-figure-center anchored" width="576">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-ViridisBarplot-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="10_Dataviz_files/figure-html/fig-ViridisBarplot-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-22" title="Figure&nbsp;10.17: "><img src="10_Dataviz_files/figure-html/fig-ViridisBarplot-1.png" id="fig-ViridisBarplot" class="img-fluid figure-img" width="576"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig quarto-uncaptioned" id="fig-ViridisBarplot-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;10.17
</figcaption>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-1-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-3-tab">
<div class="cell" data-source-line-numbers="7">
<div class="sourceCode cell-code" id="cb24" data-source-line-numbers="7" data-code-line-numbers="7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>Dabrowska.data <span class="sc">|&gt;</span> </span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> OccupGroup, <span class="at">fill =</span> Gender)) <span class="sc">+</span></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>() <span class="sc">+</span></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> Group) <span class="sc">+</span></span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Occupational group"</span>,</span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Participants"</span>) <span class="sc">+</span></span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_viridis_d</span>(<span class="at">option =</span> <span class="st">"turbo"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-ViridisTurboBarplot" class="quarto-float quarto-figure quarto-figure-center anchored" width="576">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-ViridisTurboBarplot-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="10_Dataviz_files/figure-html/fig-ViridisTurboBarplot-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-23" title="Figure&nbsp;10.18: "><img src="10_Dataviz_files/figure-html/fig-ViridisTurboBarplot-1.png" id="fig-ViridisTurboBarplot" class="img-fluid figure-img" width="576"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig quarto-uncaptioned" id="fig-ViridisTurboBarplot-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;10.18
</figcaption>
</figure>
</div>
</div>
</div>
</div>
</div>
</div>
<p>If you like colours, check out the {paletteer} package <span class="citation" data-cites="hvitfeldtPaletteerComprehensiveCollection2021">(<a href="99_references.html#ref-hvitfeldtPaletteerComprehensiveCollection2021" role="doc-biblioref">Hvitfeldt 2021</a>)</span>, which provides a neat interface to access a very large collection of <code>R</code> colour packages, some of which are very fun! The advantage is that you only need to install one package (<code>install.packages("paletteer")</code>) to have a huge range of palettes at your disposal. Below is a small selection of some personal favourites.</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-2-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-1" role="tab" aria-controls="tabset-2-1" aria-selected="true">beyonce::X11</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-2" role="tab" aria-controls="tabset-2-2" aria-selected="false">BridgetRiley</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-3" role="tab" aria-controls="tabset-2-3" aria-selected="false">janelle</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-4" role="tab" aria-controls="tabset-2-4" aria-selected="false">FridaKahlo</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-5-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-5" role="tab" aria-controls="tabset-2-5" aria-selected="false">kiss</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-6-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-6" role="tab" aria-controls="tabset-2-6" aria-selected="false">speakNow</a></li></ul>
<div class="tab-content">
<div id="tabset-2-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-2-1-tab">
<div class="cell" data-source-line-numbers="6">
<div class="sourceCode cell-code" id="cb25" data-source-line-numbers="6" data-code-line-numbers="6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>Dabrowska.data <span class="sc">|&gt;</span> </span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> OccupGroup, <span class="at">fill =</span> OccupGroup)) <span class="sc">+</span></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>() <span class="sc">+</span></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Occupational group"</span>,</span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Participants"</span>) <span class="sc">+</span></span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a>  paletteer<span class="sc">::</span><span class="fu">scale_fill_paletteer_d</span>(<span class="st">"beyonce::X11"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-BeyonceBarplot" class="quarto-float quarto-figure quarto-figure-center anchored" width="576">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-BeyonceBarplot-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="10_Dataviz_files/figure-html/fig-BeyonceBarplot-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-24" title="Figure&nbsp;10.19: "><img src="10_Dataviz_files/figure-html/fig-BeyonceBarplot-1.png" id="fig-BeyonceBarplot" class="img-fluid figure-img" width="576"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig quarto-uncaptioned" id="fig-BeyonceBarplot-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;10.19
</figcaption>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-2-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-2-tab">
<div class="cell" data-source-line-numbers="6">
<div class="sourceCode cell-code" id="cb26" data-source-line-numbers="6" data-code-line-numbers="6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>Dabrowska.data <span class="sc">|&gt;</span> </span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> OccupGroup, <span class="at">fill =</span> OccupGroup)) <span class="sc">+</span></span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>() <span class="sc">+</span></span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Occupational group"</span>,</span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Participants"</span>) <span class="sc">+</span></span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a>  paletteer<span class="sc">::</span><span class="fu">scale_fill_paletteer_d</span>(<span class="st">"lisa::BridgetRiley"</span>, <span class="at">direction =</span> <span class="sc">-</span><span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-BridgetRileyBarplot" class="quarto-float quarto-figure quarto-figure-center anchored" width="576">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-BridgetRileyBarplot-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="10_Dataviz_files/figure-html/fig-BridgetRileyBarplot-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-25" title="Figure&nbsp;10.20: "><img src="10_Dataviz_files/figure-html/fig-BridgetRileyBarplot-1.png" id="fig-BridgetRileyBarplot" class="img-fluid figure-img" width="576"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig quarto-uncaptioned" id="fig-BridgetRileyBarplot-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;10.20
</figcaption>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-2-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-3-tab">
<div class="cell" data-source-line-numbers="6">
<div class="sourceCode cell-code" id="cb27" data-source-line-numbers="6" data-code-line-numbers="6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>Dabrowska.data <span class="sc">|&gt;</span> </span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> OccupGroup, <span class="at">fill =</span> OccupGroup)) <span class="sc">+</span></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>() <span class="sc">+</span></span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Occupational group"</span>,</span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Participants"</span>) <span class="sc">+</span></span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a>  paletteer<span class="sc">::</span><span class="fu">scale_fill_paletteer_d</span>(<span class="st">"rockthemes::janelle"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-JanelleBarplot" class="quarto-float quarto-figure quarto-figure-center anchored" width="576">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-JanelleBarplot-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="10_Dataviz_files/figure-html/fig-JanelleBarplot-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-26" title="Figure&nbsp;10.21: "><img src="10_Dataviz_files/figure-html/fig-JanelleBarplot-1.png" id="fig-JanelleBarplot" class="img-fluid figure-img" width="576"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig quarto-uncaptioned" id="fig-JanelleBarplot-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;10.21
</figcaption>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-2-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-4-tab">
<div class="cell" data-source-line-numbers="6">
<div class="sourceCode cell-code" id="cb28" data-source-line-numbers="6" data-code-line-numbers="6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>Dabrowska.data <span class="sc">|&gt;</span> </span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> OccupGroup, <span class="at">fill =</span> OccupGroup)) <span class="sc">+</span></span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>() <span class="sc">+</span></span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Occupational group"</span>,</span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Participants"</span>) <span class="sc">+</span></span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a>  paletteer<span class="sc">::</span><span class="fu">scale_fill_paletteer_d</span>(<span class="st">"lisa::FridaKahlo"</span>, <span class="at">direction =</span> <span class="sc">-</span><span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-FridaKahloBarplot" class="quarto-float quarto-figure quarto-figure-center anchored" width="576">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-FridaKahloBarplot-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="10_Dataviz_files/figure-html/fig-FridaKahloBarplot-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-27" title="Figure&nbsp;10.22: "><img src="10_Dataviz_files/figure-html/fig-FridaKahloBarplot-1.png" id="fig-FridaKahloBarplot" class="img-fluid figure-img" width="576"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig quarto-uncaptioned" id="fig-FridaKahloBarplot-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;10.22
</figcaption>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-2-5" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-5-tab">
<div class="cell" data-source-line-numbers="6">
<div class="sourceCode cell-code" id="cb29" data-source-line-numbers="6" data-code-line-numbers="6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>Dabrowska.data <span class="sc">|&gt;</span> </span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> OccupGroup, <span class="at">fill =</span> OccupGroup)) <span class="sc">+</span></span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>() <span class="sc">+</span></span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Occupational group"</span>,</span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Participants"</span>) <span class="sc">+</span></span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a>    paletteer<span class="sc">::</span><span class="fu">scale_fill_paletteer_d</span>(<span class="st">"ltc::kiss"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-KissBarplot" class="quarto-float quarto-figure quarto-figure-center anchored" width="576">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-KissBarplot-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="10_Dataviz_files/figure-html/fig-KissBarplot-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-28" title="Figure&nbsp;10.23: "><img src="10_Dataviz_files/figure-html/fig-KissBarplot-1.png" id="fig-KissBarplot" class="img-fluid figure-img" width="576"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig quarto-uncaptioned" id="fig-KissBarplot-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;10.23
</figcaption>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-2-6" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-6-tab">
<div class="cell" data-source-line-numbers="6">
<div class="sourceCode cell-code" id="cb30" data-source-line-numbers="6" data-code-line-numbers="6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>Dabrowska.data <span class="sc">|&gt;</span> </span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> OccupGroup, <span class="at">fill =</span> OccupGroup)) <span class="sc">+</span></span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>() <span class="sc">+</span></span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Occupational group"</span>,</span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Participants"</span>) <span class="sc">+</span></span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a>  paletteer<span class="sc">::</span><span class="fu">scale_fill_paletteer_d</span>(<span class="st">"tayloRswift::speakNow"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-SpeakNowBarplot" class="quarto-float quarto-figure quarto-figure-center anchored" width="576">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-SpeakNowBarplot-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="10_Dataviz_files/figure-html/fig-SpeakNowBarplot-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-29" title="Figure&nbsp;10.24: "><img src="10_Dataviz_files/figure-html/fig-SpeakNowBarplot-1.png" id="fig-SpeakNowBarplot" class="img-fluid figure-img" width="576"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig quarto-uncaptioned" id="fig-SpeakNowBarplot-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;10.24
</figcaption>
</figure>
</div>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="sec-themes" class="level3" data-number="10.1.9">
<h3 data-number="10.1.9" class="anchored" data-anchor-id="sec-themes"><span class="header-section-number">10.1.9</span> Themes</h3>
<p>The {ggplot2} framework also allows for the addition of an optional <code>theme()</code> <strong>layer</strong> to further customise the look of plots. The default {ggplot2} theme is <code>theme_grey()</code>. Here are some of the pre-built themes that come with the {ggplot2} library for you to compare. As with colour palettes, you can install additional libraries that will give you access to literally hundreds of ready-made themes for you to explore.</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-3-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-1" role="tab" aria-controls="tabset-3-1" aria-selected="true">theme_bw()</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-3-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-2" role="tab" aria-controls="tabset-3-2" aria-selected="false">theme_dark()</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-3-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-3" role="tab" aria-controls="tabset-3-3" aria-selected="false">theme_light()</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-3-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-4" role="tab" aria-controls="tabset-3-4" aria-selected="false">theme_minimal()</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-3-5-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-5" role="tab" aria-controls="tabset-3-5" aria-selected="false">theme_void()</a></li></ul>
<div class="tab-content">
<div id="tabset-3-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-3-1-tab">
<div class="cell" data-source-line-numbers="6">
<div class="sourceCode cell-code" id="cb31" data-source-line-numbers="6" data-code-line-numbers="6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> Dabrowska.data,</span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>       <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> OccupGroup)) <span class="sc">+</span></span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>() <span class="sc">+</span></span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Occupational group"</span>,</span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Number of participants"</span>) <span class="sc">+</span></span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><a href="10_Dataviz_files/figure-html/unnamed-chunk-31-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-30"><img src="10_Dataviz_files/figure-html/unnamed-chunk-31-1.png" class="img-fluid figure-img" width="576"></a></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-3-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-3-2-tab">
<div class="cell" data-source-line-numbers="6">
<div class="sourceCode cell-code" id="cb32" data-source-line-numbers="6" data-code-line-numbers="6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> Dabrowska.data,</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>       <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> OccupGroup)) <span class="sc">+</span></span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>() <span class="sc">+</span></span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Occupational group"</span>,</span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Number of participants"</span>) <span class="sc">+</span></span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_dark</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><a href="10_Dataviz_files/figure-html/unnamed-chunk-32-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-31"><img src="10_Dataviz_files/figure-html/unnamed-chunk-32-1.png" class="img-fluid figure-img" width="576"></a></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-3-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-3-3-tab">
<div class="cell" data-source-line-numbers="6">
<div class="sourceCode cell-code" id="cb33" data-source-line-numbers="6" data-code-line-numbers="6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> Dabrowska.data,</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>       <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> OccupGroup)) <span class="sc">+</span></span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>() <span class="sc">+</span></span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Occupational group"</span>,</span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Number of participants"</span>) <span class="sc">+</span></span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_light</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><a href="10_Dataviz_files/figure-html/unnamed-chunk-33-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-32"><img src="10_Dataviz_files/figure-html/unnamed-chunk-33-1.png" class="img-fluid figure-img" width="576"></a></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-3-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-3-4-tab">
<div class="cell" data-source-line-numbers="6">
<div class="sourceCode cell-code" id="cb34" data-source-line-numbers="6" data-code-line-numbers="6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> Dabrowska.data,</span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>       <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> OccupGroup)) <span class="sc">+</span></span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>() <span class="sc">+</span></span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Occupational group"</span>,</span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Number of participants"</span>) <span class="sc">+</span></span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><a href="10_Dataviz_files/figure-html/unnamed-chunk-34-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-33"><img src="10_Dataviz_files/figure-html/unnamed-chunk-34-1.png" class="img-fluid figure-img" width="576"></a></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-3-5" class="tab-pane" role="tabpanel" aria-labelledby="tabset-3-5-tab">
<div class="cell" data-source-line-numbers="6">
<div class="sourceCode cell-code" id="cb35" data-source-line-numbers="6" data-code-line-numbers="6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> Dabrowska.data,</span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>       <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> OccupGroup)) <span class="sc">+</span></span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>() <span class="sc">+</span></span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Occupational group"</span>,</span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Number of participants"</span>) <span class="sc">+</span></span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_void</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><a href="10_Dataviz_files/figure-html/unnamed-chunk-35-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-34"><img src="10_Dataviz_files/figure-html/unnamed-chunk-35-1.png" class="img-fluid figure-img" width="576"></a></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</div>
<p>Pretty much all aspects of plot themes can be customised. To demonstrate this, <a href="#fig-SillyTheme" class="quarto-xref">Figure&nbsp;<span>10.25</span></a> displays a bar plot with some highly customised aesthetics. I will let you judge how meaningful these custom choices are and whether they genuinely help the reader to interpret the data… 🤨</p>
<div class="cell">
<details class="code-fold">
<summary>See {ggplot2} code used to generate this plot.</summary>
<div class="sourceCode cell-code" id="cb36" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> Dabrowska.data,</span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>       <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> OccupGroup, <span class="at">fill =</span> Gender)) <span class="sc">+</span></span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>() <span class="sc">+</span></span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Occupational group"</span>,</span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Number of participants"</span>,</span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a>        <span class="at">title =</span> <span class="st">"An example of an extravagantly customised ggplot..."</span>) <span class="sc">+</span></span>
<span id="cb36-7"><a href="#cb36-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(</span>
<span id="cb36-8"><a href="#cb36-8" aria-hidden="true" tabindex="-1"></a>      <span class="at">panel.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">"#FFC080"</span>, <span class="at">color =</span> <span class="cn">NA</span>),</span>
<span id="cb36-9"><a href="#cb36-9" aria-hidden="true" tabindex="-1"></a>      <span class="at">panel.grid.major =</span> <span class="fu">element_line</span>(<span class="at">color =</span> <span class="st">"gold"</span>, <span class="at">linewidth =</span> <span class="fl">1.5</span>),</span>
<span id="cb36-10"><a href="#cb36-10" aria-hidden="true" tabindex="-1"></a>      <span class="at">panel.grid.minor =</span> <span class="fu">element_line</span>(<span class="at">color =</span> <span class="st">"grey20"</span>, <span class="at">linewidth =</span> <span class="fl">0.5</span>),</span>
<span id="cb36-11"><a href="#cb36-11" aria-hidden="true" tabindex="-1"></a>      <span class="at">axis.title.x =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">size =</span> <span class="dv">12</span>, <span class="at">color =</span> <span class="st">"brown"</span>, <span class="at">angle =</span> <span class="dv">10</span>),</span>
<span id="cb36-12"><a href="#cb36-12" aria-hidden="true" tabindex="-1"></a>      <span class="at">axis.title.y =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">25</span>, <span class="at">color =</span> <span class="st">"green"</span>, <span class="at">family =</span> <span class="st">"Courier New"</span>),</span>
<span id="cb36-13"><a href="#cb36-13" aria-hidden="true" tabindex="-1"></a>      <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"italic"</span>, <span class="at">size =</span> <span class="dv">12</span>, <span class="at">color =</span> <span class="st">"cyan"</span>),</span>
<span id="cb36-14"><a href="#cb36-14" aria-hidden="true" tabindex="-1"></a>      <span class="at">axis.text.y =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">14</span>, <span class="at">color =</span> <span class="st">"grey"</span>),</span>
<span id="cb36-15"><a href="#cb36-15" aria-hidden="true" tabindex="-1"></a>      <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">size =</span> <span class="dv">10</span>, <span class="at">color =</span> <span class="st">"purple"</span>, <span class="at">family =</span> <span class="st">"Comic Sans MS"</span>)</span>
<span id="cb36-16"><a href="#cb36-16" aria-hidden="true" tabindex="-1"></a>      )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="fig-SillyTheme" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-SillyTheme-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="10_Dataviz_files/figure-html/fig-SillyTheme-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-35" title="Figure&nbsp;10.25: Illustration of some of the customisation options of ggplot objects"><img src="10_Dataviz_files/figure-html/fig-SillyTheme-1.png" class="img-fluid figure-img" width="576"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-SillyTheme-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;10.25: Illustration of some of the customisation options of <code>ggplot</code> objects
</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="sec-coordinates" class="level3" data-number="10.1.10">
<h3 data-number="10.1.10" class="anchored" data-anchor-id="sec-coordinates"><span class="header-section-number">10.1.10</span> Coordinates</h3>
<p>By default, the coordinate system that is used in <code>ggplot</code> objects is the <strong>Cartesian coordinate system</strong>, which has a horizontal axis (<em>x</em>) and a vertical axis (<em>y</em>) that are perpendicular to each other. To change this default Cartesian coordinate system, we need to add a <strong>coordinate layer</strong>.</p>
<p>For example, if we want to display the full names of the four occupational groups used in <span class="citation" data-cites="DabrowskaExperienceAptitudeIndividual2019">Dąbrowska (<a href="99_references.html#ref-DabrowskaExperienceAptitudeIndividual2019" role="doc-biblioref">2019</a>)</span>, we can change the labels of the categories using <code>mutate()</code> and <code>fct_recode()</code> <em>before</em> pipping the data into <code>ggplot()</code> (see <a href="#sec-ggplotData" class="quarto-xref"><span>Section 10.1.6</span></a>) and then flip the <em>x</em> and <em>y</em> axes using the coordinate layer <code>coord_flip()</code>. As shown in <a href="#fig-FlippedBarplot" class="quarto-xref">Figure&nbsp;<span>10.26</span></a>, this makes long labels much easier to read.</p>
<div class="cell" data-source-line-numbers="2-6,13">
<div class="sourceCode cell-code" id="cb37" data-source-line-numbers="2-6,13" data-code-line-numbers="2-6,13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>Dabrowska.data <span class="sc">|&gt;</span> </span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">OccupGroup =</span> <span class="fu">fct_recode</span>(OccupGroup,</span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a>                                 <span class="st">`</span><span class="at">Professionally inactive</span><span class="st">`</span> <span class="ot">=</span> <span class="st">"I"</span>,</span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a>                                 <span class="st">`</span><span class="at">Clerical profession</span><span class="st">`</span> <span class="ot">=</span> <span class="st">"C"</span>,</span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a>                                 <span class="st">`</span><span class="at">Manual profession</span><span class="st">`</span> <span class="ot">=</span> <span class="st">"M"</span>,</span>
<span id="cb37-6"><a href="#cb37-6" aria-hidden="true" tabindex="-1"></a>                                 <span class="st">`</span><span class="at">Professional-level job/</span><span class="sc">\n</span><span class="at">student</span><span class="st">`</span> <span class="ot">=</span> <span class="st">"PS"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb37-7"><a href="#cb37-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Gender =</span> <span class="fu">fct_rev</span>(Gender)) <span class="sc">|&gt;</span> </span>
<span id="cb37-8"><a href="#cb37-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> OccupGroup, <span class="at">fill =</span> Gender)) <span class="sc">+</span></span>
<span id="cb37-9"><a href="#cb37-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>() <span class="sc">+</span></span>
<span id="cb37-10"><a href="#cb37-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="cn">NULL</span>,</span>
<span id="cb37-11"><a href="#cb37-11" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Participants"</span>) <span class="sc">+</span></span>
<span id="cb37-12"><a href="#cb37-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_viridis_d</span>() <span class="sc">+</span></span>
<span id="cb37-13"><a href="#cb37-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>() <span class="sc">+</span></span>
<span id="cb37-14"><a href="#cb37-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb37-15"><a href="#cb37-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">14</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-FlippedBarplot" class="quarto-float quarto-figure quarto-figure-center anchored" width="768">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-FlippedBarplot-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="10_Dataviz_files/figure-html/fig-FlippedBarplot-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-36" title="Figure&nbsp;10.26: "><img src="10_Dataviz_files/figure-html/fig-FlippedBarplot-1.png" id="fig-FlippedBarplot" class="img-fluid figure-img" width="768"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig quarto-uncaptioned" id="fig-FlippedBarplot-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;10.26
</figcaption>
</figure>
</div>
</div>
</div>
<p>The vast majority of statistical graphs use the Cartesian coordinate system. Pie charts and other circular plots, however, use the <strong>polar coordinate system</strong> (<code>coord_polar</code>), whereby quantities are mapped onto angles rather distances. In general, humans are much better at judging lengths than angles or areas <span class="citation" data-cites="clevelandGraphicalPerceptionVisual1987">(<a href="99_references.html#ref-clevelandGraphicalPerceptionVisual1987" role="doc-biblioref">Cleveland &amp; McGill 1987</a>)</span>, which is why circular graphs such as pie charts are typically <em>not</em> recommended forms of good data visualisations <span class="citation" data-cites="fewPiesDessert">(see, e.g., <a href="99_references.html#ref-fewPiesDessert" role="doc-biblioref">Few</a>)</span>. That said, they <em>can</em> be produced using the {ggplot2} library by adding the <strong>coordinate</strong> layer <code>coord_polar("y")</code> and modifying a few parameters.</p>
<div class="cell" data-source-line-numbers="8-13">
<div class="sourceCode cell-code" id="cb38" data-source-line-numbers="8-13" data-code-line-numbers="8-13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>Dabrowska.data <span class="sc">|&gt;</span> </span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">OccupGroup =</span> <span class="fu">fct_recode</span>(OccupGroup,</span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>                                 <span class="st">`</span><span class="at">Professionally inactive</span><span class="st">`</span> <span class="ot">=</span> <span class="st">"I"</span>,</span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a>                                 <span class="st">`</span><span class="at">Clerical profession</span><span class="st">`</span> <span class="ot">=</span> <span class="st">"C"</span>,</span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a>                                 <span class="st">`</span><span class="at">Manual profession</span><span class="st">`</span> <span class="ot">=</span> <span class="st">"M"</span>,</span>
<span id="cb38-6"><a href="#cb38-6" aria-hidden="true" tabindex="-1"></a>                                 <span class="st">`</span><span class="at">Professional-level job/</span><span class="sc">\n</span><span class="at">student</span><span class="st">`</span> <span class="ot">=</span> <span class="st">"PS"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb38-7"><a href="#cb38-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> <span class="st">""</span>, <span class="at">fill =</span> OccupGroup)) <span class="sc">+</span></span>
<span id="cb38-8"><a href="#cb38-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">width =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb38-9"><a href="#cb38-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">fill =</span> <span class="st">"Occupational group"</span>) <span class="sc">+</span></span>
<span id="cb38-10"><a href="#cb38-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_viridis_d</span>(<span class="at">direction =</span> <span class="sc">-</span><span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb38-11"><a href="#cb38-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_polar</span>(<span class="st">"y"</span>) <span class="sc">+</span></span>
<span id="cb38-12"><a href="#cb38-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_void</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-OccupGroupPieChart" class="quarto-float quarto-figure quarto-figure-center anchored" width="576">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-OccupGroupPieChart-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="10_Dataviz_files/figure-html/fig-OccupGroupPieChart-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-37" title="Figure&nbsp;10.27: "><img src="10_Dataviz_files/figure-html/fig-OccupGroupPieChart-1.png" id="fig-OccupGroupPieChart" class="img-fluid figure-img" width="576"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig quarto-uncaptioned" id="fig-OccupGroupPieChart-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;10.27
</figcaption>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="sec-Semantics" class="level2 page-columns page-full" data-number="10.2">
<h2 data-number="10.2" class="anchored" data-anchor-id="sec-Semantics"><span class="header-section-number">10.2</span> The semantics of graphics</h2>
<p>So far, we have seen how the syntax of the Grammar of Graphics can be used to build statistical graphs layer by layer. We now turn to the <strong>semantics</strong> of graphics. As linguists are well placed to know, semantics is the study of <strong>meaning</strong>. In the Grammar of Graphics, the semantics of graphics is defined as “the meanings of the representative symbols and arrangements we use to display information” <span class="citation" data-cites="wilkinsonGrammarGraphics2005">(<a href="99_references.html#ref-wilkinsonGrammarGraphics2005" role="doc-biblioref">Wilkinson 2005</a>: 20)</span>. In what follows, we will see how thinking about the semantics of graphics can help us to think about how the different components of a graph interact to convey insightful visual information from raw data. This will help us to make informed choices when choosing the geometries, scales, facets, and themes of our data visualisations.</p>
<p>But, first, let’s think about <strong>why</strong> we visualise data. Data visualisation is about more than just communicating the results of our analyses to <strong>others</strong> at the publication stage. In fact, good data visualisation can help <strong>us</strong> make informed decisions throughout the research process from the data wrangling stage to the evaluation of complex statistical models. Here are some reasons for visualising data. Can you think of others? 🤔</p>
<div class="columns">
<div class="column" style="width:40%;">
<p><strong>For yourself</strong></p>
<ul>
<li>To explore your data</li>
<li>To detect data processing errors and outliers</li>
<li>To check assumptions of statistical tests or models (see <a href="11_InferentialStats.html" class="quarto-xref"><span>Chapter 11</span></a> and <a href="12_LinearRegression.html" class="quarto-xref"><span>Chapter 12</span></a>)</li>
<li>To examine variation across different subsets of the data</li>
<li>To better interpret the results of statistical analyses (see <a href="12_LinearRegression.html" class="quarto-xref"><span>Chapter 12</span></a>)</li>
</ul>
</div><div class="column" style="width:10%;">
<!-- empty column to create gap -->
</div><div class="column" style="width:40%;">
<p><strong>For others</strong></p>
<ul>
<li>To communicate the results of your analyses more effectively</li>
<li>To communicate about your data (in more detail)</li>
<li>To communicate complex information more efficiently</li>
<li>To attract the reader’s attention</li>
<li>To allow the reader to reach their own conclusions</li>
</ul>
</div>
</div>
<div id="fig-ExplorerMonster" class="quarto-float quarto-figure quarto-figure-center anchored" alt="A group of fuzzy round monsters with binoculars, backpacks and guide books looking up a graphs flying around with wings (like birders, but with exploratory data visualizations). Stylized text reads “ggplot2: visual data exploration.”">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-ExplorerMonster-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="images/AHorst_ggplot2_explore.png" class="lightbox" data-gallery="quarto-lightbox-gallery-38" title="Figure&nbsp;10.28: Using the {ggplot2} package for data exploration (artwork by @allison_horst)"><img src="images/AHorst_ggplot2_explore.png" class="img-fluid figure-img" alt="A group of fuzzy round monsters with binoculars, backpacks and guide books looking up a graphs flying around with wings (like birders, but with exploratory data visualizations). Stylized text reads “ggplot2: visual data exploration.”"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-ExplorerMonster-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;10.28: Using the {ggplot2} package for data exploration (artwork by <a href="https://allisonhorst.com/">@allison_horst</a>)
</figcaption>
</figure>
</div>
<p>Depending on the type of data that we want to visualise and why, we can choose different types of plots. A great resource to choose a graphic that is suitable for your data is <a href="https://r-graph-gallery.com/">the <code>R</code> Graph Gallery</a>.</p>
<p>In the following, we will first look at how we can plot <strong>categorical variables</strong> and <strong>discrete numeric variables</strong>, before we move on to visualising <strong>continuous numeric variables</strong> and combinations of different types of variables (see <a href="7_VariablesFunctions.html#sec-Variables" class="quarto-xref"><span>Section 7.2</span></a>).</p>
<section id="bar-plots" class="level3" data-number="10.2.1">
<h3 data-number="10.2.1" class="anchored" data-anchor-id="bar-plots"><span class="header-section-number">10.2.1</span> Bar plots</h3>
<p>As we saw in <a href="#sec-Syntax" class="quarto-xref"><span>Section 10.1</span></a>, bar plots (also called <strong>bar charts</strong>) are a great way to visualise <strong>categorical variables</strong>. We also saw that, when using horizontal writing systems, it is often easier to interpret a bar plot if its coordinates are flipped so that longer labels can be read more readily.</p>
<div class="callout callout-style-default callout-caution callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Task 10.1
</div>
</div>
<div class="callout-body-container callout-body">
<p>Study <a href="#fig-NativeLanguagesBarplot" class="quarto-xref">Figure&nbsp;<span>10.29</span></a> and think about which {ggplot2} functions were used to generate it. 🤔</p>
<p>Then, click on the “Show <code>R</code> code” button to compare your intuitions with the actual code. Note that there may well be more than one solution: So do try out your version and see if spot any differences!</p>
</div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Show <code>R</code> code.</summary>
<div class="sourceCode cell-code" id="cb39" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>Dabrowska.data <span class="sc">|&gt;</span> </span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Group <span class="sc">==</span> <span class="st">"L2"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">NativeLg =</span> <span class="fu">fct_rev</span>(<span class="fu">fct_infreq</span>(NativeLg))) <span class="sc">|&gt;</span> </span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> NativeLg, </span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a>           <span class="at">fill =</span> NativeLgFamily)) <span class="sc">+</span></span>
<span id="cb39-6"><a href="#cb39-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>() <span class="sc">+</span></span>
<span id="cb39-7"><a href="#cb39-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>() <span class="sc">+</span></span>
<span id="cb39-8"><a href="#cb39-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_viridis_d</span>(<span class="at">option =</span> <span class="st">"F"</span>) <span class="sc">+</span></span>
<span id="cb39-9"><a href="#cb39-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">40</span>)) <span class="sc">+</span></span>
<span id="cb39-10"><a href="#cb39-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb39-11"><a href="#cb39-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="cn">NULL</span>, </span>
<span id="cb39-12"><a href="#cb39-12" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="cn">NULL</span>, </span>
<span id="cb39-13"><a href="#cb39-13" aria-hidden="true" tabindex="-1"></a>       <span class="at">fill =</span> <span class="st">"Language family"</span>,</span>
<span id="cb39-14"><a href="#cb39-14" aria-hidden="true" tabindex="-1"></a>       <span class="at">title =</span> <span class="st">"Native languages of L2 participants"</span>) <span class="sc">+</span></span>
<span id="cb39-15"><a href="#cb39-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>(<span class="at">base_size =</span> <span class="dv">16</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="fig-NativeLanguagesBarplot" class="quarto-float quarto-figure quarto-figure-center anchored" width="864">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-NativeLanguagesBarplot-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="10_Dataviz_files/figure-html/fig-NativeLanguagesBarplot-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-39" title="Figure&nbsp;10.29: "><img src="10_Dataviz_files/figure-html/fig-NativeLanguagesBarplot-1.png" id="fig-NativeLanguagesBarplot" class="img-fluid figure-img" width="864"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig quarto-uncaptioned" id="fig-NativeLanguagesBarplot-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;10.29
</figcaption>
</figure>
</div>
</div>
</div>
<p>To create <a href="#fig-NativeLanguagesBarplot" class="quarto-xref">Figure&nbsp;<span>10.29</span></a>, we first reordered the factor levels of the <code>NativeLg</code> variable using two functions from the {forcats} package (see <a href="9_DataWrangling.html#sec-Factors" class="quarto-xref"><span>Section 9.3.2</span></a>): <code>fct_infreq()</code> is first used to order the factors according to their frequency (by default, they are sorted alphabetically), and then <code>fct_rev()</code> is used to reverse that order. The latter step is needed because the <code>coord_flip()</code> functions reverses everything. You can check the order of a factor’s level using the function <code>levels()</code>. Note that, if two levels have the same number of occurrences, they are ordered alphabetically (as seen in <a href="#fig-NativeLanguagesBarplot" class="quarto-xref">Figure&nbsp;<span>10.29</span></a>).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb40" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(Dabrowska.data<span class="sc">$</span>NativeLg)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre data-code-line-numbers=""><code> [1] "Cantonese"  "Chinese"    "French"     "German"     "Greek"     
 [6] "Italian"    "Lithuanian" "Mandarin"   "Polish"     "Russian"   
[11] "Spanish"   </code></pre>
</div>
<div class="sourceCode cell-code" id="cb42" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(<span class="fu">fct_infreq</span>(Dabrowska.data<span class="sc">$</span>NativeLg))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre data-code-line-numbers=""><code> [1] "Polish"     "Mandarin"   "Lithuanian" "Cantonese"  "Chinese"   
 [6] "Spanish"    "French"     "Russian"    "German"     "Greek"     
[11] "Italian"   </code></pre>
</div>
<div class="sourceCode cell-code" id="cb44" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(<span class="fu">fct_rev</span>(<span class="fu">fct_infreq</span>(Dabrowska.data<span class="sc">$</span>NativeLg)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre data-code-line-numbers=""><code> [1] "Italian"    "Greek"      "German"     "Russian"    "French"    
 [6] "Spanish"    "Chinese"    "Cantonese"  "Lithuanian" "Mandarin"  
[11] "Polish"    </code></pre>
</div>
</div>
<!--# @Vishar: What do you think of the idea of including the same barplot as above, but translated in Farsi or Arabic and with all the labels on the right? Good idea? Bad idea? I'd be interested to hear your thoughts. -->
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Quiz time!
</div>
</div>
<div class="callout-body-container callout-body">
<p><span style="color:green;"><strong>Q10.2</strong></span> Compare the two plots below. Which one makes it easier to see which occupational group has the fewest participants and why?</p>
<div class="columns">
<div class="column" style="width:45%;">
<p><strong>Bar plot</strong></p>
<div class="cell">
<details class="code-fold">
<summary>Show <code>R</code> code for the bar plot</summary>
<div class="sourceCode cell-code" id="cb46" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>Dabrowska.data <span class="sc">|&gt;</span> </span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">OccupGroup =</span> <span class="fu">fct_recode</span>(OccupGroup,</span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a>                                 <span class="st">`</span><span class="at">Professionally inactive</span><span class="st">`</span> <span class="ot">=</span> <span class="st">"I"</span>,</span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a>                                 <span class="st">`</span><span class="at">Clerical profession</span><span class="st">`</span> <span class="ot">=</span> <span class="st">"C"</span>,</span>
<span id="cb46-5"><a href="#cb46-5" aria-hidden="true" tabindex="-1"></a>                                 <span class="st">`</span><span class="at">Manual profession</span><span class="st">`</span> <span class="ot">=</span> <span class="st">"M"</span>,</span>
<span id="cb46-6"><a href="#cb46-6" aria-hidden="true" tabindex="-1"></a>                                 <span class="st">`</span><span class="at">Professional-level job/</span><span class="sc">\n</span><span class="at">student</span><span class="st">`</span> <span class="ot">=</span> <span class="st">"PS"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb46-7"><a href="#cb46-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Gender <span class="sc">==</span> <span class="st">"M"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb46-8"><a href="#cb46-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> OccupGroup, </span>
<span id="cb46-9"><a href="#cb46-9" aria-hidden="true" tabindex="-1"></a>                       <span class="at">fill =</span> OccupGroup)) <span class="sc">+</span></span>
<span id="cb46-10"><a href="#cb46-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>() <span class="sc">+</span></span>
<span id="cb46-11"><a href="#cb46-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="cn">NULL</span>,</span>
<span id="cb46-12"><a href="#cb46-12" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Participants"</span>) <span class="sc">+</span></span>
<span id="cb46-13"><a href="#cb46-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_viridis_d</span>() <span class="sc">+</span></span>
<span id="cb46-14"><a href="#cb46-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>() <span class="sc">+</span></span>
<span id="cb46-15"><a href="#cb46-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb46-16"><a href="#cb46-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">15</span>),</span>
<span id="cb46-17"><a href="#cb46-17" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.position =</span> <span class="st">"none"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="fig-Barplot" class="quarto-float quarto-figure quarto-figure-center anchored" width="576">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-Barplot-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="10_Dataviz_files/figure-html/fig-Barplot-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-40" title="Figure&nbsp;10.30: "><img src="10_Dataviz_files/figure-html/fig-Barplot-1.png" id="fig-Barplot" class="img-fluid figure-img" width="576"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig quarto-uncaptioned" id="fig-Barplot-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;10.30
</figcaption>
</figure>
</div>
</div>
</div>
</div><div class="column" style="width:8%;">
<!-- empty column to create gap -->
</div><div class="column" style="width:37%;">
<p><strong>Pie chart</strong></p>
<div class="cell">
<details class="code-fold">
<summary>Show <code>R</code> code for the pie chart</summary>
<div class="sourceCode cell-code" id="cb47" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>Dabrowska.data <span class="sc">|&gt;</span> </span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">OccupGroup =</span> <span class="fu">fct_recode</span>(OccupGroup,</span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a>                                 <span class="st">`</span><span class="at">Professionally inactive</span><span class="st">`</span> <span class="ot">=</span> <span class="st">"I"</span>,</span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a>                                 <span class="st">`</span><span class="at">Clerical profession</span><span class="st">`</span> <span class="ot">=</span> <span class="st">"C"</span>,</span>
<span id="cb47-5"><a href="#cb47-5" aria-hidden="true" tabindex="-1"></a>                                 <span class="st">`</span><span class="at">Manual profession</span><span class="st">`</span> <span class="ot">=</span> <span class="st">"M"</span>,</span>
<span id="cb47-6"><a href="#cb47-6" aria-hidden="true" tabindex="-1"></a>                                 <span class="st">`</span><span class="at">Professional-level job/</span><span class="sc">\n</span><span class="at">student</span><span class="st">`</span> <span class="ot">=</span> <span class="st">"PS"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb47-7"><a href="#cb47-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Gender <span class="sc">==</span> <span class="st">"M"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb47-8"><a href="#cb47-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> <span class="st">""</span>, <span class="at">fill =</span> OccupGroup)) <span class="sc">+</span></span>
<span id="cb47-9"><a href="#cb47-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_bar</span>(<span class="at">width =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb47-10"><a href="#cb47-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_fill_viridis_d</span>(<span class="at">direction =</span> <span class="sc">-</span><span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb47-11"><a href="#cb47-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">coord_polar</span>(<span class="st">"y"</span>) <span class="sc">+</span></span>
<span id="cb47-12"><a href="#cb47-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_void</span>(<span class="at">base_size =</span> <span class="dv">20</span>) <span class="co"># This increases the font size.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="fig-PieChart" class="quarto-float quarto-figure quarto-figure-center anchored" width="576">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-PieChart-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="10_Dataviz_files/figure-html/fig-PieChart-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-41" title="Figure&nbsp;10.31: "><img src="10_Dataviz_files/figure-html/fig-PieChart-1.png" id="fig-PieChart" class="img-fluid figure-img" width="576"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig quarto-uncaptioned" id="fig-PieChart-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;10.31
</figcaption>
</figure>
</div>
</div>
</div>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<form name="form_50057" onsubmit="return validate_form_50057()" method="post">
<input type="checkbox" id="answer_50057_1" value="The pie chart as most humans learn to read clocks early on in life.">
<label>The pie chart as most humans learn to read clocks early on in life.</label>
<br>
<input type="checkbox" id="answer_50057_2" value="The bar plot because humans dislike round objects and prefer objects with sharp angles.">
<label>The bar plot because humans dislike round objects and prefer objects with sharp angles.</label>
<br>
<input type="checkbox" id="answer_50057_3" value="The bar plot because humans are better at distinguishing small differences in lengths than in angles.">
<label>The bar plot because humans are better at distinguishing small differences in lengths than in angles.</label>
<br>
<input type="checkbox" id="answer_50057_4" value="The bar plot because the labels are immediately next to the corresponding bars.">
<label>The bar plot because the labels are immediately next to the corresponding bars.</label>
<br>
<input type="checkbox" id="answer_50057_5" value="The pie chart because the colours are easier to distinguish when they are close to each other.">
<label>The pie chart because the colours are easier to distinguish when they are close to each other.</label>
<br>
<input type="submit" value="Check answer">
<div id="result_50057"></div>
</form>
<script>function validate_form_50057() {var text; var x1 = document.getElementById('answer_50057_1'); var x2 = document.getElementById('answer_50057_2'); var x3 = document.getElementById('answer_50057_3'); var x4 = document.getElementById('answer_50057_4'); var x5 = document.getElementById('answer_50057_5'); if (x1.checked == false&x2.checked == false&x3.checked == true&x4.checked == true&x5.checked == false){text = 'Correct! Bar charts are better suited than pie charts because humans are much better at estimating lengths than angles (see @sec-coordinates), and the labels are immediately next to the corresponding bars here.';} else {text = 'No, try again.';} document.getElementById('result_50057').innerHTML = text; evaluate_final_score(); return false;}function evaluate_final_score(){
         element = document.getElementById('checkdown_final_score');
         if(element === null){return false;} else {var element, text, res1;res1 = document.getElementById('result_50057').innerText == 'Correct! Bar charts are better suited than pie charts because humans are much better at estimating lengths than angles (see @sec-coordinates), and the labels are immediately next to the corresponding bars here.';text = res1;element.innerHTML = text;
         return false;
         }}</script>
</div>
<div class="cell-output-display">
<div id="hint_98798" onmouseover="return show_hint_98798()">🦉 Hover over the owl for a first hint.</div>
<div id="result_98798" onmouseover="return show_hint_98798()"></div>
<script>function show_hint_98798(){var x = document.getElementById('result_98798').innerHTML; if(!x){document.getElementById('result_98798').innerHTML = 'Check out @sec-coordinates.';} else {document.getElementById('result_98798').innerHTML = '';}}</script>
</div>
<div class="cell-output-display">
<div id="hint_66688" onclick="return show_hint_66688()">🐭 Click on the mouse for a second hint.</div>
<div id="result_66688" onclick="return show_hint_66688()"></div>
<script>function show_hint_66688(){var x = document.getElementById('result_66688').innerHTML; if(!x){document.getElementById('result_66688').innerHTML = 'Two reasons are correct.';} else {document.getElementById('result_66688').innerHTML = '';}}</script>
</div>
</div>
</div>
</div>
<div class="callout callout-style-default callout-caution callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Task 10.2
</div>
</div>
<div class="callout-body-container callout-body">
<p>Using the {ggplot2} library, create a bar plot that shows the distribution of occupational groups (<code>OccupGroup</code>) among male L1 and L2 participants in <span class="citation" data-cites="DabrowskaExperienceAptitudeIndividual2019">Dąbrowska (<a href="99_references.html#ref-DabrowskaExperienceAptitudeIndividual2019" role="doc-biblioref">2019</a>)</span>’s study.</p>
<p><span style="color:green;"><strong>a.</strong></span> Drawing on the information provided by your bar plot, how many male participants reported having manual jobs?</p>
<div class="cell">
<div class="cell-output-display">
<form name="form_17208" onsubmit="return validate_form_17208()" method="post">
<input type="radio" name="answer_17208" id="answer_17208_1" value="under 10">
<label>under 10</label>
<br>
<input type="radio" name="answer_17208" id="answer_17208_2" value="exactly 12">
<label>exactly 12</label>
<br>
<input type="radio" name="answer_17208" id="answer_17208_3" value="exactly 20">
<label>exactly 20</label>
<br>
<input type="radio" name="answer_17208" id="answer_17208_4" value="exactly 30">
<label>exactly 30</label>
<br>
<input type="radio" name="answer_17208" id="answer_17208_5" value="a little more than 40">
<label>a little more than 40</label>
<br>
<input type="submit" value="Check answer">
<div id="result_17208"></div>
</form>
<script>function validate_form_17208() {var x, text; var x = document.forms['form_17208']['answer_17208'].value;if (x == 'exactly 20'){text = 'That’s right! Your bar plot should make that immediately obvious.';} else {text = 'No, are you sure that you have plotted the distribution of occupational groups among male participants only?';} document.getElementById('result_17208').innerHTML = text; evaluate_final_score(); return false;}function evaluate_final_score(){
         element = document.getElementById('checkdown_final_score');
         if(element === null){return false;} else {var element, text, res1, res2;res1 = document.getElementById('result_50057').innerText == 'Correct! Bar charts are better suited than pie charts because humans are much better at estimating lengths than angles (see @sec-coordinates), and the labels are immediately next to the corresponding bars here.'; res2 = document.getElementById('result_17208').innerText == 'That’s right! Your bar plot should make that immediately obvious.';text = res1 + res2;element.innerHTML = text;
         return false;
         }}</script>
</div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Show sample code to answer Q10.3.</summary>
<div class="sourceCode cell-code" id="cb48" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a>Dabrowska.data <span class="sc">|&gt;</span> </span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Gender <span class="sc">==</span> <span class="st">"M"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> OccupGroup)) <span class="sc">+</span></span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>() <span class="sc">+</span></span>
<span id="cb48-5"><a href="#cb48-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Occupational group"</span>, </span>
<span id="cb48-6"><a href="#cb48-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Male participants"</span>) <span class="sc">+</span></span>
<span id="cb48-7"><a href="#cb48-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p><span style="color:green;"><strong>b.</strong></span> Is the legend in the bar plot that you have created necessary?</p>
<div class="cell">
<div class="cell-output-display">
<form name="form_1844" onsubmit="return validate_form_1844()" method="post">
<input type="radio" name="answer_1844" id="answer_1844_1" value="No, it only adds clutter.">
<label>No, it only adds clutter.</label>
<br>
<input type="radio" name="answer_1844" id="answer_1844_2" value="Yes, it makes the plot easier to interpret.">
<label>Yes, it makes the plot easier to interpret.</label>
<br>
<input type="radio" name="answer_1844" id="answer_1844_3" value="Not really, but it makes the plot look more professional.">
<label>Not really, but it makes the plot look more professional.</label>
<br>
<input type="radio" name="answer_1844" id="answer_1844_4" value="Not really, but it's impossible to remove the legend using the {ggplot2} library.">
<label>Not really, but it's impossible to remove the legend using the {ggplot2} library.</label>
<br>
<input type="submit" value="Check answer">
<div id="result_1844"></div>
</form>
<script>function validate_form_1844() {var x, text; var x = document.forms['form_1844']['answer_1844'].value;if (x == 'No, it only adds clutter.'){text = 'That’s right: the legend is redundant and does not make the plot easier to interpret. We can remove the legend by adding a theme layer that changes the position of the legend to “none”. Click on the link below to find out more.';} else {text = 'Are you sure?';} document.getElementById('result_1844').innerHTML = text; evaluate_final_score(); return false;}function evaluate_final_score(){
         element = document.getElementById('checkdown_final_score');
         if(element === null){return false;} else {var element, text, res1, res2, res3;res1 = document.getElementById('result_50057').innerText == 'Correct! Bar charts are better suited than pie charts because humans are much better at estimating lengths than angles (see @sec-coordinates), and the labels are immediately next to the corresponding bars here.'; res2 = document.getElementById('result_17208').innerText == 'That’s right! Your bar plot should make that immediately obvious.'; res3 = document.getElementById('result_1844').innerText == 'That’s right: the legend is redundant and does not make the plot easier to interpret. We can remove the legend by adding a theme layer that changes the position of the legend to “none”. Click on the link below to find out more.';text = res1 + res2 + res3;element.innerHTML = text;
         return false;
         }}</script>
</div>
</div>
<div class="cell" data-source-line-numbers="7">
<details class="code-fold">
<summary>Show code to answer Q10.4.</summary>
<div class="sourceCode cell-code" id="cb49" data-source-line-numbers="7" data-code-line-numbers="7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a>Dabrowska.data <span class="sc">|&gt;</span> </span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Gender <span class="sc">==</span> <span class="st">"M"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> OccupGroup, </span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a>                       <span class="at">fill =</span> OccupGroup)) <span class="sc">+</span></span>
<span id="cb49-5"><a href="#cb49-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>() <span class="sc">+</span></span>
<span id="cb49-6"><a href="#cb49-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb49-7"><a href="#cb49-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p><span style="color:green;"><strong>c.</strong></span> Create a pie chart that shows the distribution of occupational groups among male participants (as shown in <a href="#fig-OccupGroupPieChart" class="quarto-xref">Figure&nbsp;<span>10.27</span></a>). Which line of code is essential to create a pie chart using {ggplot2}?</p>
<div class="cell">
<div class="cell-output-display">
<form name="form_26170" onsubmit="return validate_form_26170()" method="post">
<input type="radio" name="answer_26170" id="answer_26170_1" value="coord_polar(&quot;y&quot;)">
<label>coord_polar("y")</label>
<br>
<input type="radio" name="answer_26170" id="answer_26170_2" value="theme_void()">
<label>theme_void()</label>
<br>
<input type="radio" name="answer_26170" id="answer_26170_3" value="coord(&quot;polar&quot;)">
<label>coord("polar")</label>
<br>
<input type="radio" name="answer_26170" id="answer_26170_4" value="geom_piechart()">
<label>geom_piechart()</label>
<br>
<input type="radio" name="answer_26170" id="answer_26170_5" value="geom_circle()">
<label>geom_circle()</label>
<br>
<input type="submit" value="Check answer">
<div id="result_26170"></div>
</form>
<script>function validate_form_26170() {var x, text; var x = document.forms['form_26170']['answer_26170'].value;if (x == 'coord_polar("y")'){text = 'Yes, well done!';} else {text = 'Not quite. Try adding and removing these lines of code in your piechart script to see the effect. If you’re stuck, check out the code answer below.';} document.getElementById('result_26170').innerHTML = text; evaluate_final_score(); return false;}function evaluate_final_score(){
         element = document.getElementById('checkdown_final_score');
         if(element === null){return false;} else {var element, text, res1, res2, res3, res4;res1 = document.getElementById('result_50057').innerText == 'Correct! Bar charts are better suited than pie charts because humans are much better at estimating lengths than angles (see @sec-coordinates), and the labels are immediately next to the corresponding bars here.'; res2 = document.getElementById('result_17208').innerText == 'That’s right! Your bar plot should make that immediately obvious.'; res3 = document.getElementById('result_1844').innerText == 'That’s right: the legend is redundant and does not make the plot easier to interpret. We can remove the legend by adding a theme layer that changes the position of the legend to “none”. Click on the link below to find out more.'; res4 = document.getElementById('result_26170').innerText == 'Yes, well done!';text = res1 + res2 + res3 + res4;element.innerHTML = text;
         return false;
         }}</script>
</div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Show code to create pie chart below.</summary>
<div class="sourceCode cell-code" id="cb50" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a>Dabrowska.data <span class="sc">|&gt;</span> </span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Gender <span class="sc">==</span> <span class="st">"M"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> <span class="st">""</span>, </span>
<span id="cb50-4"><a href="#cb50-4" aria-hidden="true" tabindex="-1"></a>                       <span class="at">fill =</span> OccupGroup)) <span class="sc">+</span></span>
<span id="cb50-5"><a href="#cb50-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_bar</span>(<span class="at">width =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb50-6"><a href="#cb50-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">coord_polar</span>(<span class="st">"y"</span>) <span class="sc">+</span></span>
<span id="cb50-7"><a href="#cb50-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_void</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><a href="10_Dataviz_files/figure-html/unnamed-chunk-49-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-42"><img src="10_Dataviz_files/figure-html/unnamed-chunk-49-1.png" class="img-fluid figure-img" width="384"></a></p>
</figure>
</div>
</div>
</div>
<p><span style="color:green;"><strong>d.</strong></span> Transform the pie chart that you just created in <span style="color:green;">c.</span> to make it look like <a href="#fig-PieChartRecode" class="quarto-xref">Figure&nbsp;<span>10.32</span></a>. To achieve this, wrangle the data <em>before</em> piping it into the <code>data</code> argument of the <code>ggplot()</code> function. Which {tidyverse} function can you use to rename the labels?</p>
<div class="cell">
<div class="cell-output-display">
<form name="form_35319" onsubmit="return validate_form_35319()" method="post">
<input type="radio" name="answer_35319" id="answer_35319_1" value="fct_relevel()">
<label>fct_relevel()</label>
<br>
<input type="radio" name="answer_35319" id="answer_35319_2" value="rename()">
<label>rename()</label>
<br>
<input type="radio" name="answer_35319" id="answer_35319_3" value="labs()">
<label>labs()</label>
<br>
<input type="radio" name="answer_35319" id="answer_35319_4" value="fct_recode()">
<label>fct_recode()</label>
<br>
<input type="radio" name="answer_35319" id="answer_35319_5" value="fct_mutate()">
<label>fct_mutate()</label>
<br>
<input type="submit" value="Check answer">
<div id="result_35319"></div>
</form>
<script>function validate_form_35319() {var x, text; var x = document.forms['form_35319']['answer_35319'].value;if (x == 'fct_recode()'){text = 'Absolutely!';} else {text = 'No, that won’t do the trick. Re-read @sec-ggplotData for a quick recap.';} document.getElementById('result_35319').innerHTML = text; evaluate_final_score(); return false;}function evaluate_final_score(){
         element = document.getElementById('checkdown_final_score');
         if(element === null){return false;} else {var element, text, res1, res2, res3, res4, res5;res1 = document.getElementById('result_50057').innerText == 'Correct! Bar charts are better suited than pie charts because humans are much better at estimating lengths than angles (see @sec-coordinates), and the labels are immediately next to the corresponding bars here.'; res2 = document.getElementById('result_17208').innerText == 'That’s right! Your bar plot should make that immediately obvious.'; res3 = document.getElementById('result_1844').innerText == 'That’s right: the legend is redundant and does not make the plot easier to interpret. We can remove the legend by adding a theme layer that changes the position of the legend to “none”. Click on the link below to find out more.'; res4 = document.getElementById('result_26170').innerText == 'Yes, well done!'; res5 = document.getElementById('result_35319').innerText == 'Absolutely!';text = res1 + res2 + res3 + res4 + res5;element.innerHTML = text;
         return false;
         }}</script>
</div>
</div>
<div class="cell" data-source-line-numbers="1-6,13">
<details class="code-fold">
<summary>Show sample code to answer Q10.6.</summary>
<div class="sourceCode cell-code" id="cb51" data-source-line-numbers="1-6,13" data-code-line-numbers="1-6,13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a>Dabrowska.data <span class="sc">|&gt;</span> </span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="st">`</span><span class="at">OccupGroup</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">fct_recode</span>(OccupGroup,</span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a>                                 <span class="st">`</span><span class="at">Professionally inactive</span><span class="st">`</span> <span class="ot">=</span> <span class="st">"I"</span>,</span>
<span id="cb51-4"><a href="#cb51-4" aria-hidden="true" tabindex="-1"></a>                                 <span class="st">`</span><span class="at">Clerical profession</span><span class="st">`</span> <span class="ot">=</span> <span class="st">"C"</span>,</span>
<span id="cb51-5"><a href="#cb51-5" aria-hidden="true" tabindex="-1"></a>                                 <span class="st">`</span><span class="at">Manual profession</span><span class="st">`</span> <span class="ot">=</span> <span class="st">"M"</span>,</span>
<span id="cb51-6"><a href="#cb51-6" aria-hidden="true" tabindex="-1"></a>                                 <span class="st">`</span><span class="at">Professional-level job</span><span class="st">`</span> <span class="ot">=</span> <span class="st">"PS"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb51-7"><a href="#cb51-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Gender <span class="sc">==</span> <span class="st">"M"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb51-8"><a href="#cb51-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> <span class="st">""</span>, </span>
<span id="cb51-9"><a href="#cb51-9" aria-hidden="true" tabindex="-1"></a>                       <span class="at">fill =</span> OccupGroup)) <span class="sc">+</span></span>
<span id="cb51-10"><a href="#cb51-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">width =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb51-11"><a href="#cb51-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_polar</span>(<span class="st">"y"</span>) <span class="sc">+</span></span>
<span id="cb51-12"><a href="#cb51-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_void</span>() <span class="sc">+</span></span>
<span id="cb51-13"><a href="#cb51-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">fill =</span> <span class="st">"Occupational group"</span>) <span class="co"># This last line of code changes the title of the legend, which is the label for the variable associated with the `fill` aestetics. </span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="fig-PieChartRecode" class="quarto-float quarto-figure quarto-figure-center anchored" width="384">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-PieChartRecode-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="10_Dataviz_files/figure-html/fig-PieChartRecode-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-43" title="Figure&nbsp;10.32: "><img src="10_Dataviz_files/figure-html/fig-PieChartRecode-1.png" id="fig-PieChartRecode" class="img-fluid figure-img" width="384"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig quarto-uncaptioned" id="fig-PieChartRecode-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;10.32
</figcaption>
</figure>
</div>
</div>
</div>
<p>&nbsp;</p>
</div>
</div>
</section>
<section id="sec-histograms" class="level3" data-number="10.2.2">
<h3 data-number="10.2.2" class="anchored" data-anchor-id="sec-histograms"><span class="header-section-number">10.2.2</span> Histograms</h3>
<p>In <a href="8_DescriptiveStats.html#sec-DistributionsNumeric" class="quarto-xref"><span>Section 8.2.2</span></a>, we visually examined the distribution of participants’ ages in a <strong>bar plot</strong>. This was possible because the age variable in <span class="citation" data-cites="DabrowskaExperienceAptitudeIndividual2019">Dąbrowska (<a href="99_references.html#ref-DabrowskaExperienceAptitudeIndividual2019" role="doc-biblioref">2019</a>)</span> was recorded as a discrete numeric variable (i.e.&nbsp;either as 18 or 19, but not 18.4 years of age).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb52" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> Dabrowska.data,</span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a>       <span class="at">mapping =</span> <span class="fu">aes</span>(Age)) <span class="sc">+</span></span>
<span id="cb52-3"><a href="#cb52-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>() <span class="sc">+</span></span>
<span id="cb52-4"><a href="#cb52-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>() <span class="sc">+</span></span>
<span id="cb52-5"><a href="#cb52-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><a href="10_Dataviz_files/figure-html/unnamed-chunk-52-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-44"><img src="10_Dataviz_files/figure-html/unnamed-chunk-52-1.png" class="img-fluid figure-img" width="576"></a></p>
</figure>
</div>
</div>
</div>
<p>Bar charts are best suited for categorical data and should only be used to visualise discrete numeric variables that have a fairly limited number of possible values. As we can see from the output of the <code>unique()</code> function, this is not the case for the <code>Age</code> variable in <code>Dabrowska.data</code>, as it includes 40 different age values, ranging from 17 to 65.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb53" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(Dabrowska.data<span class="sc">$</span>Age) <span class="sc">|&gt;</span> </span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sort</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre data-code-line-numbers=""><code> [1] 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 37 38 39 40 41 42
[26] 44 46 47 48 51 52 53 55 57 58 59 60 61 62 65</code></pre>
</div>
</div>
<p>The distribution of participants’ ages is therefore better visualised as a histogram or density plot. To visualise participants’ age as <strong>histogram</strong> rather than as a bar plot, all we need to do is change the plot geometry (see <a href="#sec-geoms" class="quarto-xref"><span>Section 10.1.4</span></a>) from <code>geom_bar()</code> to <code>geom_histogram()</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb55" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> Dabrowska.data,</span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a>       <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> Age)) <span class="sc">+</span></span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>() <span class="sc">+</span></span>
<span id="cb55-4"><a href="#cb55-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Age (in years)"</span>,</span>
<span id="cb55-5"><a href="#cb55-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Number of participants"</span>) <span class="sc">+</span></span>
<span id="cb55-6"><a href="#cb55-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre data-code-line-numbers=""><code>`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><a href="10_Dataviz_files/figure-html/unnamed-chunk-54-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-45"><img src="10_Dataviz_files/figure-html/unnamed-chunk-54-1.png" class="img-fluid figure-img" width="576"></a></p>
</figure>
</div>
</div>
</div>
<p>When generating this histogram, a message appears in the <code>R</code> console that informs us that, by default, the <code>geom_histogram()</code> function subdivided the <code>Age</code> values into 30 <strong>bins</strong>. This means that the age range from 17 to 65 has been subdivided into 30 groups of equal size. Given that there is a range of 48 in the <code>Age</code> values in this dataset, this is not a great way to subdivide the values of this variable.</p>
<p>As indicated in the message, to change this behaviour, we can adjust the value of the “binwidth” argument. This argument determines how many years go in each bin. So if we choose to have two years in each subdivision of the <code>Age</code> variable, we will end up with 24 bins. Logically, if we decide to group four years in each subdivision of the <code>Age</code> variable, we will end up with just 12 bins.</p>
<p>Compare the three histograms below. In your opinion, which binwidth provides the most effective way to visualise the distribution of participants’ ages? 🤔</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-4-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-1" role="tab" aria-controls="tabset-4-1" aria-selected="true"><code>geom_histogram()</code></a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-4-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-2" role="tab" aria-controls="tabset-4-2" aria-selected="false"><code>geom_histogram(binwidth = 2)</code></a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-4-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-3" role="tab" aria-controls="tabset-4-3" aria-selected="false"><code>geom_histogram(binwidth = 4)</code></a></li></ul>
<div class="tab-content">
<div id="tabset-4-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-4-1-tab">
<div class="cell" data-source-line-numbers="3">
<div class="sourceCode cell-code" id="cb57" data-source-line-numbers="3" data-code-line-numbers="3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> Dabrowska.data,</span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a>       <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> Age)) <span class="sc">+</span></span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>() <span class="sc">+</span></span>
<span id="cb57-4"><a href="#cb57-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Age (in years)"</span>,</span>
<span id="cb57-5"><a href="#cb57-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Number of participants"</span>) <span class="sc">+</span></span>
<span id="cb57-6"><a href="#cb57-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><a href="10_Dataviz_files/figure-html/unnamed-chunk-55-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-46"><img src="10_Dataviz_files/figure-html/unnamed-chunk-55-1.png" class="img-fluid figure-img" width="576"></a></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-4-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-4-2-tab">
<div class="cell" data-source-line-numbers="3">
<div class="sourceCode cell-code" id="cb58" data-source-line-numbers="3" data-code-line-numbers="3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> Dabrowska.data,</span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a>       <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> Age)) <span class="sc">+</span></span>
<span id="cb58-3"><a href="#cb58-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">binwidth =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb58-4"><a href="#cb58-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Age (in years)"</span>,</span>
<span id="cb58-5"><a href="#cb58-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Number of participants"</span>) <span class="sc">+</span></span>
<span id="cb58-6"><a href="#cb58-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><a href="10_Dataviz_files/figure-html/unnamed-chunk-56-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-47"><img src="10_Dataviz_files/figure-html/unnamed-chunk-56-1.png" class="img-fluid figure-img" width="576"></a></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-4-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-4-3-tab">
<div class="cell" data-source-line-numbers="3">
<div class="sourceCode cell-code" id="cb59" data-source-line-numbers="3" data-code-line-numbers="3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> Dabrowska.data,</span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a>       <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> Age)) <span class="sc">+</span></span>
<span id="cb59-3"><a href="#cb59-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">binwidth =</span> <span class="dv">4</span>) <span class="sc">+</span></span>
<span id="cb59-4"><a href="#cb59-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Age (in years)"</span>,</span>
<span id="cb59-5"><a href="#cb59-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Number of participants"</span>) <span class="sc">+</span></span>
<span id="cb59-6"><a href="#cb59-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><a href="10_Dataviz_files/figure-html/unnamed-chunk-57-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-48"><img src="10_Dataviz_files/figure-html/unnamed-chunk-57-1.png" class="img-fluid figure-img" width="576"></a></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="callout callout-style-default callout-caution callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Task 10.3
</div>
</div>
<div class="callout-body-container callout-body">
<p><span style="color:green;"><strong>a.</strong></span> How many different scores did participants obtain on the English grammar test (as stored in the <code>Grammar</code> variable).</p>
<div class="cell">
<div class="cell-output-display">
<form name="form_77509" onsubmit="return validate_form_77509()" method="post">
<input type="text" placeholder="" name="answer_77509">
<input type="submit" value="Check answer">
<div id="result_77509"></div>
</form>
<script>function validate_form_77509() {var x, text; var x = document.forms['form_77509']['answer_77509'].value;if (x == '32'|x == 'thirty-two'|x == 'thirty two'){text = 'That’s right, well done!';} else {text = 'No, not quite.';} document.getElementById('result_77509').innerHTML = text; evaluate_final_score(); return false;}function evaluate_final_score(){
         element = document.getElementById('checkdown_final_score');
         if(element === null){return false;} else {var element, text, res1, res2, res3, res4, res5, res6;res1 = document.getElementById('result_50057').innerText == 'Correct! Bar charts are better suited than pie charts because humans are much better at estimating lengths than angles (see @sec-coordinates), and the labels are immediately next to the corresponding bars here.'; res2 = document.getElementById('result_17208').innerText == 'That’s right! Your bar plot should make that immediately obvious.'; res3 = document.getElementById('result_1844').innerText == 'That’s right: the legend is redundant and does not make the plot easier to interpret. We can remove the legend by adding a theme layer that changes the position of the legend to “none”. Click on the link below to find out more.'; res4 = document.getElementById('result_26170').innerText == 'Yes, well done!'; res5 = document.getElementById('result_35319').innerText == 'Absolutely!'; res6 = document.getElementById('result_77509').innerText == 'That’s right, well done!';text = res1 + res2 + res3 + res4 + res5 + res6;element.innerHTML = text;
         return false;
         }}</script>
</div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Show sample code to help you answer 10.7.</summary>
<div class="sourceCode cell-code" id="cb60" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(Dabrowska.data<span class="sc">$</span>Grammar) <span class="sc">|&gt;</span> </span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">length</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p><span style="color:green;"><strong>b.</strong></span> What are the lowest <code>Grammar</code> scores among L1 and L2 participants?</p>
<div class="cell">
<div class="cell-output-display">
<form name="form_82505" onsubmit="return validate_form_82505()" method="post">
<input type="radio" name="answer_82505" id="answer_82505_1" value="45 points among L1 and zero points among L2 participants">
<label>45 points among L1 and zero points among L2 participants</label>
<br>
<input type="radio" name="answer_82505" id="answer_82505_2" value="58 points among L1 and 40 points among L2 participants">
<label>58 points among L1 and 40 points among L2 participants</label>
<br>
<input type="radio" name="answer_82505" id="answer_82505_3" value="17 points among L1 and 20 points among L2 participants">
<label>17 points among L1 and 20 points among L2 participants</label>
<br>
<input type="radio" name="answer_82505" id="answer_82505_4" value="8.89 points among L1 and -13 points among L2 participants">
<label>8.89 points among L1 and -13 points among L2 participants</label>
<br>
<input type="submit" value="Check answer">
<div id="result_82505"></div>
</form>
<script>function validate_form_82505() {var x, text; var x = document.forms['form_82505']['answer_82505'].value;if (x == '45 points among L1 and zero points among L2 participants'){text = 'That’s right, well done!';} else {text = 'That’s not correct. Try out the sample code below.';} document.getElementById('result_82505').innerHTML = text; evaluate_final_score(); return false;}function evaluate_final_score(){
         element = document.getElementById('checkdown_final_score');
         if(element === null){return false;} else {var element, text, res1, res2, res3, res4, res5, res6, res7;res1 = document.getElementById('result_50057').innerText == 'Correct! Bar charts are better suited than pie charts because humans are much better at estimating lengths than angles (see @sec-coordinates), and the labels are immediately next to the corresponding bars here.'; res2 = document.getElementById('result_17208').innerText == 'That’s right! Your bar plot should make that immediately obvious.'; res3 = document.getElementById('result_1844').innerText == 'That’s right: the legend is redundant and does not make the plot easier to interpret. We can remove the legend by adding a theme layer that changes the position of the legend to “none”. Click on the link below to find out more.'; res4 = document.getElementById('result_26170').innerText == 'Yes, well done!'; res5 = document.getElementById('result_35319').innerText == 'Absolutely!'; res6 = document.getElementById('result_77509').innerText == 'That’s right, well done!'; res7 = document.getElementById('result_82505').innerText == 'That’s right, well done!';text = res1 + res2 + res3 + res4 + res5 + res6 + res7;element.innerHTML = text;
         return false;
         }}</script>
</div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Show sample code to help you answer Q10.8.</summary>
<div class="sourceCode cell-code" id="cb61" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a>Dabrowska.data <span class="sc">|&gt;</span> </span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Group) <span class="sc">|&gt;</span> </span>
<span id="cb61-3"><a href="#cb61-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">lowest =</span> <span class="fu">min</span>(Grammar))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p><span style="color:green;"><strong>c.</strong></span> Create a histogram of participants’ <code>Grammar</code> scores. Which geometrical parameters need to be used to obtain exactly the same histogram as below?</p>
<div class="cell">
<div class="cell-output-display">
<form name="form_34869" onsubmit="return validate_form_34869()" method="post">
<input type="radio" name="answer_34869" id="answer_34869_1" value="geom_histogram()">
<label>geom_histogram()</label>
<br>
<input type="radio" name="answer_34869" id="answer_34869_2" value="geom_histogram(binwidth = 2)">
<label>geom_histogram(binwidth = 2)</label>
<br>
<input type="radio" name="answer_34869" id="answer_34869_3" value="geom_histogram(binwidth = 4)">
<label>geom_histogram(binwidth = 4)</label>
<br>
<input type="radio" name="answer_34869" id="answer_34869_4" value="geom_histogram(binwidth = 6)">
<label>geom_histogram(binwidth = 6)</label>
<br>
<input type="radio" name="answer_34869" id="answer_34869_5" value="geom_histogram(binwidth = 8)">
<label>geom_histogram(binwidth = 8)</label>
<br>
<input type="submit" value="Check answer">
<div id="result_34869"></div>
</form>
<script>function validate_form_34869() {var x, text; var x = document.forms['form_34869']['answer_34869'].value;if (x == 'geom_histogram(binwidth = 6)'){text = 'Exactly!';} else {text = 'No, not quite. Look carefully at the width of the bins.';} document.getElementById('result_34869').innerHTML = text; evaluate_final_score(); return false;}function evaluate_final_score(){
         element = document.getElementById('checkdown_final_score');
         if(element === null){return false;} else {var element, text, res1, res2, res3, res4, res5, res6, res7, res8;res1 = document.getElementById('result_50057').innerText == 'Correct! Bar charts are better suited than pie charts because humans are much better at estimating lengths than angles (see @sec-coordinates), and the labels are immediately next to the corresponding bars here.'; res2 = document.getElementById('result_17208').innerText == 'That’s right! Your bar plot should make that immediately obvious.'; res3 = document.getElementById('result_1844').innerText == 'That’s right: the legend is redundant and does not make the plot easier to interpret. We can remove the legend by adding a theme layer that changes the position of the legend to “none”. Click on the link below to find out more.'; res4 = document.getElementById('result_26170').innerText == 'Yes, well done!'; res5 = document.getElementById('result_35319').innerText == 'Absolutely!'; res6 = document.getElementById('result_77509').innerText == 'That’s right, well done!'; res7 = document.getElementById('result_82505').innerText == 'That’s right, well done!'; res8 = document.getElementById('result_34869').innerText == 'Exactly!';text = res1 + res2 + res3 + res4 + res5 + res6 + res7 + res8;element.innerHTML = text;
         return false;
         }}</script>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><a href="10_Dataviz_files/figure-html/unnamed-chunk-63-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-49"><img src="10_Dataviz_files/figure-html/unnamed-chunk-63-1.png" class="img-fluid figure-img" width="576"></a></p>
</figure>
</div>
</div>
</div>
<div class="cell" data-source-line-number="3">
<details class="code-fold">
<summary>Show answer to Q10.9</summary>
<div class="sourceCode cell-code" id="cb62" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> Dabrowska.data,</span>
<span id="cb62-2"><a href="#cb62-2" aria-hidden="true" tabindex="-1"></a>       <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> Grammar)) <span class="sc">+</span></span>
<span id="cb62-3"><a href="#cb62-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">binwidth =</span> <span class="dv">6</span>) <span class="sc">+</span></span>
<span id="cb62-4"><a href="#cb62-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Scores on English grammar test"</span>,</span>
<span id="cb62-5"><a href="#cb62-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Number of participants"</span>) <span class="sc">+</span></span>
<span id="cb62-6"><a href="#cb62-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p><span style="color:green;"><strong>d.</strong></span> Without trying out the code for yourself, which script was used to generate Plot 1 below?</p>
<div class="cell">
<div class="cell-output-display">
<form name="form_46862" onsubmit="return validate_form_46862()" method="post">
<input type="radio" name="answer_46862" id="answer_46862_1" value="Script A">
<label>Script A</label>
<br>
<input type="radio" name="answer_46862" id="answer_46862_2" value="Script B">
<label>Script B</label>
<br>
<input type="radio" name="answer_46862" id="answer_46862_3" value="Script C">
<label>Script C</label>
<br>
<input type="radio" name="answer_46862" id="answer_46862_4" value="Script D">
<label>Script D</label>
<br>
<input type="submit" value="Check answer">
<div id="result_46862"></div>
</form>
<script>function validate_form_46862() {var x, text; var x = document.forms['form_46862']['answer_46862'].value;if (x == 'Script A'){text = 'That’s right!';} else {text = 'That’s not it. If you’re stuck, try the the scripts out and compare their outputs to Plot 2.';} document.getElementById('result_46862').innerHTML = text; evaluate_final_score(); return false;}function evaluate_final_score(){
         element = document.getElementById('checkdown_final_score');
         if(element === null){return false;} else {var element, text, res1, res2, res3, res4, res5, res6, res7, res8, res9;res1 = document.getElementById('result_50057').innerText == 'Correct! Bar charts are better suited than pie charts because humans are much better at estimating lengths than angles (see @sec-coordinates), and the labels are immediately next to the corresponding bars here.'; res2 = document.getElementById('result_17208').innerText == 'That’s right! Your bar plot should make that immediately obvious.'; res3 = document.getElementById('result_1844').innerText == 'That’s right: the legend is redundant and does not make the plot easier to interpret. We can remove the legend by adding a theme layer that changes the position of the legend to “none”. Click on the link below to find out more.'; res4 = document.getElementById('result_26170').innerText == 'Yes, well done!'; res5 = document.getElementById('result_35319').innerText == 'Absolutely!'; res6 = document.getElementById('result_77509').innerText == 'That’s right, well done!'; res7 = document.getElementById('result_82505').innerText == 'That’s right, well done!'; res8 = document.getElementById('result_34869').innerText == 'Exactly!'; res9 = document.getElementById('result_46862').innerText == 'That’s right!';text = res1 + res2 + res3 + res4 + res5 + res6 + res7 + res8 + res9;element.innerHTML = text;
         return false;
         }}</script>
</div>
</div>
<p><strong>Plot 1</strong></p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><a href="10_Dataviz_files/figure-html/unnamed-chunk-66-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-50"><img src="10_Dataviz_files/figure-html/unnamed-chunk-66-1.png" class="img-fluid figure-img" width="576"></a></p>
</figure>
</div>
</div>
</div>
<div class="columns">
<div class="column" style="width:48%;">
<p><strong>Script A</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb63" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> Dabrowska.data,</span>
<span id="cb63-2"><a href="#cb63-2" aria-hidden="true" tabindex="-1"></a>       <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> Grammar,</span>
<span id="cb63-3"><a href="#cb63-3" aria-hidden="true" tabindex="-1"></a>                     <span class="at">fill =</span> Group)) <span class="sc">+</span></span>
<span id="cb63-4"><a href="#cb63-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">binwidth =</span> <span class="dv">6</span>,</span>
<span id="cb63-5"><a href="#cb63-5" aria-hidden="true" tabindex="-1"></a>                 <span class="at">alpha =</span> <span class="fl">0.6</span>) <span class="sc">+</span></span>
<span id="cb63-6"><a href="#cb63-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Scores on English grammar test"</span>,</span>
<span id="cb63-7"><a href="#cb63-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Number of participants"</span>) <span class="sc">+</span></span>
<span id="cb63-8"><a href="#cb63-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb63-9"><a href="#cb63-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:4%;">
<!-- empty column to create gap -->
</div><div class="column" style="width:48%;">
<p><strong>Script B</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb64" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> Dabrowska.data,</span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true" tabindex="-1"></a>       <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> Grammar,</span>
<span id="cb64-3"><a href="#cb64-3" aria-hidden="true" tabindex="-1"></a>                     <span class="at">fill =</span> Group)) <span class="sc">+</span></span>
<span id="cb64-4"><a href="#cb64-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">alpha =</span> <span class="fl">0.6</span>) <span class="sc">+</span></span>
<span id="cb64-5"><a href="#cb64-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Scores on English grammar test"</span>,</span>
<span id="cb64-6"><a href="#cb64-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Number of participants"</span>) <span class="sc">+</span></span>
<span id="cb64-7"><a href="#cb64-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb64-8"><a href="#cb64-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<div class="columns">
<div class="column" style="width:48%;">
<p><strong>Script C</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb65" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> Dabrowska.data,</span>
<span id="cb65-2"><a href="#cb65-2" aria-hidden="true" tabindex="-1"></a>       <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> Grammar,</span>
<span id="cb65-3"><a href="#cb65-3" aria-hidden="true" tabindex="-1"></a>                     <span class="at">colour =</span> Group)) <span class="sc">+</span></span>
<span id="cb65-4"><a href="#cb65-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">binwidth =</span> <span class="dv">6</span>) <span class="sc">+</span></span>
<span id="cb65-5"><a href="#cb65-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Scores on English grammar test"</span>,</span>
<span id="cb65-6"><a href="#cb65-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Number of participants"</span>) <span class="sc">+</span></span>
<span id="cb65-7"><a href="#cb65-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb65-8"><a href="#cb65-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:4%;">
<!-- empty column to create gap -->
</div><div class="column" style="width:48%;">
<p><strong>Script D</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb66" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> Dabrowska.data,</span>
<span id="cb66-2"><a href="#cb66-2" aria-hidden="true" tabindex="-1"></a>       <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> Grammar,</span>
<span id="cb66-3"><a href="#cb66-3" aria-hidden="true" tabindex="-1"></a>                     <span class="at">fill =</span> Group)) <span class="sc">+</span></span>
<span id="cb66-4"><a href="#cb66-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">binwidth =</span> <span class="dv">6</span>,</span>
<span id="cb66-5"><a href="#cb66-5" aria-hidden="true" tabindex="-1"></a>                 <span class="at">alpha =</span> <span class="fl">0.6</span>) <span class="sc">+</span></span>
<span id="cb66-6"><a href="#cb66-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> Group) <span class="sc">+</span></span>
<span id="cb66-7"><a href="#cb66-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Scores on English grammar test"</span>,</span>
<span id="cb66-8"><a href="#cb66-8" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Number of participants"</span>) <span class="sc">+</span></span>
<span id="cb66-9"><a href="#cb66-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb66-10"><a href="#cb66-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><p><span style="color:green;"><strong>e.</strong></span> Without trying out the code for yourself, which script was used to generate Plot 2 below?</p><div class="cell">
<div class="cell-output-display">
<form name="form_2142" onsubmit="return validate_form_2142()" method="post">
<input type="radio" name="answer_2142" id="answer_2142_1" value="Script A">
<label>Script A</label>
<br>
<input type="radio" name="answer_2142" id="answer_2142_2" value="Script B">
<label>Script B</label>
<br>
<input type="radio" name="answer_2142" id="answer_2142_3" value="Script C">
<label>Script C</label>
<br>
<input type="radio" name="answer_2142" id="answer_2142_4" value="Script D">
<label>Script D</label>
<br>
<input type="submit" value="Check answer">
<div id="result_2142"></div>
</form>
<script>function validate_form_2142() {var x, text; var x = document.forms['form_2142']['answer_2142'].value;if (x == 'Script D'){text = 'That’s right!';} else {text = 'That’s not it. If you’re stuck, try the the scripts out and compare their outputs to Plot 2.';} document.getElementById('result_2142').innerHTML = text; evaluate_final_score(); return false;}function evaluate_final_score(){
         element = document.getElementById('checkdown_final_score');
         if(element === null){return false;} else {var element, text, res1, res2, res3, res4, res5, res6, res7, res8, res9, res10;res1 = document.getElementById('result_50057').innerText == 'Correct! Bar charts are better suited than pie charts because humans are much better at estimating lengths than angles (see @sec-coordinates), and the labels are immediately next to the corresponding bars here.'; res2 = document.getElementById('result_17208').innerText == 'That’s right! Your bar plot should make that immediately obvious.'; res3 = document.getElementById('result_1844').innerText == 'That’s right: the legend is redundant and does not make the plot easier to interpret. We can remove the legend by adding a theme layer that changes the position of the legend to “none”. Click on the link below to find out more.'; res4 = document.getElementById('result_26170').innerText == 'Yes, well done!'; res5 = document.getElementById('result_35319').innerText == 'Absolutely!'; res6 = document.getElementById('result_77509').innerText == 'That’s right, well done!'; res7 = document.getElementById('result_82505').innerText == 'That’s right, well done!'; res8 = document.getElementById('result_34869').innerText == 'Exactly!'; res9 = document.getElementById('result_46862').innerText == 'That’s right!'; res10 = document.getElementById('result_2142').innerText == 'That’s right!';text = res1 + res2 + res3 + res4 + res5 + res6 + res7 + res8 + res9 + res10;element.innerHTML = text;
         return false;
         }}</script>
</div>
</div><p><strong>Plot 2</strong></p><div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><a href="10_Dataviz_files/figure-html/unnamed-chunk-72-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-51"><img src="10_Dataviz_files/figure-html/unnamed-chunk-72-1.png" class="img-fluid figure-img" width="576"></a></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="sec-Density" class="level3" data-number="10.2.3">
<h3 data-number="10.2.3" class="anchored" data-anchor-id="sec-Density"><span class="header-section-number">10.2.3</span> Density plots</h3>
<p>An alternative to displaying the data in discrete bins is to apply a density function to smooth over the bins of the histogram. This is what we call a density plot. <a href="#fig-GrammarDensity" class="quarto-xref">Figure&nbsp;<span>10.33</span></a> is a density plot of participants’ grammar test scores.</p>
<p>Create density plots in <code>R</code> using {ggplot2} is very simple. Because, yes, you’ve guessed it: there’s a <code>geom_</code> function for density plots and it’s called… <code>geom_density()</code>! 😃</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb67" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> Dabrowska.data,</span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a>       <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> Grammar)) <span class="sc">+</span></span>
<span id="cb67-3"><a href="#cb67-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density</span>(<span class="at">fill =</span> <span class="st">"purple"</span>) <span class="sc">+</span></span>
<span id="cb67-4"><a href="#cb67-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Scores on English grammar test"</span>) <span class="sc">+</span></span>
<span id="cb67-5"><a href="#cb67-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-GrammarDensity" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-GrammarDensity-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="10_Dataviz_files/figure-html/fig-GrammarDensity-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-52" title="Figure&nbsp;10.33: Distribution of English vocabulary test results"><img src="10_Dataviz_files/figure-html/fig-GrammarDensity-1.png" class="img-fluid figure-img" width="480"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-GrammarDensity-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;10.33: Distribution of English vocabulary test results
</figcaption>
</figure>
</div>
</div>
</div>
<p>Density plots are particularly useful to examine distribution shapes visually. Looking at <a href="#fig-GrammarDensity" class="quarto-xref">Figure&nbsp;<span>10.33</span></a>, we can immediately see that the values of the <code>Grammar</code> variable are not normally distributed (see <a href="8_DescriptiveStats.html#sec-DistributionsNumeric" class="quarto-xref"><span>Section 8.2.2</span></a>).</p>
<div class="callout callout-style-default callout-caution callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Task 10.4
</div>
</div>
<div class="callout-body-container callout-body">
<p><span style="color:green;"><strong>a.</strong></span> Which line of code needs to be added to the code used to generate <a href="#fig-GrammarDensity" class="quarto-xref">Figure&nbsp;<span>10.33</span></a> to produce a two-panel density plot like <a href="#fig-GrammarTwoPanelDensity" class="quarto-xref">Figure&nbsp;<span>10.34</span></a>?</p>
<div class="cell">
<div class="cell-output-display">
<form name="form_63963" onsubmit="return validate_form_63963()" method="post">
<input type="radio" name="answer_63963" id="answer_63963_1" value="facets(~ &quot;Group&quot;)">
<label>facets(~ "Group")</label>
<br>
<input type="radio" name="answer_63963" id="answer_63963_2" value="fct_wrap(&quot;Group&quot;)">
<label>fct_wrap("Group")</label>
<br>
<input type="radio" name="answer_63963" id="answer_63963_3" value="facet_wrap(Group)">
<label>facet_wrap(Group)</label>
<br>
<input type="radio" name="answer_63963" id="answer_63963_4" value="facet_wrap(~ Group)">
<label>facet_wrap(~ Group)</label>
<br>
<input type="radio" name="answer_63963" id="answer_63963_5" value="geom_grid(Group, facet = 2)">
<label>geom_grid(Group, facet = 2)</label>
<br>
<input type="submit" value="Check answer">
<div id="result_63963"></div>
</form>
<script>function validate_form_63963() {var x, text; var x = document.forms['form_63963']['answer_63963'].value;if (x == 'facet_wrap(~ Group)'){text = 'You’re right! Note that facet_wrap(“Group”) also works and produces the same output.';} else {text = 'Not quite, try these lines out yourself and check out @sec-facets to find out more.';} document.getElementById('result_63963').innerHTML = text; evaluate_final_score(); return false;}function evaluate_final_score(){
         element = document.getElementById('checkdown_final_score');
         if(element === null){return false;} else {var element, text, res1, res2, res3, res4, res5, res6, res7, res8, res9, res10, res11;res1 = document.getElementById('result_50057').innerText == 'Correct! Bar charts are better suited than pie charts because humans are much better at estimating lengths than angles (see @sec-coordinates), and the labels are immediately next to the corresponding bars here.'; res2 = document.getElementById('result_17208').innerText == 'That’s right! Your bar plot should make that immediately obvious.'; res3 = document.getElementById('result_1844').innerText == 'That’s right: the legend is redundant and does not make the plot easier to interpret. We can remove the legend by adding a theme layer that changes the position of the legend to “none”. Click on the link below to find out more.'; res4 = document.getElementById('result_26170').innerText == 'Yes, well done!'; res5 = document.getElementById('result_35319').innerText == 'Absolutely!'; res6 = document.getElementById('result_77509').innerText == 'That’s right, well done!'; res7 = document.getElementById('result_82505').innerText == 'That’s right, well done!'; res8 = document.getElementById('result_34869').innerText == 'Exactly!'; res9 = document.getElementById('result_46862').innerText == 'That’s right!'; res10 = document.getElementById('result_2142').innerText == 'That’s right!'; res11 = document.getElementById('result_63963').innerText == 'You’re right! Note that facet_wrap(“Group”) also works and produces the same output.';text = res1 + res2 + res3 + res4 + res5 + res6 + res7 + res8 + res9 + res10 + res11;element.innerHTML = text;
         return false;
         }}</script>
</div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Show sample code to help you answer Q10.12.</summary>
<div class="sourceCode cell-code" id="cb68" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> Dabrowska.data,</span>
<span id="cb68-2"><a href="#cb68-2" aria-hidden="true" tabindex="-1"></a>       <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> Grammar)) <span class="sc">+</span></span>
<span id="cb68-3"><a href="#cb68-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density</span>(<span class="at">fill =</span> <span class="st">"purple"</span>) <span class="sc">+</span></span>
<span id="cb68-4"><a href="#cb68-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> Group) <span class="sc">+</span></span>
<span id="cb68-5"><a href="#cb68-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Scores on English grammar test"</span>) <span class="sc">+</span></span>
<span id="cb68-6"><a href="#cb68-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="fig-GrammarTwoPanelDensity" class="quarto-float quarto-figure quarto-figure-center anchored" width="576">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-GrammarTwoPanelDensity-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="10_Dataviz_files/figure-html/fig-GrammarTwoPanelDensity-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-53" title="Figure&nbsp;10.34: "><img src="10_Dataviz_files/figure-html/fig-GrammarTwoPanelDensity-1.png" id="fig-GrammarTwoPanelDensity" class="img-fluid figure-img" width="576"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig quarto-uncaptioned" id="fig-GrammarTwoPanelDensity-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;10.34
</figcaption>
</figure>
</div>
</div>
</div>
<p><span style="color:green;"><strong>b.</strong></span> Create four density plots to visualise the distribution of participants’ <code>ART</code> (author recognisition test), <code>Blocks</code> (non-verbal IQ test), <code>Colloc</code> (English collocation test), and <code>Vocab</code> (English vocabularly test) scores.</p>
<p>Which variable’s distribution is closest to a normal distribution?</p>
<div class="cell">
<div class="cell-output-display">
<form name="form_90119" onsubmit="return validate_form_90119()" method="post">
<input type="radio" name="answer_90119" id="answer_90119_1" value="ART">
<label>ART</label>
<br>
<input type="radio" name="answer_90119" id="answer_90119_2" value="Blocks">
<label>Blocks</label>
<br>
<input type="radio" name="answer_90119" id="answer_90119_3" value="Colloc">
<label>Colloc</label>
<br>
<input type="radio" name="answer_90119" id="answer_90119_4" value="Vocab">
<label>Vocab</label>
<br>
<input type="radio" name="answer_90119" id="answer_90119_5" value="ART and Vocab">
<label>ART and Vocab</label>
<br>
<input type="submit" value="Check answer">
<div id="result_90119"></div>
</form>
<script>function validate_form_90119() {var x, text; var x = document.forms['form_90119']['answer_90119'].value;if (x == 'Blocks'){text = 'That’s right. Even though the distribution of Blocks scores is not perfectly symmetrical, it is less skewed than that of the other three variables.';} else {text = 'No, check @sec-Normal to find out more about normal and non-normal distributions.';} document.getElementById('result_90119').innerHTML = text; evaluate_final_score(); return false;}function evaluate_final_score(){
         element = document.getElementById('checkdown_final_score');
         if(element === null){return false;} else {var element, text, res1, res2, res3, res4, res5, res6, res7, res8, res9, res10, res11, res12;res1 = document.getElementById('result_50057').innerText == 'Correct! Bar charts are better suited than pie charts because humans are much better at estimating lengths than angles (see @sec-coordinates), and the labels are immediately next to the corresponding bars here.'; res2 = document.getElementById('result_17208').innerText == 'That’s right! Your bar plot should make that immediately obvious.'; res3 = document.getElementById('result_1844').innerText == 'That’s right: the legend is redundant and does not make the plot easier to interpret. We can remove the legend by adding a theme layer that changes the position of the legend to “none”. Click on the link below to find out more.'; res4 = document.getElementById('result_26170').innerText == 'Yes, well done!'; res5 = document.getElementById('result_35319').innerText == 'Absolutely!'; res6 = document.getElementById('result_77509').innerText == 'That’s right, well done!'; res7 = document.getElementById('result_82505').innerText == 'That’s right, well done!'; res8 = document.getElementById('result_34869').innerText == 'Exactly!'; res9 = document.getElementById('result_46862').innerText == 'That’s right!'; res10 = document.getElementById('result_2142').innerText == 'That’s right!'; res11 = document.getElementById('result_63963').innerText == 'You’re right! Note that facet_wrap(“Group”) also works and produces the same output.'; res12 = document.getElementById('result_90119').innerText == 'That’s right. Even though the distribution of Blocks scores is not perfectly symmetrical, it is less skewed than that of the other three variables.';text = res1 + res2 + res3 + res4 + res5 + res6 + res7 + res8 + res9 + res10 + res11 + res12;element.innerHTML = text;
         return false;
         }}</script>
</div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Show sample code to help you answer Q10.13.</summary>
<div class="sourceCode cell-code" id="cb69" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a>Dabrowska.data <span class="sc">|&gt;</span> </span>
<span id="cb69-2"><a href="#cb69-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Vocab, Colloc, ART, Blocks) <span class="sc">|&gt;</span>  </span>
<span id="cb69-3"><a href="#cb69-3" aria-hidden="true" tabindex="-1"></a>  tidyr<span class="sc">::</span><span class="fu">gather</span>() <span class="sc">|&gt;</span>  <span class="co"># This function from tidyr converts a selection of variables into two variables: a key and a value. The key contains the names of the original variable and the value the data. This means we can then use the facet_wrap function from ggplot2</span></span>
<span id="cb69-4"><a href="#cb69-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(value)) <span class="sc">+</span></span>
<span id="cb69-5"><a href="#cb69-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb69-6"><a href="#cb69-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">facet_wrap</span>(<span class="sc">~</span> key, <span class="at">scales =</span> <span class="st">"free"</span>, <span class="at">ncol =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb69-7"><a href="#cb69-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_x_continuous</span>(<span class="at">expand=</span><span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">0</span>)) <span class="sc">+</span></span>
<span id="cb69-8"><a href="#cb69-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_density</span>(<span class="at">fill =</span> <span class="st">"purple"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-12-contents" aria-controls="callout-12" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Going further: Setting properties within geoms
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-12" class="callout-12-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>You can change attributes of a layer by specifying them as arguments within a specific <code>geom_</code> function.</p>
<p>The help file of each <code>geom_</code> function provides a list of the aesthetics arguments that each function has (see below). Aesthetics that must be provided for a function to work are marked in bold, whilst the others are optional. Here, the required arguments are taken directly from the <code>aes</code> values specified for the entire plot and therefore need not be specified again within the <code>geom_density()</code> function. If we do not specify any of the optional aesthetics of the <code>geom_</code> functions, sensible default values will be used. For instance, the line colour of density plots will be black, unless otherwise specified with the argument “colour”.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb70" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a>?geom_density</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<blockquote class="blockquote">
<p>[…]</p>
<p><strong>Aesthetics</strong></p>
<p><code>geom_density()</code> understands the following aesthetics (required aesthetics are in bold):</p>
<ul>
<li><a href="http://127.0.0.1:19837/help/library/ggplot2/help/aes_position"><strong><code>x</code></strong></a></li>
<li><a href="http://127.0.0.1:19837/help/library/ggplot2/help/aes_position"><strong><code>y</code></strong></a></li>
<li><a href="http://127.0.0.1:19837/help/library/ggplot2/help/aes_colour_fill_alpha"><code>alpha</code></a></li>
<li><a href="http://127.0.0.1:19837/help/library/ggplot2/help/aes_colour_fill_alpha"><code>colour</code></a></li>
<li><a href="http://127.0.0.1:19837/help/library/ggplot2/help/aes_colour_fill_alpha"><code>fill</code></a></li>
<li><a href="http://127.0.0.1:19837/help/library/ggplot2/help/aes_group_order"><code>group</code></a></li>
<li><a href="http://127.0.0.1:19837/help/library/ggplot2/help/aes_linetype_size_shape"><code>linetype</code></a></li>
<li><a href="http://127.0.0.1:19837/help/library/ggplot2/help/aes_linetype_size_shape"><code>linewidth</code></a></li>
<li><code>weight</code></li>
</ul>
<p>Learn more about setting these aesthetics in <code>vignette("ggplot2-specs")</code>. […]</p>
</blockquote>
<p><a href="#fig-SillyDensityPlot" class="quarto-xref">Figure&nbsp;<span>10.35</span></a> is an example of a density plot with some highly customised aesthetics. It goes without saying that, just because you <em>can</em> customise many aesthetic aspects of a <code>geom_</code> layer, it doesn’t necessarily mean that it’s a good idea to do so! 🙃</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb71" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a>Dabrowska.data <span class="sc">|&gt;</span> </span>
<span id="cb71-2"><a href="#cb71-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> Blocks)) <span class="sc">+</span></span>
<span id="cb71-3"><a href="#cb71-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_density</span>(<span class="at">colour =</span> <span class="st">"purple"</span>,</span>
<span id="cb71-4"><a href="#cb71-4" aria-hidden="true" tabindex="-1"></a>                <span class="at">linewidth =</span> <span class="fl">1.5</span>,</span>
<span id="cb71-5"><a href="#cb71-5" aria-hidden="true" tabindex="-1"></a>                <span class="at">linetype =</span> <span class="st">"dotdash"</span>,</span>
<span id="cb71-6"><a href="#cb71-6" aria-hidden="true" tabindex="-1"></a>                <span class="at">fill =</span> <span class="st">"pink"</span>,</span>
<span id="cb71-7"><a href="#cb71-7" aria-hidden="true" tabindex="-1"></a>                <span class="at">alpha =</span> <span class="fl">0.8</span>,</span>
<span id="cb71-8"><a href="#cb71-8" aria-hidden="true" tabindex="-1"></a>                ) <span class="sc">+</span></span>
<span id="cb71-9"><a href="#cb71-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Non-verbal IQ (Blocks) test results"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-SillyDensityPlot" class="quarto-float quarto-figure quarto-figure-center anchored" width="576">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-SillyDensityPlot-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="10_Dataviz_files/figure-html/fig-SillyDensityPlot-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-54" title="Figure&nbsp;10.35: "><img src="10_Dataviz_files/figure-html/fig-SillyDensityPlot-1.png" id="fig-SillyDensityPlot" class="img-fluid figure-img" width="576"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig quarto-uncaptioned" id="fig-SillyDensityPlot-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;10.35
</figcaption>
</figure>
</div>
</div>
</div>
<p>It can, however, be very useful to help identify different elements within a complex plot as in <a href="#fig-UsefulDensityPlot" class="quarto-xref">Figure&nbsp;<span>10.36</span></a>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb72" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a>mean.blocks <span class="ot">&lt;-</span> Dabrowska.data <span class="sc">|&gt;</span></span>
<span id="cb72-2"><a href="#cb72-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Group) <span class="sc">|&gt;</span></span>
<span id="cb72-3"><a href="#cb72-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">mean =</span> <span class="fu">mean</span>(Blocks))</span>
<span id="cb72-4"><a href="#cb72-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb72-5"><a href="#cb72-5" aria-hidden="true" tabindex="-1"></a>Dabrowska.data <span class="sc">|&gt;</span></span>
<span id="cb72-6"><a href="#cb72-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> Blocks, </span>
<span id="cb72-7"><a href="#cb72-7" aria-hidden="true" tabindex="-1"></a>                       <span class="at">fill =</span> Group,</span>
<span id="cb72-8"><a href="#cb72-8" aria-hidden="true" tabindex="-1"></a>                       <span class="at">colour =</span> Group)) <span class="sc">+</span> </span>
<span id="cb72-9"><a href="#cb72-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density</span>(<span class="at">alpha =</span> <span class="fl">0.6</span>, </span>
<span id="cb72-10"><a href="#cb72-10" aria-hidden="true" tabindex="-1"></a>               <span class="at">position =</span> <span class="st">"identity"</span>) <span class="sc">+</span></span>
<span id="cb72-11"><a href="#cb72-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_vline</span>(<span class="at">data =</span> mean.blocks, </span>
<span id="cb72-12"><a href="#cb72-12" aria-hidden="true" tabindex="-1"></a>             <span class="fu">aes</span>(<span class="at">xintercept =</span> mean, </span>
<span id="cb72-13"><a href="#cb72-13" aria-hidden="true" tabindex="-1"></a>                 <span class="at">colour =</span> Group), </span>
<span id="cb72-14"><a href="#cb72-14" aria-hidden="true" tabindex="-1"></a>             <span class="at">linetype =</span> <span class="st">"dashed"</span>,</span>
<span id="cb72-15"><a href="#cb72-15" aria-hidden="true" tabindex="-1"></a>             <span class="at">linewidth =</span> <span class="fl">0.8</span>) <span class="sc">+</span></span>
<span id="cb72-16"><a href="#cb72-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_colour_viridis_d</span>(<span class="at">option =</span> <span class="st">"turbo"</span>) <span class="sc">+</span></span>
<span id="cb72-17"><a href="#cb72-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_viridis_d</span>(<span class="at">option =</span> <span class="st">"turbo"</span>) <span class="sc">+</span></span>
<span id="cb72-18"><a href="#cb72-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb72-19"><a href="#cb72-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Non-verbal IQ test (Blocks) test results"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-UsefulDensityPlot" class="quarto-float quarto-figure quarto-figure-center anchored" width="576">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-UsefulDensityPlot-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="10_Dataviz_files/figure-html/fig-UsefulDensityPlot-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-55" title="Figure&nbsp;10.36: "><img src="10_Dataviz_files/figure-html/fig-UsefulDensityPlot-1.png" id="fig-UsefulDensityPlot" class="img-fluid figure-img" width="576"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig quarto-uncaptioned" id="fig-UsefulDensityPlot-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;10.36
</figcaption>
</figure>
</div>
</div>
</div>
<p>Note that, to create <a href="#fig-UsefulDensityPlot" class="quarto-xref">Figure&nbsp;<span>10.36</span></a>, we first calculated the mean Blocks scores for both L1 and L2 participants and stored these values in a new object called <code>mean.blocks</code>. These values are then called within the <code>geom_vline()</code> function, which draws vertical lines. In other words, in addition to setting <code>aes()</code> mappings within the <code>ggplot()</code> function, we can also add additional data mappings within a specific <code>geom_</code> function. It’s no exaggeration to say that, with {ggplot2}, pretty much anything is possible!</p>
</div>
</div>
</div>
</section>
<section id="boxplots" class="level3" data-number="10.2.4">
<h3 data-number="10.2.4" class="anchored" data-anchor-id="boxplots"><span class="header-section-number">10.2.4</span> Boxplots</h3>
<p>In <a href="8_DescriptiveStats.html#sec-IQR" class="quarto-xref"><span>Section 8.3.2</span></a>, we saw that <strong>boxplots</strong> are a great way to visualise both the central tendency (median) of a numeric variable and the spread around this central tendency (IQR). There is an in-built function to create boxplots in {ggplot2}. No prizes will be awarded for guessing that the necessary <code>geom_</code> function is called… <code>geom_density()</code>! 😆</p>
<p>Whilst it’s possible to plot just a single boxplot, that rarely makes sense. In fact, the <code>x</code>-axis in <a href="#fig-GrammarBoxPlot" class="quarto-xref">Figure&nbsp;<span>10.37</span></a> is entirely nonsensical! The distribution of <code>Grammar</code> scores across the entire dataset is much better visualised as a histogram or density plot (see <a href="#sec-Density" class="quarto-xref"><span>Section 10.2.3</span></a>) than as a single boxplot.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb73" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a>Dabrowska.data <span class="sc">|&gt;</span></span>
<span id="cb73-2"><a href="#cb73-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">y =</span> Grammar)) <span class="sc">+</span></span>
<span id="cb73-3"><a href="#cb73-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb73-4"><a href="#cb73-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span> </span>
<span id="cb73-5"><a href="#cb73-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">"Grammar scores"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-GrammarBoxPlot" class="quarto-float quarto-figure quarto-figure-center anchored" width="384">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-GrammarBoxPlot-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="10_Dataviz_files/figure-html/fig-GrammarBoxPlot-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-56" title="Figure&nbsp;10.37: "><img src="10_Dataviz_files/figure-html/fig-GrammarBoxPlot-1.png" id="fig-GrammarBoxPlot" class="img-fluid figure-img" width="384"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig quarto-uncaptioned" id="fig-GrammarBoxPlot-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;10.37
</figcaption>
</figure>
</div>
</div>
</div>
<p>If, however, we want to compare the <code>Grammar</code> scores of two or more different groups of participants, a boxplot makes a lot more sense (see <a href="#fig-GrammarBoxPlotGroup" class="quarto-xref">Figure&nbsp;<span>10.38</span></a>). To achieve this, we add a second argument within the <code>aes()</code> function, which maps the values of the <code>Group</code> variable (which are either “L1” or “L2”) to the plot’s <code>x</code>-axis.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb74" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a>Dabrowska.data <span class="sc">|&gt;</span></span>
<span id="cb74-2"><a href="#cb74-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">y =</span> Grammar, </span>
<span id="cb74-3"><a href="#cb74-3" aria-hidden="true" tabindex="-1"></a>                       <span class="at">x =</span> Group)) <span class="sc">+</span></span>
<span id="cb74-4"><a href="#cb74-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb74-5"><a href="#cb74-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb74-6"><a href="#cb74-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">"Grammar scores"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-GrammarBoxPlotGroup" class="quarto-float quarto-figure quarto-figure-center anchored" width="480">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-GrammarBoxPlotGroup-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="10_Dataviz_files/figure-html/fig-GrammarBoxPlotGroup-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-57" title="Figure&nbsp;10.38: "><img src="10_Dataviz_files/figure-html/fig-GrammarBoxPlotGroup-1.png" id="fig-GrammarBoxPlotGroup" class="img-fluid figure-img" width="480"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig quarto-uncaptioned" id="fig-GrammarBoxPlotGroup-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;10.38
</figcaption>
</figure>
</div>
</div>
</div>
<p>The meaning conveyed by <a href="#fig-GrammarBoxPlotGroup" class="quarto-xref">Figure&nbsp;<span>10.38</span></a> is clear: there is hardly any difference between the average (median) grammar comprehension test scores of L1 and L2 participants in <span class="citation" data-cites="DabrowskaExperienceAptitudeIndividual2019">Dąbrowska (<a href="99_references.html#ref-DabrowskaExperienceAptitudeIndividual2019" role="doc-biblioref">2019</a>)</span>’s dataset. Indeed, we can see that the thicker, middle lines within each boxplot are almost at the same level. However, the two boxplots have very different shapes and overall lengths: the scores of the 50% of L2 participants who scored below the median are much more spread out than those of the L1 participants who obtained below-average scores. This makes intuitive sense: native English speakers living in the UK who volunteer for such a study are likely to all have a fairly high to very high understanding of English grammar. By contrast, the L2 speakers are much more varied: some are highly proficient in English, while others are not. This range of proficiency could due to all sorts of reasons.</p>
<p>What are some of the possible reasons that you can think of? 🤔 Make a note of them as we will explore these hypotheses further in <a href="#sec-Scatterplots" class="quarto-xref"><span>Section 10.2.5</span></a>.</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Quiz time!
</div>
</div>
<div class="callout-body-container callout-body">
<p><span style="color:green;"><strong>Q10.3</strong></span> Create a boxplot to compare how participants in different occupational groups (<code>OccupGroup</code>) performed on the English grammar test. Which part of the code used to produce <a href="#fig-GrammarBoxPlotGroup" class="quarto-xref">Figure&nbsp;<span>10.38</span></a> do you need to modify to achieve this?</p>
<div class="cell">
<div class="cell-output-display">
<form name="form_3836" onsubmit="return validate_form_3836()" method="post">
<input type="radio" name="answer_3836" id="answer_3836_1" value="y = Grammar">
<label>y = Grammar</label>
<br>
<input type="radio" name="answer_3836" id="answer_3836_2" value="geom_boxplot()">
<label>geom_boxplot()</label>
<br>
<input type="radio" name="answer_3836" id="answer_3836_3" value="x = Group">
<label>x = Group</label>
<br>
<input type="radio" name="answer_3836" id="answer_3836_4" value="Dabrowska.data">
<label>Dabrowska.data</label>
<br>
<input type="submit" value="Check answer">
<div id="result_3836"></div>
</form>
<script>function validate_form_3836() {var x, text; var x = document.forms['form_3836']['answer_3836'].value;if (x == 'x = Group'){text = 'Correct!';} else {text = 'No. Check out the code solution below if you’re unsure.';} document.getElementById('result_3836').innerHTML = text; evaluate_final_score(); return false;}function evaluate_final_score(){
         element = document.getElementById('checkdown_final_score');
         if(element === null){return false;} else {var element, text, res1, res2, res3, res4, res5, res6, res7, res8, res9, res10, res11, res12, res13;res1 = document.getElementById('result_50057').innerText == 'Correct! Bar charts are better suited than pie charts because humans are much better at estimating lengths than angles (see @sec-coordinates), and the labels are immediately next to the corresponding bars here.'; res2 = document.getElementById('result_17208').innerText == 'That’s right! Your bar plot should make that immediately obvious.'; res3 = document.getElementById('result_1844').innerText == 'That’s right: the legend is redundant and does not make the plot easier to interpret. We can remove the legend by adding a theme layer that changes the position of the legend to “none”. Click on the link below to find out more.'; res4 = document.getElementById('result_26170').innerText == 'Yes, well done!'; res5 = document.getElementById('result_35319').innerText == 'Absolutely!'; res6 = document.getElementById('result_77509').innerText == 'That’s right, well done!'; res7 = document.getElementById('result_82505').innerText == 'That’s right, well done!'; res8 = document.getElementById('result_34869').innerText == 'Exactly!'; res9 = document.getElementById('result_46862').innerText == 'That’s right!'; res10 = document.getElementById('result_2142').innerText == 'That’s right!'; res11 = document.getElementById('result_63963').innerText == 'You’re right! Note that facet_wrap(“Group”) also works and produces the same output.'; res12 = document.getElementById('result_90119').innerText == 'That’s right. Even though the distribution of Blocks scores is not perfectly symmetrical, it is less skewed than that of the other three variables.'; res13 = document.getElementById('result_3836').innerText == 'Correct!';text = res1 + res2 + res3 + res4 + res5 + res6 + res7 + res8 + res9 + res10 + res11 + res12 + res13;element.innerHTML = text;
         return false;
         }}</script>
</div>
</div>
<div class="cell" data-source-line-numbers="3">
<details class="code-fold">
<summary>Show sample code to answer Q10.14.</summary>
<div class="sourceCode cell-code" id="cb75" data-source-line-numbers="3" data-code-line-numbers="3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a>Dabrowska.data <span class="sc">|&gt;</span></span>
<span id="cb75-2"><a href="#cb75-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">y =</span> Grammar, </span>
<span id="cb75-3"><a href="#cb75-3" aria-hidden="true" tabindex="-1"></a>                       <span class="at">x =</span> OccupGroup)) <span class="sc">+</span></span>
<span id="cb75-4"><a href="#cb75-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb75-5"><a href="#cb75-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb75-6"><a href="#cb75-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">"Grammar scores"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p><span style="color:green;"><strong>Q10.4</strong></span> The code below was used to create <span class="quarto-unresolved-ref">?fig-OccupBoxPlot</span>, except that the arguments of the <code>aes()</code> function have been deleted. Which data mappings were specified inside the <code>aes()</code> function to produce <span class="quarto-unresolved-ref">?fig-OccupBoxPlot</span>?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb76" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a>Dabrowska.data <span class="sc">|&gt;</span></span>
<span id="cb76-2"><a href="#cb76-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Group =</span> <span class="fu">fct_recode</span>(Group,</span>
<span id="cb76-3"><a href="#cb76-3" aria-hidden="true" tabindex="-1"></a>                            <span class="st">`</span><span class="at">L1 participants</span><span class="st">`</span> <span class="ot">=</span> <span class="st">"L1"</span>,</span>
<span id="cb76-4"><a href="#cb76-4" aria-hidden="true" tabindex="-1"></a>                            <span class="st">`</span><span class="at">L2 participants</span><span class="st">`</span> <span class="ot">=</span> <span class="st">"L2"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb76-5"><a href="#cb76-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(█ █ █ █ █ █ █ █ █ █ █ █)) <span class="sc">+</span></span>
<span id="cb76-6"><a href="#cb76-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_boxplot</span>(<span class="at">alpha =</span> <span class="fl">0.8</span>) <span class="sc">+</span></span>
<span id="cb76-7"><a href="#cb76-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_fill_viridis_d</span>(<span class="at">option =</span> <span class="st">"viridis"</span>) <span class="sc">+</span></span>
<span id="cb76-8"><a href="#cb76-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_y_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">100</span>, <span class="dv">10</span>)) <span class="sc">+</span></span>
<span id="cb76-9"><a href="#cb76-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">"Grammar scores"</span>, </span>
<span id="cb76-10"><a href="#cb76-10" aria-hidden="true" tabindex="-1"></a>         <span class="at">x =</span> <span class="cn">NULL</span>,</span>
<span id="cb76-11"><a href="#cb76-11" aria-hidden="true" tabindex="-1"></a>         <span class="at">fill =</span> <span class="st">"Occupational group"</span>,</span>
<span id="cb76-12"><a href="#cb76-12" aria-hidden="true" tabindex="-1"></a>         <span class="at">title =</span> <span class="st">"English grammar comprehension test results"</span>,</span>
<span id="cb76-13"><a href="#cb76-13" aria-hidden="true" tabindex="-1"></a>         <span class="at">subtitle =</span> <span class="st">"among L1 and L2 participants with different occupations"</span>) <span class="sc">+</span></span>
<span id="cb76-14"><a href="#cb76-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb76-15"><a href="#cb76-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(<span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">12</span>),</span>
<span id="cb76-16"><a href="#cb76-16" aria-hidden="true" tabindex="-1"></a>          <span class="at">legend.position =</span> <span class="st">"bottom"</span>, <span class="co"># We move the legend to the bottom of the plot. </span></span>
<span id="cb76-17"><a href="#cb76-17" aria-hidden="true" tabindex="-1"></a>          <span class="at">legend.box.background =</span> <span class="fu">element_rect</span>()) <span class="co"># We add a frame around the legend.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><a href="10_Dataviz_files/figure-html/unnamed-chunk-86-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-58"><img src="10_Dataviz_files/figure-html/unnamed-chunk-86-1.png" class="img-fluid figure-img" width="576"></a></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<form name="form_11174" onsubmit="return validate_form_11174()" method="post">
<input type="checkbox" id="answer_11174_1" value="legend = OccupGroup">
<label>legend = OccupGroup</label>
<br>
<input type="checkbox" id="answer_11174_2" value="x = Group">
<label>x = Group</label>
<br>
<input type="checkbox" id="answer_11174_3" value="fill = OccupGroup">
<label>fill = OccupGroup</label>
<br>
<input type="checkbox" id="answer_11174_4" value="y = OccupGroup">
<label>y = OccupGroup</label>
<br>
<input type="checkbox" id="answer_11174_5" value="facet = Group">
<label>facet = Group</label>
<br>
<input type="checkbox" id="answer_11174_6" value="facet = OccupGroup">
<label>facet = OccupGroup</label>
<br>
<input type="checkbox" id="answer_11174_7" value="y = Grammar">
<label>y = Grammar</label>
<br>
<input type="checkbox" id="answer_11174_8" value="colour = OccupGroup">
<label>colour = OccupGroup</label>
<br>
<input type="checkbox" id="answer_11174_9" value="x = OccupGroup">
<label>x = OccupGroup</label>
<br>
<input type="submit" value="Check answer">
<div id="result_11174"></div>
</form>
<script>function validate_form_11174() {var text; var x1 = document.getElementById('answer_11174_1'); var x2 = document.getElementById('answer_11174_2'); var x3 = document.getElementById('answer_11174_3'); var x4 = document.getElementById('answer_11174_4'); var x5 = document.getElementById('answer_11174_5'); var x6 = document.getElementById('answer_11174_6'); var x7 = document.getElementById('answer_11174_7'); var x8 = document.getElementById('answer_11174_8'); var x9 = document.getElementById('answer_11174_9'); if (x1.checked == false&x2.checked == true&x3.checked == true&x4.checked == false&x5.checked == false&x6.checked == true&x7.checked == true&x8.checked == false&x9.checked == false){text = 'That’s right! Well done, that wasn’t easy!';} else {text = 'No, not quite. Try out the code with these different mappings to see what effect they have.';} document.getElementById('result_11174').innerHTML = text; evaluate_final_score(); return false;}function evaluate_final_score(){
         element = document.getElementById('checkdown_final_score');
         if(element === null){return false;} else {var element, text, res1, res2, res3, res4, res5, res6, res7, res8, res9, res10, res11, res12, res13, res14;res1 = document.getElementById('result_50057').innerText == 'Correct! Bar charts are better suited than pie charts because humans are much better at estimating lengths than angles (see @sec-coordinates), and the labels are immediately next to the corresponding bars here.'; res2 = document.getElementById('result_17208').innerText == 'That’s right! Your bar plot should make that immediately obvious.'; res3 = document.getElementById('result_1844').innerText == 'That’s right: the legend is redundant and does not make the plot easier to interpret. We can remove the legend by adding a theme layer that changes the position of the legend to “none”. Click on the link below to find out more.'; res4 = document.getElementById('result_26170').innerText == 'Yes, well done!'; res5 = document.getElementById('result_35319').innerText == 'Absolutely!'; res6 = document.getElementById('result_77509').innerText == 'That’s right, well done!'; res7 = document.getElementById('result_82505').innerText == 'That’s right, well done!'; res8 = document.getElementById('result_34869').innerText == 'Exactly!'; res9 = document.getElementById('result_46862').innerText == 'That’s right!'; res10 = document.getElementById('result_2142').innerText == 'That’s right!'; res11 = document.getElementById('result_63963').innerText == 'You’re right! Note that facet_wrap(“Group”) also works and produces the same output.'; res12 = document.getElementById('result_90119').innerText == 'That’s right. Even though the distribution of Blocks scores is not perfectly symmetrical, it is less skewed than that of the other three variables.'; res13 = document.getElementById('result_3836').innerText == 'Correct!'; res14 = document.getElementById('result_11174').innerText == 'That’s right! Well done, that wasn’t easy!';text = res1 + res2 + res3 + res4 + res5 + res6 + res7 + res8 + res9 + res10 + res11 + res12 + res13 + res14;element.innerHTML = text;
         return false;
         }}</script>
</div>
<div class="cell-output-display">
<div id="hint_21975" onmouseover="return show_hint_21975()">🦉 Hover over the owl for a first hint.</div>
<div id="result_21975" onmouseover="return show_hint_21975()"></div>
<script>function show_hint_21975(){var x = document.getElementById('result_21975').innerHTML; if(!x){document.getElementById('result_21975').innerHTML = 'Copy the code and experiment with various combinations of the proposed mappings.';} else {document.getElementById('result_21975').innerHTML = '';}}</script>
</div>
<div class="cell-output-display">
<div id="hint_71613" onclick="return show_hint_71613()">🐭 Click on the mouse for a second hint.</div>
<div id="result_71613" onclick="return show_hint_71613()"></div>
<script>function show_hint_71613(){var x = document.getElementById('result_71613').innerHTML; if(!x){document.getElementById('result_71613').innerHTML = 'This boxplot requires a total of four data mappings.';} else {document.getElementById('result_71613').innerHTML = '';}}</script>
</div>
</div>
<p>&nbsp;</p>
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-14-contents" aria-controls="callout-14" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Going further: Dot plots and violin plots
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-14" class="callout-14-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>The {ggplot2} library offers many more <code>geom_</code> functions for you to explore. Here are two more types of graphs that are currently only rarely used in the language sciences, but which can be very effective ways to visualise the distribution of a numeric variable across different levels of a categorical variable.</p>
<section id="dot-plots" class="level5" data-number="10.2.4.0.1">
<h5 data-number="10.2.4.0.1" class="anchored" data-anchor-id="dot-plots"><span class="header-section-number">10.2.4.0.1</span> Dot plots</h5>
<p>In a dot plot, each data point (corresponding, here, to a single participant) is represented by a single dot. The size of each dot corresponds to the chosen <strong>bin width</strong>. This makes dot plots a combination of a boxplot (see <a href="8_DescriptiveStats.html#sec-IQR" class="quarto-xref"><span>Section 8.3.2</span></a>) and a histogram (see <a href="#sec-histograms" class="quarto-xref"><span>Section 10.2.2</span></a>).</p>
<div class="columns">
<div class="column" style="width:49%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb77" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> Dabrowska.data,</span>
<span id="cb77-2"><a href="#cb77-2" aria-hidden="true" tabindex="-1"></a>    <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">y =</span> Grammar, </span>
<span id="cb77-3"><a href="#cb77-3" aria-hidden="true" tabindex="-1"></a>                     <span class="at">x =</span> Group)) <span class="sc">+</span></span>
<span id="cb77-4"><a href="#cb77-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_dotplot</span>(<span class="at">binaxis =</span> <span class="st">"y"</span>, </span>
<span id="cb77-5"><a href="#cb77-5" aria-hidden="true" tabindex="-1"></a>              <span class="at">stackdir =</span> <span class="st">"center"</span>,</span>
<span id="cb77-6"><a href="#cb77-6" aria-hidden="true" tabindex="-1"></a>              <span class="at">binwidth =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb77-7"><a href="#cb77-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">"Grammar comprehension scores"</span>,</span>
<span id="cb77-8"><a href="#cb77-8" aria-hidden="true" tabindex="-1"></a>         <span class="at">x =</span> <span class="cn">NULL</span>) <span class="sc">+</span></span>
<span id="cb77-9"><a href="#cb77-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_bw</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:2%;">
<!-- empty column to create gap -->
</div><div class="column" style="width:49%;">
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><a href="10_Dataviz_files/figure-html/unnamed-chunk-89-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-59"><img src="10_Dataviz_files/figure-html/unnamed-chunk-89-1.png" class="img-fluid figure-img" width="576"></a></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="violin-plots" class="level5" data-number="10.2.4.0.2">
<h5 data-number="10.2.4.0.2" class="anchored" data-anchor-id="violin-plots"><span class="header-section-number">10.2.4.0.2</span> Violin plots</h5>
<p>The help file of the <code>geom_violin()</code> function describes violin plots as follows:</p>
<blockquote class="blockquote">
<p>A violin plot is a compact display of a continuous distribution. It is a blend of <a href="http://127.0.0.1:19143/help/library/ggplot2/help/geom_boxplot"><code>geom_boxplot()</code></a> and <a href="http://127.0.0.1:19143/help/library/ggplot2/help/geom_density"><code>geom_density()</code></a>: a violin plot is a mirrored density plot displayed in the same way as a boxplot.</p>
</blockquote>
<div class="columns">
<div class="column" style="width:49%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb78" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> Dabrowska.data,</span>
<span id="cb78-2"><a href="#cb78-2" aria-hidden="true" tabindex="-1"></a>       <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">y =</span> Grammar, </span>
<span id="cb78-3"><a href="#cb78-3" aria-hidden="true" tabindex="-1"></a>                       <span class="at">x =</span> Group)) <span class="sc">+</span></span>
<span id="cb78-4"><a href="#cb78-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_violin</span>() <span class="sc">+</span></span>
<span id="cb78-5"><a href="#cb78-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">"Grammar comprehension scores"</span>,</span>
<span id="cb78-6"><a href="#cb78-6" aria-hidden="true" tabindex="-1"></a>         <span class="at">x =</span> <span class="cn">NULL</span>) <span class="sc">+</span></span>
<span id="cb78-7"><a href="#cb78-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_bw</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:2%;">
<!-- empty column to create gap -->
</div><div class="column" style="width:49%;">
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><a href="10_Dataviz_files/figure-html/unnamed-chunk-91-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-60"><img src="10_Dataviz_files/figure-html/unnamed-chunk-91-1.png" class="img-fluid figure-img" width="576"></a></p>
</figure>
</div>
</div>
</div>
</div>
</div>
<p>By themselves, <strong>violin plots</strong> are rather abstract representations of variable distributions. However, in combination with <strong>boxplots</strong>, they can be an effective way to visualise and compare data distributions. Note that, here, the order of the layers is important because, if we first draw the boxplots and then the violin plots, the violin plots will mask the boxplots completely.</p>
<div class="columns">
<div class="column" style="width:49%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb79" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a>Dabrowska.data <span class="sc">|&gt;</span> </span>
<span id="cb79-2"><a href="#cb79-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">y =</span> Grammar, </span>
<span id="cb79-3"><a href="#cb79-3" aria-hidden="true" tabindex="-1"></a>                       <span class="at">x =</span> Group)) <span class="sc">+</span></span>
<span id="cb79-4"><a href="#cb79-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_violin</span>(<span class="at">width =</span> <span class="dv">1</span>, </span>
<span id="cb79-5"><a href="#cb79-5" aria-hidden="true" tabindex="-1"></a>                <span class="at">colour =</span> <span class="st">"grey"</span>, </span>
<span id="cb79-6"><a href="#cb79-6" aria-hidden="true" tabindex="-1"></a>                <span class="at">fill =</span> <span class="st">"grey"</span>) <span class="sc">+</span></span>
<span id="cb79-7"><a href="#cb79-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_boxplot</span>(<span class="at">width =</span> <span class="fl">0.08</span>, </span>
<span id="cb79-8"><a href="#cb79-8" aria-hidden="true" tabindex="-1"></a>                 <span class="at">alpha =</span> <span class="fl">0.2</span>, </span>
<span id="cb79-9"><a href="#cb79-9" aria-hidden="true" tabindex="-1"></a>                 <span class="at">outliers =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb79-10"><a href="#cb79-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">"Grammar comprehension scores"</span>,</span>
<span id="cb79-11"><a href="#cb79-11" aria-hidden="true" tabindex="-1"></a>         <span class="at">x =</span> <span class="cn">NULL</span>) <span class="sc">+</span></span>
<span id="cb79-12"><a href="#cb79-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_bw</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:2%;">
<!-- empty column to create gap -->
</div><div class="column" style="width:49%;">
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><a href="10_Dataviz_files/figure-html/unnamed-chunk-93-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-61"><img src="10_Dataviz_files/figure-html/unnamed-chunk-93-1.png" class="img-fluid figure-img" width="576"></a></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</section>
</div>
</div>
</div>
</section>
<section id="sec-Scatterplots" class="level3" data-number="10.2.5">
<h3 data-number="10.2.5" class="anchored" data-anchor-id="sec-Scatterplots"><span class="header-section-number">10.2.5</span> Scatter plots</h3>
<p>Scatter plots are ideal to examine the relationship between two numeric variables. They are best suited to continuous numeric variables.</p>
<p>In the following, we will build a scatter plot to explore the following hypothesis:</p>
<ul>
<li>In the data from <span class="citation" data-cites="DabrowskaExperienceAptitudeIndividual2019">Dąbrowska (<a href="99_references.html#ref-DabrowskaExperienceAptitudeIndividual2019" role="doc-biblioref">2019</a>)</span>, English grammar comprehension scores are more strongly associated with the level of formal education among L2 speakers than among L1 speakers.</li>
</ul>
<p>To explore this hypothesis, we map the total number of years that participants spent in formal education (<code>EduTotal</code>) onto the <em>x</em>-axis and their <code>Grammar</code> scores onto the <em>y</em>-axis. In addition, we use the <code>facet_wrap()</code> function to split the data into two panels: one for the L1 participants and the other for the L2 group.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb80" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a>Dabrowska.data <span class="sc">|&gt;</span> </span>
<span id="cb80-2"><a href="#cb80-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> EduTotal, </span>
<span id="cb80-3"><a href="#cb80-3" aria-hidden="true" tabindex="-1"></a>                     <span class="at">y =</span> Grammar)) <span class="sc">+</span></span>
<span id="cb80-4"><a href="#cb80-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> Group) <span class="sc">+</span></span>
<span id="cb80-5"><a href="#cb80-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb80-6"><a href="#cb80-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Number of years in formal education"</span>,</span>
<span id="cb80-7"><a href="#cb80-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Grammar comprehension test scores"</span>,</span>
<span id="cb80-8"><a href="#cb80-8" aria-hidden="true" tabindex="-1"></a>       <span class="at">title =</span> <span class="st">"Exploring hypothesis 1"</span>) <span class="sc">+</span></span>
<span id="cb80-9"><a href="#cb80-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><a href="10_Dataviz_files/figure-html/unnamed-chunk-94-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-62"><img src="10_Dataviz_files/figure-html/unnamed-chunk-94-1.png" class="img-fluid figure-img" width="576"></a></p>
</figure>
</div>
</div>
</div>
<p>At first glance, it would seem that our data does not support our initial hypothesis: among the L2 participants, there is no obvious trend suggesting that those who scored lowest on the grammar test were the ones who spent fewer years in formal education.-</p>
<p>In <a href="#fig-GrammarScatterPlot" class="quarto-xref">Figure&nbsp;<span>10.39</span></a>, we add a regression line (in blue) per panel to our facetted scatter plot using the <code>geom_smooth(method = "lm")</code> function. This allows us to visualise the <strong>correlation</strong> between participants’ grammar scores and the number of years they spent in formal education. Regression lines in scatter plots are interpreted as follows:</p>
<ul>
<li>If the regression line goes up, there is a <strong>positive correlation</strong> between the two numeric variables. ↗️</li>
<li>If the line goes down, there is a <strong>negative correlation</strong>. ↘️</li>
<li>The steeper the line, the stronger the correlation. 💪</li>
<li>If the line is flat (or nearly flat), there is no (linear) correlation between the two variables. ➡️</li>
<li>Be aware that even very strong correlations do not necessarily imply (direct) causation. ❌</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb81" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a>Dabrowska.data <span class="sc">|&gt;</span> </span>
<span id="cb81-2"><a href="#cb81-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> EduTotal, </span>
<span id="cb81-3"><a href="#cb81-3" aria-hidden="true" tabindex="-1"></a>                       <span class="at">y =</span> Grammar)) <span class="sc">+</span></span>
<span id="cb81-4"><a href="#cb81-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> Group) <span class="sc">+</span></span>
<span id="cb81-5"><a href="#cb81-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb81-6"><a href="#cb81-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>,</span>
<span id="cb81-7"><a href="#cb81-7" aria-hidden="true" tabindex="-1"></a>              <span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb81-8"><a href="#cb81-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Number of years in formal education"</span>,</span>
<span id="cb81-9"><a href="#cb81-9" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Grammar comprehension test scores"</span>,</span>
<span id="cb81-10"><a href="#cb81-10" aria-hidden="true" tabindex="-1"></a>       <span class="at">title =</span> <span class="st">"Exploring hypothesis 1"</span>) <span class="sc">+</span></span>
<span id="cb81-11"><a href="#cb81-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-GrammarScatterPlot" class="quarto-float quarto-figure quarto-figure-center anchored" width="576">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-GrammarScatterPlot-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="10_Dataviz_files/figure-html/fig-GrammarScatterPlot-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-63" title="Figure&nbsp;10.39: "><img src="10_Dataviz_files/figure-html/fig-GrammarScatterPlot-1.png" id="fig-GrammarScatterPlot" class="img-fluid figure-img" width="576"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig quarto-uncaptioned" id="fig-GrammarScatterPlot-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;10.39
</figcaption>
</figure>
</div>
</div>
</div>
<p>The regression lines added by the <code>geom_smooth(method = "lm")</code> function are <strong>lines of best fit</strong>: the better the fit, the closer the points are to the line. If few points are on or close to the line, it means that the regression line is not a good approximation of the relationship between the two variables. This is clearly the case in <a href="#fig-GrammarScatterPlot" class="quarto-xref">Figure&nbsp;<span>10.39</span></a> - especially in the L2 panel (more on this in <span class="quarto-unresolved-ref">?sec-Correlations</span>). Our data visualisation therefore do not support our hypothesis that, in the <span class="citation" data-cites="DabrowskaExperienceAptitudeIndividual2019">Dąbrowska (<a href="99_references.html#ref-DabrowskaExperienceAptitudeIndividual2019" role="doc-biblioref">2019</a>)</span> data, grammar scores are more strongly associated with the level of formal education among the L2 speakers than among the L1 speakers. If anything, our data shows the opposite pattern! Our line of fit is both closer to the data points and steeper in the L1 panel than in the L2 panel.</p>
<p>So far, all of our data visualisations have only displayed the characteristics of the collected data. In other words, they display <strong>descriptive statistics</strong> (see <a href="8_DescriptiveStats.html" class="quarto-xref"><span>Chapter 8</span></a>) that do not allow us to make inferences about other participants who were not tested as part of <span class="citation" data-cites="DabrowskaExperienceAptitudeIndividual2019">Dąbrowska (<a href="99_references.html#ref-DabrowskaExperienceAptitudeIndividual2019" role="doc-biblioref">2019</a>)</span>’s study. Tests of statistical significance, including of correlations, are introduced in the following chapter.</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Quiz time!
</div>
</div>
<div class="callout-body-container callout-body">
<p>In this quiz, you will explore another hypothesis:</p>
<blockquote class="blockquote">
<p>L2 speakers’ grammar comprehension scores (<code>Grammar</code>) are positively correlated with their length of residence in the UK (<code>LoR</code>): L2 speakers who have lived in the UK for longer have a better understanding than those who arrived more recently.</p>
</blockquote>
<p>Using {ggplot2}, create a <strong>scatter plot</strong> that allows you to explore this hypothesis.</p>
<p><span style="color:green;"><strong>Q10.5</strong></span> What do you need to do before piping the data into the <code>ggplot()</code> function?</p>
<div class="cell">
<div class="cell-output-display">
<form name="form_4886" onsubmit="return validate_form_4886()" method="post">
<input type="radio" name="answer_4886" id="answer_4886_1" value="select(Grammar, LoR, Group, L2)">
<label>select(Grammar, LoR, Group, L2)</label>
<br>
<input type="radio" name="answer_4886" id="answer_4886_2" value="filter(Group == &quot;L2&quot;)">
<label>filter(Group == "L2")</label>
<br>
<input type="radio" name="answer_4886" id="answer_4886_3" value="select(Group, &quot;L2&quot;)">
<label>select(Group, "L2")</label>
<br>
<input type="radio" name="answer_4886" id="answer_4886_4" value="select(LoR, L2)">
<label>select(LoR, L2)</label>
<br>
<input type="radio" name="answer_4886" id="answer_4886_5" value="filter(Group != &quot;L2&quot;)">
<label>filter(Group != "L2")</label>
<br>
<input type="submit" value="Check answer">
<div id="result_4886"></div>
</form>
<script>function validate_form_4886() {var x, text; var x = document.forms['form_4886']['answer_4886'].value;if (x == 'filter(Group == "L2")'){text = '✅';} else {text = '❌ No, that’s not it.';} document.getElementById('result_4886').innerHTML = text; evaluate_final_score(); return false;}function evaluate_final_score(){
         element = document.getElementById('checkdown_final_score');
         if(element === null){return false;} else {var element, text, res1, res2, res3, res4, res5, res6, res7, res8, res9, res10, res11, res12, res13, res14, res15;res1 = document.getElementById('result_50057').innerText == 'Correct! Bar charts are better suited than pie charts because humans are much better at estimating lengths than angles (see @sec-coordinates), and the labels are immediately next to the corresponding bars here.'; res2 = document.getElementById('result_17208').innerText == 'That’s right! Your bar plot should make that immediately obvious.'; res3 = document.getElementById('result_1844').innerText == 'That’s right: the legend is redundant and does not make the plot easier to interpret. We can remove the legend by adding a theme layer that changes the position of the legend to “none”. Click on the link below to find out more.'; res4 = document.getElementById('result_26170').innerText == 'Yes, well done!'; res5 = document.getElementById('result_35319').innerText == 'Absolutely!'; res6 = document.getElementById('result_77509').innerText == 'That’s right, well done!'; res7 = document.getElementById('result_82505').innerText == 'That’s right, well done!'; res8 = document.getElementById('result_34869').innerText == 'Exactly!'; res9 = document.getElementById('result_46862').innerText == 'That’s right!'; res10 = document.getElementById('result_2142').innerText == 'That’s right!'; res11 = document.getElementById('result_63963').innerText == 'You’re right! Note that facet_wrap(“Group”) also works and produces the same output.'; res12 = document.getElementById('result_90119').innerText == 'That’s right. Even though the distribution of Blocks scores is not perfectly symmetrical, it is less skewed than that of the other three variables.'; res13 = document.getElementById('result_3836').innerText == 'Correct!'; res14 = document.getElementById('result_11174').innerText == 'That’s right! Well done, that wasn’t easy!'; res15 = document.getElementById('result_4886').innerText == '✅';text = res1 + res2 + res3 + res4 + res5 + res6 + res7 + res8 + res9 + res10 + res11 + res12 + res13 + res14 + res15;element.innerHTML = text;
         return false;
         }}</script>
</div>
<div class="cell-output-display">
<div id="hint_72240" onclick="return show_hint_72240()">🐭 Click on the mouse for a hint.</div>
<div id="result_72240" onclick="return show_hint_72240()"></div>
<script>function show_hint_72240(){var x = document.getElementById('result_72240').innerHTML; if(!x){document.getElementById('result_72240').innerHTML = 'You’ll find the answer in <a href="https://elenlefoll.github.io/RstatsTextbook/10_DataViz.htmlsec-ggplotData">Section 10.*</a>.';} else {document.getElementById('result_72240').innerHTML = '';}}</script>
</div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Show sample code to answer Q10.5.</summary>
<div class="sourceCode cell-code" id="cb82" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a>Dabrowska.data <span class="sc">|&gt;</span> </span>
<span id="cb82-2"><a href="#cb82-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Group <span class="sc">==</span> <span class="st">"L2"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb82-3"><a href="#cb82-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> LoR, </span>
<span id="cb82-4"><a href="#cb82-4" aria-hidden="true" tabindex="-1"></a>                       <span class="at">y =</span> Grammar)) <span class="sc">+</span></span>
<span id="cb82-5"><a href="#cb82-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb82-6"><a href="#cb82-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Length of residence in the UK (years)"</span>,</span>
<span id="cb82-7"><a href="#cb82-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Grammar comprehension test scores"</span>) <span class="sc">+</span></span>
<span id="cb82-8"><a href="#cb82-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p><span style="color:green;"><strong>Q10.6</strong></span> On your scatter plot, which data points are clearly outliers?</p>
<div class="cell">
<div class="cell-output-display">
<form name="form_90590" onsubmit="return validate_form_90590()" method="post">
<input type="checkbox" id="answer_90590_1" value="All the L2 speakers who have lived in the UK for 15 years or more.">
<label>All the L2 speakers who have lived in the UK for 15 years or more.</label>
<br>
<input type="checkbox" id="answer_90590_2" value="The L2 speaker who has lived in the UK for more than 40 years.">
<label>The L2 speaker who has lived in the UK for more than 40 years.</label>
<br>
<input type="checkbox" id="answer_90590_3" value="The three L2 speakers who scored 100 on the grammar test.">
<label>The three L2 speakers who scored 100 on the grammar test.</label>
<br>
<input type="checkbox" id="answer_90590_4" value="The 90 speakers with missing values.">
<label>The 90 speakers with missing values.</label>
<br>
<input type="checkbox" id="answer_90590_5" value="The L2 speaker who scored 0 on the grammar test.">
<label>The L2 speaker who scored 0 on the grammar test.</label>
<br>
<input type="submit" value="Check answer">
<div id="result_90590"></div>
</form>
<script>function validate_form_90590() {var text; var x1 = document.getElementById('answer_90590_1'); var x2 = document.getElementById('answer_90590_2'); var x3 = document.getElementById('answer_90590_3'); var x4 = document.getElementById('answer_90590_4'); var x5 = document.getElementById('answer_90590_5'); if (x1.checked == false&x2.checked == true&x3.checked == false&x4.checked == false&x5.checked == false){text = '✅';} else {text = '❌ No, that’s not it.';} document.getElementById('result_90590').innerHTML = text; evaluate_final_score(); return false;}function evaluate_final_score(){
         element = document.getElementById('checkdown_final_score');
         if(element === null){return false;} else {var element, text, res1, res2, res3, res4, res5, res6, res7, res8, res9, res10, res11, res12, res13, res14, res15, res16;res1 = document.getElementById('result_50057').innerText == 'Correct! Bar charts are better suited than pie charts because humans are much better at estimating lengths than angles (see @sec-coordinates), and the labels are immediately next to the corresponding bars here.'; res2 = document.getElementById('result_17208').innerText == 'That’s right! Your bar plot should make that immediately obvious.'; res3 = document.getElementById('result_1844').innerText == 'That’s right: the legend is redundant and does not make the plot easier to interpret. We can remove the legend by adding a theme layer that changes the position of the legend to “none”. Click on the link below to find out more.'; res4 = document.getElementById('result_26170').innerText == 'Yes, well done!'; res5 = document.getElementById('result_35319').innerText == 'Absolutely!'; res6 = document.getElementById('result_77509').innerText == 'That’s right, well done!'; res7 = document.getElementById('result_82505').innerText == 'That’s right, well done!'; res8 = document.getElementById('result_34869').innerText == 'Exactly!'; res9 = document.getElementById('result_46862').innerText == 'That’s right!'; res10 = document.getElementById('result_2142').innerText == 'That’s right!'; res11 = document.getElementById('result_63963').innerText == 'You’re right! Note that facet_wrap(“Group”) also works and produces the same output.'; res12 = document.getElementById('result_90119').innerText == 'That’s right. Even though the distribution of Blocks scores is not perfectly symmetrical, it is less skewed than that of the other three variables.'; res13 = document.getElementById('result_3836').innerText == 'Correct!'; res14 = document.getElementById('result_11174').innerText == 'That’s right! Well done, that wasn’t easy!'; res15 = document.getElementById('result_4886').innerText == '✅'; res16 = document.getElementById('result_90590').innerText == '✅';text = res1 + res2 + res3 + res4 + res5 + res6 + res7 + res8 + res9 + res10 + res11 + res12 + res13 + res14 + res15 + res16;element.innerHTML = text;
         return false;
         }}</script>
</div>
<div class="cell-output-display">
<div id="hint_86959" onclick="return show_hint_86959()">🐭 Click on the mouse for a hint.</div>
<div id="result_86959" onclick="return show_hint_86959()"></div>
<script>function show_hint_86959(){var x = document.getElementById('result_86959').innerHTML; if(!x){document.getElementById('result_86959').innerHTML = 'If you are getting a warning message telling you that ggplot2 has “removed 90 rows containing missing values or values outside the scale range”, you have not filtered the data to exclude L1 speakers before plotting the data. L1 speakers all have “NA” values for the variable LoR (corresponding to the length of residence in the UK).';} else {document.getElementById('result_86959').innerHTML = '';}}</script>
</div>
</div>
<p>Identifying outliers is important to check and understand our data. If we spot an outlier corresponding to a participant having lived in a country for 400 years, we can immediately tell that something has gone wrong during data collection and/or pre-processing. In this case, however, common sense tells us that it is prefectly possible to have lived 40+ years in a country. Still, compared to the rest of the data, the outlier is striking and we should check that it is not due to an error.</p>
<p><span style="color:green;"><strong>Q10.7</strong></span> Using data wrangling functions from the {tidyverse} (see <a href="9_DataWrangling.html" class="quarto-xref"><span>Chapter 9</span></a>), check whether the outlier participant is old enough to have lived in the UK for longer than 40 years. How old were they when they first came to the UK?</p>
<div class="cell">
<div class="cell-output-display">
<form name="form_44285" onsubmit="return validate_form_44285()" method="post">
<input type="text" placeholder="" name="answer_44285">
<input type="submit" value="Check answer">
<div id="result_44285"></div>
</form>
<script>function validate_form_44285() {var x, text; var x = document.forms['form_44285']['answer_44285'].value;if (x == '20'|x == 'twenty'){text = '✅ Good job!';} else {text = '❌ That’s not it. Check the hint below, or the sample code if you’re stuck.';} document.getElementById('result_44285').innerHTML = text; evaluate_final_score(); return false;}function evaluate_final_score(){
         element = document.getElementById('checkdown_final_score');
         if(element === null){return false;} else {var element, text, res1, res2, res3, res4, res5, res6, res7, res8, res9, res10, res11, res12, res13, res14, res15, res16, res17;res1 = document.getElementById('result_50057').innerText == 'Correct! Bar charts are better suited than pie charts because humans are much better at estimating lengths than angles (see @sec-coordinates), and the labels are immediately next to the corresponding bars here.'; res2 = document.getElementById('result_17208').innerText == 'That’s right! Your bar plot should make that immediately obvious.'; res3 = document.getElementById('result_1844').innerText == 'That’s right: the legend is redundant and does not make the plot easier to interpret. We can remove the legend by adding a theme layer that changes the position of the legend to “none”. Click on the link below to find out more.'; res4 = document.getElementById('result_26170').innerText == 'Yes, well done!'; res5 = document.getElementById('result_35319').innerText == 'Absolutely!'; res6 = document.getElementById('result_77509').innerText == 'That’s right, well done!'; res7 = document.getElementById('result_82505').innerText == 'That’s right, well done!'; res8 = document.getElementById('result_34869').innerText == 'Exactly!'; res9 = document.getElementById('result_46862').innerText == 'That’s right!'; res10 = document.getElementById('result_2142').innerText == 'That’s right!'; res11 = document.getElementById('result_63963').innerText == 'You’re right! Note that facet_wrap(“Group”) also works and produces the same output.'; res12 = document.getElementById('result_90119').innerText == 'That’s right. Even though the distribution of Blocks scores is not perfectly symmetrical, it is less skewed than that of the other three variables.'; res13 = document.getElementById('result_3836').innerText == 'Correct!'; res14 = document.getElementById('result_11174').innerText == 'That’s right! Well done, that wasn’t easy!'; res15 = document.getElementById('result_4886').innerText == '✅'; res16 = document.getElementById('result_90590').innerText == '✅'; res17 = document.getElementById('result_44285').innerText == '✅ Good job!';text = res1 + res2 + res3 + res4 + res5 + res6 + res7 + res8 + res9 + res10 + res11 + res12 + res13 + res14 + res15 + res16 + res17;element.innerHTML = text;
         return false;
         }}</script>
</div>
<div class="cell-output-display">
<div id="hint_67654" onclick="return show_hint_67654()">🐭 Click on the mouse for a hint.</div>
<div id="result_67654" onclick="return show_hint_67654()"></div>
<script>function show_hint_67654(){var x = document.getElementById('result_67654').innerHTML; if(!x){document.getElementById('result_67654').innerHTML = 'To answer this question, you need to filter the data to only retain L2 participants who have lived in the UK for longer than 40 years. Then you can use the select() function to output only their age and length of residence.';} else {document.getElementById('result_67654').innerHTML = '';}}</script>
</div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Show sample code to answer Q10.7.</summary>
<div class="sourceCode cell-code" id="cb83" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true" tabindex="-1"></a>Dabrowska.data <span class="sc">|&gt;</span> </span>
<span id="cb83-2"><a href="#cb83-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(LoR <span class="sc">&gt;</span> <span class="dv">40</span>) <span class="sc">|&gt;</span> </span>
<span id="cb83-3"><a href="#cb83-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Age, LoR)</span>
<span id="cb83-4"><a href="#cb83-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb83-5"><a href="#cb83-5" aria-hidden="true" tabindex="-1"></a><span class="dv">62-42</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p><span style="color:green;"><strong>Q10.8</strong></span> In order to better visualise a potential correlation between L2 participants’ grammar comprehension test results and how long they’ve lived in the UK, we will exclude the outlier and re-draw the scatter plot. Which function can you use to exclude the identified outlier before piping the data into the <code>ggplot()</code> function?</p>
<div class="cell">
<div class="cell-output-display">
<form name="form_59669" onsubmit="return validate_form_59669()" method="post">
<input type="radio" name="answer_59669" id="answer_59669_1" value="filter(LoR ~ 40)">
<label>filter(LoR ~ 40)</label>
<br>
<input type="radio" name="answer_59669" id="answer_59669_2" value="filter(LoR < 40)">
<label>filter(LoR &lt; 40)</label>
<br>
<input type="radio" name="answer_59669" id="answer_59669_3" value="filter(LoR != 40)">
<label>filter(LoR != 40)</label>
<br>
<input type="radio" name="answer_59669" id="answer_59669_4" value="filter(LoR == &quot;< 40&quot;)">
<label>filter(LoR == "&lt; 40")</label>
<br>
<input type="radio" name="answer_59669" id="answer_59669_5" value="filter(LoR >= 40)">
<label>filter(LoR &gt;= 40)</label>
<br>
<input type="submit" value="Check answer">
<div id="result_59669"></div>
</form>
<script>function validate_form_59669() {var x, text; var x = document.forms['form_59669']['answer_59669'].value;if (x == 'filter(LoR < 40)'){text = '✅ That’s right, well done!';} else {text = '❌ No, that’s not the one. Try them out and see how they change your scatterplot.';} document.getElementById('result_59669').innerHTML = text; evaluate_final_score(); return false;}function evaluate_final_score(){
         element = document.getElementById('checkdown_final_score');
         if(element === null){return false;} else {var element, text, res1, res2, res3, res4, res5, res6, res7, res8, res9, res10, res11, res12, res13, res14, res15, res16, res17, res18;res1 = document.getElementById('result_50057').innerText == 'Correct! Bar charts are better suited than pie charts because humans are much better at estimating lengths than angles (see @sec-coordinates), and the labels are immediately next to the corresponding bars here.'; res2 = document.getElementById('result_17208').innerText == 'That’s right! Your bar plot should make that immediately obvious.'; res3 = document.getElementById('result_1844').innerText == 'That’s right: the legend is redundant and does not make the plot easier to interpret. We can remove the legend by adding a theme layer that changes the position of the legend to “none”. Click on the link below to find out more.'; res4 = document.getElementById('result_26170').innerText == 'Yes, well done!'; res5 = document.getElementById('result_35319').innerText == 'Absolutely!'; res6 = document.getElementById('result_77509').innerText == 'That’s right, well done!'; res7 = document.getElementById('result_82505').innerText == 'That’s right, well done!'; res8 = document.getElementById('result_34869').innerText == 'Exactly!'; res9 = document.getElementById('result_46862').innerText == 'That’s right!'; res10 = document.getElementById('result_2142').innerText == 'That’s right!'; res11 = document.getElementById('result_63963').innerText == 'You’re right! Note that facet_wrap(“Group”) also works and produces the same output.'; res12 = document.getElementById('result_90119').innerText == 'That’s right. Even though the distribution of Blocks scores is not perfectly symmetrical, it is less skewed than that of the other three variables.'; res13 = document.getElementById('result_3836').innerText == 'Correct!'; res14 = document.getElementById('result_11174').innerText == 'That’s right! Well done, that wasn’t easy!'; res15 = document.getElementById('result_4886').innerText == '✅'; res16 = document.getElementById('result_90590').innerText == '✅'; res17 = document.getElementById('result_44285').innerText == '✅ Good job!'; res18 = document.getElementById('result_59669').innerText == '✅ That’s right, well done!';text = res1 + res2 + res3 + res4 + res5 + res6 + res7 + res8 + res9 + res10 + res11 + res12 + res13 + res14 + res15 + res16 + res17 + res18;element.innerHTML = text;
         return false;
         }}</script>
</div>
<div class="cell-output-display">
<div id="hint_14709" onclick="return show_hint_14709()">🐭 Click on the mouse for a hint.</div>
<div id="result_14709" onclick="return show_hint_14709()"></div>
<script>function show_hint_14709(){var x = document.getElementById('result_14709').innerHTML; if(!x){document.getElementById('result_14709').innerHTML = 'To answer this question, it’s worth revising relational operators (see <a href="https://elenlefoll.github.io/RstatsTextbook/5_GettingStaRted.htmlsec-RelationalOperators">Section 5.5</a>).';} else {document.getElementById('result_14709').innerHTML = '';}}</script>
</div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Show sample code to answer Q10.8.</summary>
<div class="sourceCode cell-code" id="cb84" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true" tabindex="-1"></a>Dabrowska.data <span class="sc">|&gt;</span> </span>
<span id="cb84-2"><a href="#cb84-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Group <span class="sc">==</span> <span class="st">"L2"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb84-3"><a href="#cb84-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(LoR <span class="sc">&lt;</span> <span class="dv">40</span>) <span class="sc">|&gt;</span> </span>
<span id="cb84-4"><a href="#cb84-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> LoR, </span>
<span id="cb84-5"><a href="#cb84-5" aria-hidden="true" tabindex="-1"></a>                       <span class="at">y =</span> Grammar)) <span class="sc">+</span></span>
<span id="cb84-6"><a href="#cb84-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb84-7"><a href="#cb84-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>,</span>
<span id="cb84-8"><a href="#cb84-8" aria-hidden="true" tabindex="-1"></a>              <span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb84-9"><a href="#cb84-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Length of residence in the UK (years)"</span>,</span>
<span id="cb84-10"><a href="#cb84-10" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Grammar comprehension test scores"</span>) <span class="sc">+</span></span>
<span id="cb84-11"><a href="#cb84-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p><span style="color:green;"><strong>Q10.9</strong></span> Having removed the outlier point from the scatter plot, now add a regression line to visualise the correlation between the two variables. Which of the following options best fits the gap in the sentence below?</p>
<blockquote class="blockquote">
<p>In this group of L2 speakers, there is _____________________ correlation between participants’ grammar test scores and their length of residence in the UK.</p>
</blockquote>
<div class="cell">
<div class="cell-output-display">
<form name="form_84288" onsubmit="return validate_form_84288()" method="post">
<input type="radio" name="answer_84288" id="answer_84288_1" value="a negative">
<label>a negative</label>
<br>
<input type="radio" name="answer_84288" id="answer_84288_2" value="a positive">
<label>a positive</label>
<br>
<input type="radio" name="answer_84288" id="answer_84288_3" value="no">
<label>no</label>
<br>
<input type="radio" name="answer_84288" id="answer_84288_4" value="a perfect">
<label>a perfect</label>
<br>
<input type="submit" value="Check answer">
<div id="result_84288"></div>
</form>
<script>function validate_form_84288() {var x, text; var x = document.forms['form_84288']['answer_84288'].value;if (x == 'a positive correlation'){text = '✅';} else {text = '❌';} document.getElementById('result_84288').innerHTML = text; evaluate_final_score(); return false;}function evaluate_final_score(){
         element = document.getElementById('checkdown_final_score');
         if(element === null){return false;} else {var element, text, res1, res2, res3, res4, res5, res6, res7, res8, res9, res10, res11, res12, res13, res14, res15, res16, res17, res18, res19;res1 = document.getElementById('result_50057').innerText == 'Correct! Bar charts are better suited than pie charts because humans are much better at estimating lengths than angles (see @sec-coordinates), and the labels are immediately next to the corresponding bars here.'; res2 = document.getElementById('result_17208').innerText == 'That’s right! Your bar plot should make that immediately obvious.'; res3 = document.getElementById('result_1844').innerText == 'That’s right: the legend is redundant and does not make the plot easier to interpret. We can remove the legend by adding a theme layer that changes the position of the legend to “none”. Click on the link below to find out more.'; res4 = document.getElementById('result_26170').innerText == 'Yes, well done!'; res5 = document.getElementById('result_35319').innerText == 'Absolutely!'; res6 = document.getElementById('result_77509').innerText == 'That’s right, well done!'; res7 = document.getElementById('result_82505').innerText == 'That’s right, well done!'; res8 = document.getElementById('result_34869').innerText == 'Exactly!'; res9 = document.getElementById('result_46862').innerText == 'That’s right!'; res10 = document.getElementById('result_2142').innerText == 'That’s right!'; res11 = document.getElementById('result_63963').innerText == 'You’re right! Note that facet_wrap(“Group”) also works and produces the same output.'; res12 = document.getElementById('result_90119').innerText == 'That’s right. Even though the distribution of Blocks scores is not perfectly symmetrical, it is less skewed than that of the other three variables.'; res13 = document.getElementById('result_3836').innerText == 'Correct!'; res14 = document.getElementById('result_11174').innerText == 'That’s right! Well done, that wasn’t easy!'; res15 = document.getElementById('result_4886').innerText == '✅'; res16 = document.getElementById('result_90590').innerText == '✅'; res17 = document.getElementById('result_44285').innerText == '✅ Good job!'; res18 = document.getElementById('result_59669').innerText == '✅ That’s right, well done!'; res19 = document.getElementById('result_84288').innerText == '✅';text = res1 + res2 + res3 + res4 + res5 + res6 + res7 + res8 + res9 + res10 + res11 + res12 + res13 + res14 + res15 + res16 + res17 + res18 + res19;element.innerHTML = text;
         return false;
         }}</script>
</div>
<div class="cell-output-display">
<div id="hint_30012" onclick="return show_hint_30012()">🐭 Click on the mouse for a hint.</div>
<div id="result_30012" onclick="return show_hint_30012()"></div>
<script>function show_hint_30012(){var x = document.getElementById('result_30012').innerHTML; if(!x){document.getElementById('result_30012').innerHTML = 'To answer this question, you should ask yourself: Does the regression line draw an upward or a downward slope? How steep is the slope? And how close are the points to the line?).';} else {document.getElementById('result_30012').innerHTML = '';}}</script>
</div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Show sample code to answer Q10.9.</summary>
<div class="sourceCode cell-code" id="cb85" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a>Dabrowska.data <span class="sc">|&gt;</span> </span>
<span id="cb85-2"><a href="#cb85-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Group <span class="sc">==</span> <span class="st">"L2"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb85-3"><a href="#cb85-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(LoR <span class="sc">&lt;</span> <span class="dv">40</span>) <span class="sc">|&gt;</span> </span>
<span id="cb85-4"><a href="#cb85-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> LoR, </span>
<span id="cb85-5"><a href="#cb85-5" aria-hidden="true" tabindex="-1"></a>                       <span class="at">y =</span> Grammar)) <span class="sc">+</span></span>
<span id="cb85-6"><a href="#cb85-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb85-7"><a href="#cb85-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>,</span>
<span id="cb85-8"><a href="#cb85-8" aria-hidden="true" tabindex="-1"></a>              <span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb85-9"><a href="#cb85-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Length of residence in the UK"</span>,</span>
<span id="cb85-10"><a href="#cb85-10" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Grammar comprehension test scores"</span>) <span class="sc">+</span></span>
<span id="cb85-11"><a href="#cb85-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
</div>
</section>
<section id="word-clouds" class="level3 page-columns page-full" data-number="10.2.6">
<h3 data-number="10.2.6" class="anchored" data-anchor-id="word-clouds"><span class="header-section-number">10.2.6</span> Word clouds</h3>
<p>The {ggplot2} library does not include an in-built function to create word clouds. However, members of the <code>R</code> community are continously creating and sharing new functions and packages to improve and extend data visualisation options in <code>R</code>. One such community member, Erwan Le Pennec, created the <a href="https://lepennec.github.io/ggwordcloud/">{ggwordcloud}</a> package, which adds the <code>geom_text_wordcloud()</code> function to the {ggplot2} environment.</p>

<div class="no-row-height column-margin column-container"><div class="">
<div id="fig-hexggwordcloud" class="quarto-float quarto-figure quarto-figure-center anchored" alt="The hexagonal logo of the ggwordcloud package which features a cartoonish white cloud on a sky-blue blackground.">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-hexggwordcloud-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="images/hex_ggwordcloud.png" class="lightbox" data-gallery="quarto-lightbox-gallery-64" title="Figure&nbsp;10.40: Hex sticker of the {ggwordcloud} package"><img src="images/hex_ggwordcloud.png" class="img-fluid figure-img" alt="The hexagonal logo of the ggwordcloud package which features a cartoonish white cloud on a sky-blue blackground." width="100"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-hexggwordcloud-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;10.40: Hex sticker of the <a href="https://lepennec.github.io/ggwordcloud/">{ggwordcloud}</a> package
</figcaption>
</figure>
</div>
</div></div><div class="cell">
<div class="sourceCode cell-code" id="cb86" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a><span class="co">#install.packages("ggwordcloud")</span></span>
<span id="cb86-2"><a href="#cb86-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggwordcloud)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>We will use the <code>geom_text_wordcloud()</code> function to create a word cloud representing L2 participants’ native languages. To this end, we first need to create a table that tallies how often each native language was mentioned. We also include a column for the language family (see Task 9.3 in <a href="9_DataWrangling.html#sec-casewhen" class="quarto-xref"><span>Section 9.6.4</span></a>).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb87" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb87-1"><a href="#cb87-1" aria-hidden="true" tabindex="-1"></a>NativeLg_freq <span class="ot">&lt;-</span> Dabrowska.data <span class="sc">|&gt;</span> </span>
<span id="cb87-2"><a href="#cb87-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Group <span class="sc">==</span> <span class="st">"L2"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb87-3"><a href="#cb87-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(NativeLg, NativeLgFamily)</span>
<span id="cb87-4"><a href="#cb87-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-5"><a href="#cb87-5" aria-hidden="true" tabindex="-1"></a>NativeLg_freq</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre data-code-line-numbers=""><code>     NativeLg NativeLgFamily  n
1   Cantonese        Chinese  4
2     Chinese        Chinese  3
3      French        Romance  2
4      German       Germanic  1
5       Greek       Hellenic  1
6     Italian        Romance  1
7  Lithuanian         Baltic  5
8    Mandarin        Chinese  8
9      Polish         Slavic 37
10    Russian         Slavic  2
11    Spanish        Romance  3</code></pre>
</div>
</div>
<p>Next, we enter this new dataset, <code>NativeLg_freq</code>, in a <code>ggplot()</code> function and map each native language to a text <code>label</code> <strong>aesthetics</strong>, the number of participants to have this native language to the <code>size</code> of the words, and each native language family to a <code>colour</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb89" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb89-1"><a href="#cb89-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> NativeLg_freq,</span>
<span id="cb89-2"><a href="#cb89-2" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">label =</span> NativeLg,</span>
<span id="cb89-3"><a href="#cb89-3" aria-hidden="true" tabindex="-1"></a>           <span class="at">size =</span> n,</span>
<span id="cb89-4"><a href="#cb89-4" aria-hidden="true" tabindex="-1"></a>           <span class="at">colour =</span> NativeLgFamily)) <span class="sc">+</span></span>
<span id="cb89-5"><a href="#cb89-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text_wordcloud</span>() <span class="sc">+</span></span>
<span id="cb89-6"><a href="#cb89-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_size_area</span>(<span class="at">max_size =</span> <span class="dv">30</span>) <span class="sc">+</span></span>
<span id="cb89-7"><a href="#cb89-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><a href="10_Dataviz_files/figure-html/unnamed-chunk-108-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-65"><img src="10_Dataviz_files/figure-html/unnamed-chunk-108-1.png" class="img-fluid figure-img" width="576"></a></p>
</figure>
</div>
</div>
</div>
<p>Word clouds are widely used in the media and corporate world, but they are much rarer in academic research. Although word clouds can help us to quickly perceive the most prominent words in a set of words, they are mostly serve decorative purposes. Data visualisation experts warn against them for two main reasons:</p>
<ul>
<li>Longer words appear larger simply due to their length.</li>
<li>The human eye is not good at discerning small differences in font sizes.</li>
</ul>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-16-contents" aria-controls="callout-16" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Going further: Using <code>geom_text()</code>
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-16" class="callout-16-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>We have seen that, on a scatter plot, each point represents an observation, in our case, a participant. For instance, in <a href="#fig-ColourScatterPlot" class="quarto-xref">Figure&nbsp;<span>10.41</span></a>, each point represents an L2 participant and displays their age and grammar comprehension test score. In addition, we can colour the points according to their native language family.</p>
<div class="cell">
<details class="code-fold">
<summary>See <code>R</code> code.</summary>
<div class="sourceCode cell-code" id="cb90" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb90-1"><a href="#cb90-1" aria-hidden="true" tabindex="-1"></a>Dabrowska.data <span class="sc">|&gt;</span> </span>
<span id="cb90-2"><a href="#cb90-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Group <span class="sc">==</span> <span class="st">"L2"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb90-3"><a href="#cb90-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> Age, </span>
<span id="cb90-4"><a href="#cb90-4" aria-hidden="true" tabindex="-1"></a>           <span class="at">y =</span> Grammar,</span>
<span id="cb90-5"><a href="#cb90-5" aria-hidden="true" tabindex="-1"></a>           <span class="at">colour =</span> NativeLgFamily)) <span class="sc">+</span></span>
<span id="cb90-6"><a href="#cb90-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb90-7"><a href="#cb90-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Age"</span>, </span>
<span id="cb90-8"><a href="#cb90-8" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Grammar comprehension test score"</span>, </span>
<span id="cb90-9"><a href="#cb90-9" aria-hidden="true" tabindex="-1"></a>       <span class="at">color =</span> <span class="st">"Language family"</span>) <span class="sc">+</span></span>
<span id="cb90-10"><a href="#cb90-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>(<span class="at">base_size =</span> <span class="dv">14</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="fig-ColourScatterPlot" class="quarto-float quarto-figure quarto-figure-center anchored" width="768">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-ColourScatterPlot-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="10_Dataviz_files/figure-html/fig-ColourScatterPlot-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-66" title="Figure&nbsp;10.41: "><img src="10_Dataviz_files/figure-html/fig-ColourScatterPlot-1.png" id="fig-ColourScatterPlot" class="img-fluid figure-img" width="768"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig quarto-uncaptioned" id="fig-ColourScatterPlot-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;10.41
</figcaption>
</figure>
</div>
</div>
</div>
<p>Instead of plotting points on the scatter plot, we can plot text. Thus, instead of using <code>geom_point()</code>, we can use <code>geom_text()</code>. For example, we can display the native language of each participant by mapping <code>NativeLg</code> to the <code>label</code> aesthetics.</p>
<div class="cell" data-source-line-numbers="6-7">
<details class="code-fold">
<summary>See <code>R</code> code.</summary>
<div class="sourceCode cell-code" id="cb91" data-source-line-numbers="6-7" data-code-line-numbers="6-7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb91-1"><a href="#cb91-1" aria-hidden="true" tabindex="-1"></a>Dabrowska.data <span class="sc">|&gt;</span> </span>
<span id="cb91-2"><a href="#cb91-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Group <span class="sc">==</span> <span class="st">"L2"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb91-3"><a href="#cb91-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> Age, </span>
<span id="cb91-4"><a href="#cb91-4" aria-hidden="true" tabindex="-1"></a>           <span class="at">y =</span> Grammar,</span>
<span id="cb91-5"><a href="#cb91-5" aria-hidden="true" tabindex="-1"></a>           <span class="at">colour =</span> NativeLgFamily,</span>
<span id="cb91-6"><a href="#cb91-6" aria-hidden="true" tabindex="-1"></a>           <span class="at">label =</span> NativeLg)) <span class="sc">+</span></span>
<span id="cb91-7"><a href="#cb91-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>() <span class="sc">+</span></span>
<span id="cb91-8"><a href="#cb91-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">15</span>,<span class="dv">65</span>)) <span class="sc">+</span></span>
<span id="cb91-9"><a href="#cb91-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Age"</span>, </span>
<span id="cb91-10"><a href="#cb91-10" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Grammar comprehension test score"</span>, </span>
<span id="cb91-11"><a href="#cb91-11" aria-hidden="true" tabindex="-1"></a>       <span class="at">color =</span> <span class="st">"Language family"</span>) <span class="sc">+</span></span>
<span id="cb91-12"><a href="#cb91-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>(<span class="at">base_size =</span> <span class="dv">14</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="fig-TextScatterPlot" class="quarto-float quarto-figure quarto-figure-center anchored" width="768">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-TextScatterPlot-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="10_Dataviz_files/figure-html/fig-TextScatterPlot-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-67" title="Figure&nbsp;10.42: "><img src="10_Dataviz_files/figure-html/fig-TextScatterPlot-1.png" id="fig-TextScatterPlot" class="img-fluid figure-img" width="768"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig quarto-uncaptioned" id="fig-TextScatterPlot-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;10.42
</figcaption>
</figure>
</div>
</div>
</div>
<p>Clearly, there are too many L2 participants for <a href="#fig-TextScatterPlot" class="quarto-xref">Figure&nbsp;<span>10.42</span></a> to be legible. For now, we will therefore focus on female L2 participants only. Moreover, we can see that there is dense cluster of L2 participants who are young and scored very high on the grammar comprehension test. In this exploratative analysis, we will therefore focus on female participants who obtained fewer than 90 points on the test.</p>
<div class="cell" data-source-line-numbers="3,13">
<details class="code-fold">
<summary>See <code>R</code> code.</summary>
<div class="sourceCode cell-code" id="cb92" data-source-line-numbers="3,13" data-code-line-numbers="3,13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb92-1"><a href="#cb92-1" aria-hidden="true" tabindex="-1"></a>Dabrowska.data <span class="sc">|&gt;</span> </span>
<span id="cb92-2"><a href="#cb92-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Group <span class="sc">==</span> <span class="st">"L2"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb92-3"><a href="#cb92-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Grammar <span class="sc">&lt;</span> <span class="dv">90</span> <span class="sc">&amp;</span> Gender <span class="sc">==</span> <span class="st">"F"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb92-4"><a href="#cb92-4" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> Age, </span>
<span id="cb92-5"><a href="#cb92-5" aria-hidden="true" tabindex="-1"></a>           <span class="at">y =</span> Grammar,</span>
<span id="cb92-6"><a href="#cb92-6" aria-hidden="true" tabindex="-1"></a>           <span class="at">colour =</span> NativeLgFamily,</span>
<span id="cb92-7"><a href="#cb92-7" aria-hidden="true" tabindex="-1"></a>           <span class="at">label =</span> NativeLg)) <span class="sc">+</span></span>
<span id="cb92-8"><a href="#cb92-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>() <span class="sc">+</span></span>
<span id="cb92-9"><a href="#cb92-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">15</span>,<span class="dv">55</span>)) <span class="sc">+</span></span>
<span id="cb92-10"><a href="#cb92-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Age"</span>, </span>
<span id="cb92-11"><a href="#cb92-11" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Grammar comprehension test score"</span>, </span>
<span id="cb92-12"><a href="#cb92-12" aria-hidden="true" tabindex="-1"></a>       <span class="at">color =</span> <span class="st">"Language family"</span>,</span>
<span id="cb92-13"><a href="#cb92-13" aria-hidden="true" tabindex="-1"></a>       <span class="at">caption =</span> <span class="st">"(Subgroup analysis of female L2 participants with grammar scores below 90.)"</span>) <span class="sc">+</span></span>
<span id="cb92-14"><a href="#cb92-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>(<span class="at">base_size =</span> <span class="dv">14</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="fig-TextScatterPlot2" class="quarto-float quarto-figure quarto-figure-center anchored" width="768">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-TextScatterPlot2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="10_Dataviz_files/figure-html/fig-TextScatterPlot2-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-68" title="Figure&nbsp;10.43: "><img src="10_Dataviz_files/figure-html/fig-TextScatterPlot2-1.png" id="fig-TextScatterPlot2" class="img-fluid figure-img" width="768"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig quarto-uncaptioned" id="fig-TextScatterPlot2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;10.43
</figcaption>
</figure>
</div>
</div>
</div>
<p>Note that we had to expand the limits of the <em>x</em>-axis in order for labels of the youngest and oldest participants to be displayed in full on <a href="#fig-TextScatterPlot2" class="quarto-xref">Figure&nbsp;<span>10.43</span></a>. Still, there are a few labels that overlap nonetheless. If this bothers you, you’ll be pleased to hear that there is a handy {ggplot2} extension called {<a href="https://cran.r-project.org/web/packages/ggrepel/vignettes/ggrepel.html">ggrepel</a>}, which was designed to avoid text labels overlapping.</p>

<div class="cell" data-source-line-numbers="2,11">
<details class="code-fold">
<summary>See <code>R</code> code.</summary>
<div class="sourceCode cell-code" id="cb93" data-source-line-numbers="2,11" data-code-line-numbers="2,11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb93-1"><a href="#cb93-1" aria-hidden="true" tabindex="-1"></a><span class="co">#install.packages("ggrepel")</span></span>
<span id="cb93-2"><a href="#cb93-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggrepel)</span>
<span id="cb93-3"><a href="#cb93-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb93-4"><a href="#cb93-4" aria-hidden="true" tabindex="-1"></a>Dabrowska.data <span class="sc">|&gt;</span> </span>
<span id="cb93-5"><a href="#cb93-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Group <span class="sc">==</span> <span class="st">"L2"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb93-6"><a href="#cb93-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Grammar <span class="sc">&lt;</span> <span class="dv">90</span> <span class="sc">&amp;</span> Gender <span class="sc">==</span> <span class="st">"F"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb93-7"><a href="#cb93-7" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> Age, </span>
<span id="cb93-8"><a href="#cb93-8" aria-hidden="true" tabindex="-1"></a>           <span class="at">y =</span> Grammar,</span>
<span id="cb93-9"><a href="#cb93-9" aria-hidden="true" tabindex="-1"></a>           <span class="at">colour =</span> NativeLgFamily,</span>
<span id="cb93-10"><a href="#cb93-10" aria-hidden="true" tabindex="-1"></a>           <span class="at">label =</span> NativeLg)) <span class="sc">+</span></span>
<span id="cb93-11"><a href="#cb93-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text_repel</span>() <span class="sc">+</span></span>
<span id="cb93-12"><a href="#cb93-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">15</span>,<span class="dv">55</span>)) <span class="sc">+</span></span>
<span id="cb93-13"><a href="#cb93-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Age"</span>, </span>
<span id="cb93-14"><a href="#cb93-14" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Grammar comprehension test score"</span>, </span>
<span id="cb93-15"><a href="#cb93-15" aria-hidden="true" tabindex="-1"></a>       <span class="at">color =</span> <span class="st">"Language family"</span>,</span>
<span id="cb93-16"><a href="#cb93-16" aria-hidden="true" tabindex="-1"></a>       <span class="at">caption =</span> <span class="st">"(Subgroup analysis of female L2 participants with grammar scores below 90.)"</span>) <span class="sc">+</span></span>
<span id="cb93-17"><a href="#cb93-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>(<span class="at">base_size =</span> <span class="dv">14</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="fig-TextScatterPlot3" class="quarto-float quarto-figure quarto-figure-center anchored" width="768">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-TextScatterPlot3-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="10_Dataviz_files/figure-html/fig-TextScatterPlot3-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-70" title="Figure&nbsp;10.44: "><img src="10_Dataviz_files/figure-html/fig-TextScatterPlot3-1.png" id="fig-TextScatterPlot3" class="img-fluid figure-img" width="768"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig quarto-uncaptioned" id="fig-TextScatterPlot3-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;10.44
</figcaption>
</figure>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="no-row-height column-margin column-container"><div class="callout-16-contents callout-collapse collapse callout-margin-content">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="images/hex_ggrepel.svg" class="lightbox" data-gallery="quarto-lightbox-gallery-69" title="Hex sticker of the {ggrepel} package featuring a red pin attaching a label"><img src="images/hex_ggrepel.svg" class="img-fluid figure-img" width="95" alt="Hex sticker of the {ggrepel} package featuring a red pin attaching a label"></a></p>
<figcaption>Hex sticker of the {<a href="https://cran.r-project.org/web/packages/ggrepel/vignettes/ggrepel.html">ggrepel</a>} package featuring a red pin attaching a label</figcaption>
</figure>
</div>
</div></div></section>
<section id="sec-CombiningGeoms" class="level3" data-number="10.2.7">
<h3 data-number="10.2.7" class="anchored" data-anchor-id="sec-CombiningGeoms"><span class="header-section-number">10.2.7</span> Complex plots</h3>
<p>Part of the magic of the Grammar of Graphics is that we can easily <strong>combine</strong> <strong>different geometries</strong> and <strong>aesthetics</strong> to create highly informative graphs. If you just read about the <code>geom_text()</code> function (see <a href="#fig-TextScatterPlot3" class="quarto-xref">Figure&nbsp;<span>10.44</span></a>), then you have already seen how this can work.</p>
<p><a href="#fig-GrammarPointBoxplot" class="quarto-xref">Figure&nbsp;<span>10.45</span></a> is another example. In this plot, we combine <code>geom_boxplot()</code> with <code>geom_point()</code> to see both the defining characteristics of the distributions of grammar test scores among L1 and L2 participants, as well as the exact score of each individual participant.</p>
<p>By default, the <code>geom_boxplot()</code> function plots dots for any outliers. Since we are now also plotting <em>all</em> the data points using the <code>geom_point()</code> function, we need to switch off this option, otherwise the outliers will be plotted twice.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb94" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb94-1"><a href="#cb94-1" aria-hidden="true" tabindex="-1"></a>Dabrowska.data <span class="sc">|&gt;</span></span>
<span id="cb94-2"><a href="#cb94-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">y =</span> Grammar, </span>
<span id="cb94-3"><a href="#cb94-3" aria-hidden="true" tabindex="-1"></a>                       <span class="at">x =</span> Group)) <span class="sc">+</span></span>
<span id="cb94-4"><a href="#cb94-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">outliers =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb94-5"><a href="#cb94-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.6</span>,</span>
<span id="cb94-6"><a href="#cb94-6" aria-hidden="true" tabindex="-1"></a>             <span class="at">size =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb94-7"><a href="#cb94-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="cn">NULL</span>,</span>
<span id="cb94-8"><a href="#cb94-8" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Grammar comprehension test score"</span>) <span class="sc">+</span></span>
<span id="cb94-9"><a href="#cb94-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-GrammarPointBoxplot" class="quarto-float quarto-figure quarto-figure-center anchored" width="50%">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-GrammarPointBoxplot-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="10_Dataviz_files/figure-html/fig-GrammarPointBoxplot-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-71" title="Figure&nbsp;10.45: "><img src="10_Dataviz_files/figure-html/fig-GrammarPointBoxplot-1.png" id="fig-GrammarPointBoxplot" class="img-fluid figure-img" style="width:50.0%"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig quarto-uncaptioned" id="fig-GrammarPointBoxplot-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;10.45
</figcaption>
</figure>
</div>
</div>
</div>
<p>When there are too many points overlapping, even adding some transparency to the points with the <code>alpha</code> option (<code>alpha = 0</code> means fully transparent; <code>alpha = 1</code> means no transparency at all) may not suffice to tell the points apart. An alternative is to add a little bit of randomness to the position of the dots using the <code>geom_jitter()</code> function to ensure that there are fewer overlaps.</p>
<div class="cell" data-source-line-numbers="5-7">
<div class="sourceCode cell-code" id="cb95" data-source-line-numbers="5-7" data-code-line-numbers="5-7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb95-1"><a href="#cb95-1" aria-hidden="true" tabindex="-1"></a>Dabrowska.data <span class="sc">|&gt;</span></span>
<span id="cb95-2"><a href="#cb95-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">y =</span> Grammar, </span>
<span id="cb95-3"><a href="#cb95-3" aria-hidden="true" tabindex="-1"></a>                       <span class="at">x =</span> Group)) <span class="sc">+</span></span>
<span id="cb95-4"><a href="#cb95-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">outliers =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb95-5"><a href="#cb95-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_jitter</span>(<span class="at">alpha =</span> <span class="fl">0.6</span>,</span>
<span id="cb95-6"><a href="#cb95-6" aria-hidden="true" tabindex="-1"></a>              <span class="at">size =</span> <span class="dv">2</span>,</span>
<span id="cb95-7"><a href="#cb95-7" aria-hidden="true" tabindex="-1"></a>              <span class="at">width =</span> <span class="fl">0.1</span>) <span class="sc">+</span></span>
<span id="cb95-8"><a href="#cb95-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="cn">NULL</span>,</span>
<span id="cb95-9"><a href="#cb95-9" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Grammar comprehension test score"</span>) <span class="sc">+</span></span>
<span id="cb95-10"><a href="#cb95-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-JitteredGrammar" class="quarto-float quarto-figure quarto-figure-center anchored" width="50%">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-JitteredGrammar-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="10_Dataviz_files/figure-html/fig-JitteredGrammar-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-72" title="Figure&nbsp;10.46: "><img src="10_Dataviz_files/figure-html/fig-JitteredGrammar-1.png" id="fig-JitteredGrammar" class="img-fluid figure-img" style="width:50.0%"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig quarto-uncaptioned" id="fig-JitteredGrammar-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;10.46
</figcaption>
</figure>
</div>
</div>
</div>
<p>We can also map the colour of the jittered points to another categorical variable from our dataset, e.g., <code>Gender</code>.</p>
<div class="cell" data-source-line-numbers="4">
<div class="sourceCode cell-code" id="cb96" data-source-line-numbers="4" data-code-line-numbers="4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb96-1"><a href="#cb96-1" aria-hidden="true" tabindex="-1"></a>Dabrowska.data <span class="sc">|&gt;</span></span>
<span id="cb96-2"><a href="#cb96-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">y =</span> Grammar, </span>
<span id="cb96-3"><a href="#cb96-3" aria-hidden="true" tabindex="-1"></a>                       <span class="at">x =</span> Group, </span>
<span id="cb96-4"><a href="#cb96-4" aria-hidden="true" tabindex="-1"></a>                       <span class="at">colour =</span> Gender)) <span class="sc">+</span></span>
<span id="cb96-5"><a href="#cb96-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">outliers =</span> <span class="cn">FALSE</span>,</span>
<span id="cb96-6"><a href="#cb96-6" aria-hidden="true" tabindex="-1"></a>               <span class="at">colour =</span> <span class="st">"black"</span>) <span class="sc">+</span></span>
<span id="cb96-7"><a href="#cb96-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_jitter</span>(<span class="at">alpha =</span> <span class="fl">0.6</span>,</span>
<span id="cb96-8"><a href="#cb96-8" aria-hidden="true" tabindex="-1"></a>              <span class="at">size =</span> <span class="dv">2</span>,</span>
<span id="cb96-9"><a href="#cb96-9" aria-hidden="true" tabindex="-1"></a>              <span class="at">width =</span> <span class="fl">0.1</span>) <span class="sc">+</span></span>
<span id="cb96-10"><a href="#cb96-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="cn">NULL</span>,</span>
<span id="cb96-11"><a href="#cb96-11" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Grammar comprehension test score"</span>) <span class="sc">+</span></span>
<span id="cb96-12"><a href="#cb96-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-JitteredGrammarGender" class="quarto-float quarto-figure quarto-figure-center anchored" width="60%">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-JitteredGrammarGender-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="10_Dataviz_files/figure-html/fig-JitteredGrammarGender-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-73" title="Figure&nbsp;10.47: "><img src="10_Dataviz_files/figure-html/fig-JitteredGrammarGender-1.png" id="fig-JitteredGrammarGender" class="img-fluid figure-img" style="width:60.0%"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig quarto-uncaptioned" id="fig-JitteredGrammarGender-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;10.47
</figcaption>
</figure>
</div>
</div>
</div>
<p><a href="#fig-JitteredGrammarGender" class="quarto-xref">Figure&nbsp;<span>10.47</span></a> allows us to see that the lowest grammar comprehension test scores among L1 participants come from male participants, whereas the lowest scores in the L2 group come from female participants. Can you think of why this might be? 🤔 Make a note of your hypothesis as you will have a chance to explore it further in <a href="#sec-InteractivePlots" class="quarto-xref"><span>Section 10.2.8</span></a>.</p>
<p>We can, in theory, visualise even more of our data by adding a <strong>shape</strong> <code>aesthetics</code> to the <code>geom_jitter()</code> (see <a href="#fig-JitteredGrammarGender" class="quarto-xref">Figure&nbsp;<span>10.47</span></a>). However, increased plot complexity does not necessarily result in more meaningful or effective statistical graphics. How effective is <a href="#fig-JitteredGrammarComplex" class="quarto-xref">Figure&nbsp;<span>10.48</span></a> in your opinion?</p>
<div class="cell" data-source-line-numbers="7">
<div class="sourceCode cell-code" id="cb97" data-source-line-numbers="7" data-code-line-numbers="7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb97-1"><a href="#cb97-1" aria-hidden="true" tabindex="-1"></a>Dabrowska.data <span class="sc">|&gt;</span></span>
<span id="cb97-2"><a href="#cb97-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">y =</span> Grammar, </span>
<span id="cb97-3"><a href="#cb97-3" aria-hidden="true" tabindex="-1"></a>                       <span class="at">x =</span> Group, </span>
<span id="cb97-4"><a href="#cb97-4" aria-hidden="true" tabindex="-1"></a>                       <span class="at">colour =</span> OccupGroup)) <span class="sc">+</span></span>
<span id="cb97-5"><a href="#cb97-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">colour =</span> <span class="st">"black"</span>,</span>
<span id="cb97-6"><a href="#cb97-6" aria-hidden="true" tabindex="-1"></a>               <span class="at">outliers =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb97-7"><a href="#cb97-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_jitter</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">shape =</span> Gender),</span>
<span id="cb97-8"><a href="#cb97-8" aria-hidden="true" tabindex="-1"></a>              <span class="at">size =</span> <span class="dv">3</span>,</span>
<span id="cb97-9"><a href="#cb97-9" aria-hidden="true" tabindex="-1"></a>              <span class="at">alpha =</span> <span class="fl">0.7</span>, </span>
<span id="cb97-10"><a href="#cb97-10" aria-hidden="true" tabindex="-1"></a>              <span class="at">width =</span> <span class="fl">0.1</span>) <span class="sc">+</span></span>
<span id="cb97-11"><a href="#cb97-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="cn">NULL</span>,</span>
<span id="cb97-12"><a href="#cb97-12" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Grammar comprehension test score"</span>,</span>
<span id="cb97-13"><a href="#cb97-13" aria-hidden="true" tabindex="-1"></a>       <span class="at">colour =</span> <span class="st">"Occupational</span><span class="sc">\n</span><span class="st">group"</span>) <span class="sc">+</span></span>
<span id="cb97-14"><a href="#cb97-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-JitteredGrammarComplex" class="quarto-float quarto-figure quarto-figure-center anchored" width="70%">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-JitteredGrammarComplex-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="10_Dataviz_files/figure-html/fig-JitteredGrammarComplex-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-74" title="Figure&nbsp;10.48: "><img src="10_Dataviz_files/figure-html/fig-JitteredGrammarComplex-1.png" id="fig-JitteredGrammarComplex" class="img-fluid figure-img" style="width:70.0%"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig quarto-uncaptioned" id="fig-JitteredGrammarComplex-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;10.48
</figcaption>
</figure>
</div>
</div>
</div>
<p>As the saying goes, less is often more. In other words, simpler plots are often more effective than complex ones. With {ggplot2} and its many extensions, the possibilities are almost endless, but that doesn’t mean that simple bar charts, histograms, and scatter plots should be abandoned! When designing effective data visualisation to communicate your research, think carefully about your <strong>audience</strong> and the <strong>message</strong> that you want to convey.</p>
</section>
<section id="sec-InteractivePlots" class="level3 page-columns page-full" data-number="10.2.8">
<h3 data-number="10.2.8" class="anchored" data-anchor-id="sec-InteractivePlots"><span class="header-section-number">10.2.8</span> Interactive plots</h3>
<p>In <a href="#sec-CombiningGeoms" class="quarto-xref"><span>Section 10.2.7</span></a>, we saw that we can combine <strong>geometries</strong> and <strong>aesthetics</strong>, but that there are some limits as to what is meaningful and effective. In particular, it is difficult to visualise categorical variables with many different levels on a static graph.</p>
<p>The good news is that now that you know how to create a plot using {ggplot2}, you are 10 seconds away from making it interactive! Interactive plots are particularly useful for <strong>data sanity checks</strong> and <strong>data exploration</strong>.</p>

<div class="no-row-height column-margin column-container"><div class="">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="images/hex_plotly.png" class="lightbox" data-gallery="quarto-lightbox-gallery-75" title="Hex sticker of the {plotly} package"><img src="images/hex_plotly.png" class="img-fluid figure-img" width="100" alt="Hex sticker of the {plotly} package"></a></p>
<figcaption>Hex sticker of the <a href="https://plotly-r.com">{plotly}</a> package</figcaption>
</figure>
</div>
</div></div><p>The <a href="https://plotly-r.com">{plotly}</a> package provides access to a popular javascript visualisation toolkit within <code>R</code>. You will first need to install the package and load it.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb98" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb98-1"><a href="#cb98-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"plotly"</span>)</span>
<span id="cb98-2"><a href="#cb98-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(plotly)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Then, all you need to do is create and save a <code>ggplot</code> object, and call that object with the <code>ggplotly()</code> function. In RStudio, your interactive plot will be displayed in the Viewer pane. Hover your mouse over the data points of <span class="quarto-unresolved-ref">?fig-InteractivePlot</span> to explore the data interactively. You will see that, in addition to the variables mapped onto the plot itself, the variable mapped onto the <code>label</code> aesthetics (<code>OccupGroup</code>) also appears when you hover the mouse over any single data point.</p>
<div class="cell" data-source-line-numbers="1,15">
<div class="sourceCode cell-code" id="cb99" data-source-line-numbers="1,15" data-code-line-numbers="1,15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb99-1"><a href="#cb99-1" aria-hidden="true" tabindex="-1"></a>myplot <span class="ot">&lt;-</span> Dabrowska.data <span class="sc">|&gt;</span> </span>
<span id="cb99-2"><a href="#cb99-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">y =</span> Grammar, </span>
<span id="cb99-3"><a href="#cb99-3" aria-hidden="true" tabindex="-1"></a>                       <span class="at">x =</span> Group, </span>
<span id="cb99-4"><a href="#cb99-4" aria-hidden="true" tabindex="-1"></a>                       <span class="at">colour =</span> Gender,</span>
<span id="cb99-5"><a href="#cb99-5" aria-hidden="true" tabindex="-1"></a>                       <span class="at">label =</span> Occupation)) <span class="sc">+</span></span>
<span id="cb99-6"><a href="#cb99-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_jitter</span>(<span class="at">alpha =</span> <span class="fl">0.8</span>, </span>
<span id="cb99-7"><a href="#cb99-7" aria-hidden="true" tabindex="-1"></a>              <span class="at">width =</span> <span class="fl">0.1</span>) <span class="sc">+</span></span>
<span id="cb99-8"><a href="#cb99-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">alpha =</span> <span class="dv">0</span>, </span>
<span id="cb99-9"><a href="#cb99-9" aria-hidden="true" tabindex="-1"></a>               <span class="at">colour =</span> <span class="st">"black"</span>,</span>
<span id="cb99-10"><a href="#cb99-10" aria-hidden="true" tabindex="-1"></a>               <span class="at">outliers =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb99-11"><a href="#cb99-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="cn">NULL</span>,</span>
<span id="cb99-12"><a href="#cb99-12" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Grammar comprehension test score"</span>) <span class="sc">+</span></span>
<span id="cb99-13"><a href="#cb99-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>()</span>
<span id="cb99-14"><a href="#cb99-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb99-15"><a href="#cb99-15" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplotly</span>(myplot)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-35ce05c3effa0c010e22" style="width:80%;height:480px;"></div>
<script type="application/json" data-for="htmlwidget-35ce05c3effa0c010e22">{"x":{"data":[{"x":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2],"y":[95,97.5,97.5,100,97.5,65,92.5,70,45,72.5,67.5,82.5,85,75,92.5,75,100,85,97.5,97.5,85,77.5,97.5,92.5,97.5,80,85,80,95,95,80,100,62.5,92.5,87.5,100,57.5,95,97.5,95,97.5,92.5,97.5,97.5,70,85,95,97.5,77.5,82.5,95,97.5,90,75,97.5,95,82.5,72.5,80,95,100,90,52.5,75,80,90,100,80,75,87.5,82.5,95,97.5,100,100,72.5,97.5,92.5,92.5,80,85,95,75,85,77.5,55,85,77.5,60,95,50,12.5,85,95,97.5,92.5,5,95,12.5,100,92.5,10,72.5,62.5,85,70,92.5,42.5,12.5,2.5,5,97.5,92.5,95,100,55,77.5,95,100,97.5,90,82.5,92.5,87.5,95,10,72.5,65,97.5,90,67.5,97.5,97.5,92.5,95,97.5,92.5,15,75,97.5,95,42.5,0,37.5,92.5,95,20,12.5,12.5,82.5,97.5,97.5,95,60,25,82.5,90],"hoverinfo":"y","type":"box","fillcolor":"rgba(255,255,255,1)","marker":{"opacity":0},"line":{"color":"rgba(0,0,0,1)","width":1.8897637795275593},"showlegend":false,"xaxis":"x","yaxis":"y","frame":null},{"x":[0.90838789255358277,1.0715704834088684,1.0596750861965121,1.0051239368505775,1.0513046256732195,1.0473374393768609,0.94430524255149062,1.0864451330620795,1.0756121940445156,0.90187610760331149,0.94632746456190941,1.0958100832533091,0.94842199846170838,1.0118240770883857,1.0641534880269319,1.0961644921451807,0.91362636075355108,1.0249322706367821,1.0672080921940506,0.95827960479073226,1.0255240536760539,1.0170051340945065,0.95112046431750064,1.0936235105618834,0.97931604348123069,0.94442606582306321,1.0266463201493026,1.053885650448501,1.0181141914799809,0.9097080460749567,1.0118528325576335,1.0119236651342363,0.96540980944409971,1.0951538372784853,1.0782849041279405,0.99091992378234861,1.0802855513524263,1.0386277921497822,1.0588487971574068,0.95473653557710347,1.0401332864537836,1.0176354169845581,0.92747723655775194,1.0128641758114099,0.95396644123829899,1.0493873708881438,0.9699666775763035,0.92982212048955259,1.9508922888431699,1.998757837805897,2.0245333793573081,1.9089211373124271,2.0287413236219436,1.9043770148884505,2.0773059440776707,2.0245652955025433,2.0738903392571957,2.073606536677107,1.9657277293968947,1.9455189301166684,1.9432355822063982,2.0347132737282663,2.013064796710387,1.9722990309353918,1.9559305286966264,2.0249514852184802,2.0051461034454405,2.0016970114782451,2.0543782771099357,2.0349909340962768,2.0388568327762187,1.911258402140811,2.0188196931499989,1.9505945265758782,2.0892033249139788,1.9737336472608149,1.970022932626307,1.9201674618758262,2.0022497223224489,1.9472961895167828,2.039587035262957,2.0262801959179342,2.0326409139204769,2.0832835715264082,2.0509849500376731,2.015299372887239,1.9766532888635993,1.9960450534243137,1.9431796938180923,2.0378717200364918,2.0884245820809157,1.9876857069320977,2.054150864481926,1.9574536134023219],"y":[100.01631881808862,96.851287193596363,64.274757215287536,92.880391240119934,73.339044224470854,66.951807781588286,75.654064336791635,74.519768696743995,84.091629818547517,96.994763809256256,96.902271691244096,85.995787187945098,76.533362279180437,98.287394463084638,91.778485224116594,97.313041662797332,84.171629091724753,94.79774925718084,80.572200512047857,99.964729206170887,63.125267380848527,88.473143725190312,100.2441569971852,94.850595888216048,97.0740244560875,94.324115935713053,98.328541859984398,92.687847407069057,69.258629725314677,84.839615249074996,96.803417034447193,77.413817017804831,82.257105560973287,95.750007357914001,98.396148196887225,89.064931363333017,75.70766647066921,71.599027054850012,79.243774771690369,75.388624196872115,97.372788251377642,99.142594653181732,72.233322247397155,79.824296985287219,85.143696886952966,84.654431355185807,76.968680749181658,59.373242443427444,49.111866800580174,11.963213343638927,85.513294014614075,94.764098716434091,92.874313292093575,4.1439104578457773,94.36338500212878,12.598072079475969,100.73573637427762,93.185032397508621,10.595535697881132,72.16723350668326,84.064167882781476,69.885525401681662,12.497361325193197,3.1377630368806422,4.4532801937311888,98.175783324521035,93.472650482784957,95.726294719614089,100.18422370404005,54.755873936694115,95.864504426252097,100.12982023274526,89.37579870223999,82.944106969516724,91.503740896470845,94.487601433880627,10.808014097157866,97.695407137274742,68.078804246615618,97.396092419046909,92.025915638543665,95.453151672147214,97.826845061965287,74.138470956124365,96.811702017206699,94.992349727079272,41.587713378015906,0.48970644036307931,20.740822532679886,11.576184255070984,12.330749125219882,82.062739938963205,94.221733391284943,25.366961877793074],"text":["Group: L1<br />Grammar: 100.0<br />Gender: F<br />Occupation: Web Designer","Group: L1<br />Grammar:  97.5<br />Gender: F<br />Occupation: Homemaker","Group: L1<br />Grammar:  65.0<br />Gender: F<br />Occupation: Retired","Group: L1<br />Grammar:  92.5<br />Gender: F<br />Occupation: Cleaner","Group: L1<br />Grammar:  72.5<br />Gender: F<br />Occupation: Housewife","Group: L1<br />Grammar:  67.5<br />Gender: F<br />Occupation: Admin Assistant","Group: L1<br />Grammar:  75.0<br />Gender: F<br />Occupation: Carer/Cleaner","Group: L1<br />Grammar:  75.0<br />Gender: F<br />Occupation: Finance Assistant","Group: L1<br />Grammar:  85.0<br />Gender: F<br />Occupation: Housewife","Group: L1<br />Grammar:  97.5<br />Gender: F<br />Occupation: Functions Co-Ordinator","Group: L1<br />Grammar:  97.5<br />Gender: F<br />Occupation: Student","Group: L1<br />Grammar:  85.0<br />Gender: F<br />Occupation: Senior Lecturer","Group: L1<br />Grammar:  77.5<br />Gender: F<br />Occupation: Retired","Group: L1<br />Grammar:  97.5<br />Gender: F<br />Occupation: Nail Technician","Group: L1<br />Grammar:  92.5<br />Gender: F<br />Occupation: Human Resources","Group: L1<br />Grammar:  97.5<br />Gender: F<br />Occupation: Teacher","Group: L1<br />Grammar:  85.0<br />Gender: F<br />Occupation: Clerk","Group: L1<br />Grammar:  95.0<br />Gender: F<br />Occupation: Dental Nurse","Group: L1<br />Grammar:  80.0<br />Gender: F<br />Occupation: Unemployed","Group: L1<br />Grammar: 100.0<br />Gender: F<br />Occupation: University Lecturer","Group: L1<br />Grammar:  62.5<br />Gender: F<br />Occupation: Retired","Group: L1<br />Grammar:  87.5<br />Gender: F<br />Occupation: Student","Group: L1<br />Grammar: 100.0<br />Gender: F<br />Occupation: Student","Group: L1<br />Grammar:  95.0<br />Gender: F<br />Occupation: P/T Administrator","Group: L1<br />Grammar:  97.5<br />Gender: F<br />Occupation: Retired","Group: L1<br />Grammar:  95.0<br />Gender: F<br />Occupation: Creative Writing Tutor","Group: L1<br />Grammar:  97.5<br />Gender: F<br />Occupation: Student (College)","Group: L1<br />Grammar:  92.5<br />Gender: F<br />Occupation: Retired","Group: L1<br />Grammar:  70.0<br />Gender: F<br />Occupation: Receptionist","Group: L1<br />Grammar:  85.0<br />Gender: F<br />Occupation: Catering Assistant","Group: L1<br />Grammar:  97.5<br />Gender: F<br />Occupation: Unemployed","Group: L1<br />Grammar:  77.5<br />Gender: F<br />Occupation: Waitress","Group: L1<br />Grammar:  82.5<br />Gender: F<br />Occupation: Care Assisant","Group: L1<br />Grammar:  95.0<br />Gender: F<br />Occupation: Civil Servant","Group: L1<br />Grammar:  97.5<br />Gender: F<br />Occupation: Administrator","Group: L1<br />Grammar:  90.0<br />Gender: F<br />Occupation: Admin Assistant","Group: L1<br />Grammar:  75.0<br />Gender: F<br />Occupation: Project Coordinator","Group: L1<br />Grammar:  72.5<br />Gender: F<br />Occupation: Teacher","Group: L1<br />Grammar:  80.0<br />Gender: F<br />Occupation: Support Worker","Group: L1<br />Grammar:  75.0<br />Gender: F<br />Occupation: Retired","Group: L1<br />Grammar:  97.5<br />Gender: F<br />Occupation: Singer","Group: L1<br />Grammar: 100.0<br />Gender: F<br />Occupation: Retired","Group: L1<br />Grammar:  72.5<br />Gender: F<br />Occupation: Student","Group: L1<br />Grammar:  80.0<br />Gender: F<br />Occupation: Housewife","Group: L1<br />Grammar:  85.0<br />Gender: F<br />Occupation: Shop Assistant","Group: L1<br />Grammar:  85.0<br />Gender: F<br />Occupation: Student","Group: L1<br />Grammar:  77.5<br />Gender: F<br />Occupation: Student","Group: L1<br />Grammar:  60.0<br />Gender: F<br />Occupation: Student","Group: L2<br />Grammar:  50.0<br />Gender: F<br />Occupation: Student","Group: L2<br />Grammar:  12.5<br />Gender: F<br />Occupation: Student","Group: L2<br />Grammar:  85.0<br />Gender: F<br />Occupation: Cleaner","Group: L2<br />Grammar:  95.0<br />Gender: F<br />Occupation: Student","Group: L2<br />Grammar:  92.5<br />Gender: F<br />Occupation: Student","Group: L2<br />Grammar:   5.0<br />Gender: F<br />Occupation: Student","Group: L2<br />Grammar:  95.0<br />Gender: F<br />Occupation: Self Employed","Group: L2<br />Grammar:  12.5<br />Gender: F<br />Occupation: Intern","Group: L2<br />Grammar: 100.0<br />Gender: F<br />Occupation: Student","Group: L2<br />Grammar:  92.5<br />Gender: F<br />Occupation: Barmaid","Group: L2<br />Grammar:  10.0<br />Gender: F<br />Occupation: Data Entry","Group: L2<br />Grammar:  72.5<br />Gender: F<br />Occupation: Inventory Taker","Group: L2<br />Grammar:  85.0<br />Gender: F<br />Occupation: Cleaner","Group: L2<br />Grammar:  70.0<br />Gender: F<br />Occupation: Horticultarist","Group: L2<br />Grammar:  12.5<br />Gender: F<br />Occupation: Product Operative","Group: L2<br />Grammar:   2.5<br />Gender: F<br />Occupation: Cashier","Group: L2<br />Grammar:   5.0<br />Gender: F<br />Occupation: Student","Group: L2<br />Grammar:  97.5<br />Gender: F<br />Occupation: Admin Assistant","Group: L2<br />Grammar:  92.5<br />Gender: F<br />Occupation: Phd Candidate","Group: L2<br />Grammar:  95.0<br />Gender: F<br />Occupation: Student","Group: L2<br />Grammar: 100.0<br />Gender: F<br />Occupation: Bar Staff","Group: L2<br />Grammar:  55.0<br />Gender: F<br />Occupation: Care Worker","Group: L2<br />Grammar:  95.0<br />Gender: F<br />Occupation: After School Club Assistant","Group: L2<br />Grammar: 100.0<br />Gender: F<br />Occupation: Student","Group: L2<br />Grammar:  90.0<br />Gender: F<br />Occupation: Teacher","Group: L2<br />Grammar:  82.5<br />Gender: F<br />Occupation: Housing Services Officer","Group: L2<br />Grammar:  92.5<br />Gender: F<br />Occupation: Freelance Interpreter","Group: L2<br />Grammar:  95.0<br />Gender: F<br />Occupation: Physicist","Group: L2<br />Grammar:  10.0<br />Gender: F<br />Occupation: Media Asst.","Group: L2<br />Grammar:  97.5<br />Gender: F<br />Occupation: Research Assistant","Group: L2<br />Grammar:  67.5<br />Gender: F<br />Occupation: Finance Assistant","Group: L2<br />Grammar:  97.5<br />Gender: F<br />Occupation: Waitress","Group: L2<br />Grammar:  92.5<br />Gender: F<br />Occupation: Student Experience Asst.","Group: L2<br />Grammar:  95.0<br />Gender: F<br />Occupation: Pharmacist","Group: L2<br />Grammar:  97.5<br />Gender: F<br />Occupation: House Manager","Group: L2<br />Grammar:  75.0<br />Gender: F<br />Occupation: Receptionist In Chinese Clinic","Group: L2<br />Grammar:  97.5<br />Gender: F<br />Occupation: Pharmacist","Group: L2<br />Grammar:  95.0<br />Gender: F<br />Occupation: Bar Staff","Group: L2<br />Grammar:  42.5<br />Gender: F<br />Occupation: Cleaner","Group: L2<br />Grammar:   0.0<br />Gender: F<br />Occupation: Teacher","Group: L2<br />Grammar:  20.0<br />Gender: F<br />Occupation: Office Manager","Group: L2<br />Grammar:  12.5<br />Gender: F<br />Occupation: Researcher","Group: L2<br />Grammar:  12.5<br />Gender: F<br />Occupation: Student","Group: L2<br />Grammar:  82.5<br />Gender: F<br />Occupation: Clinic Manager","Group: L2<br />Grammar:  95.0<br />Gender: F<br />Occupation: Interpreter","Group: L2<br />Grammar:  25.0<br />Gender: F<br />Occupation: Cashier"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","opacity":0.80000000000000004,"size":7.559055118110237,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(248,118,109,1)"}},"hoveron":"points","name":"F","legendgroup":"F","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[0.95228452552109955,1.0776108132675291,1.0261367593426258,1.0612273656297475,1.0132679929956794,1.059581457823515,0.92815172178670768,1.0608243258204311,0.94209242216311395,0.98285493799485268,0.99796178396791224,0.93162020402960477,0.98794627916067834,0.93596961610019203,0.93632511203177271,0.92780100870877502,1.0258836016058921,1.0721132485195994,0.96157301706261933,1.012193641019985,1.020259269606322,0.92719426020048556,0.94528122986666863,1.0611386539414525,1.0305606566835195,0.92484967112541194,0.94437200995162129,0.96121859173290436,1.0372418455313892,0.97313805422745647,0.90446224501356487,0.92231283551082011,0.9313114414457232,1.0332156668417156,1.0622343163471668,0.98422600496560331,0.99240498309955005,1.033615583088249,1.0576033144723624,1.0960967035032809,0.93831141521222894,1.0270478053949774,2.0634437450673433,2.0887238314840944,2.0316482587717473,2.0508837985340507,2.0223585971165448,1.9679046061355621,1.9637788081075995,1.9478245877660811,1.9938267367426306,2.0841187288053336,1.974516309890896,2.0424383062869311,2.0271827280521393,2.0028977092355489,1.9957159409765155,2.0394105446059259,2.0095667886082085,2.0622830649837853,2.0494144150055944,1.9981453719548881,1.9853225419297815],"y":[95.776186247356236,98.112399414647371,97.79647596552968,69.489671813324094,45.556959003675729,81.568407031241804,85.209957846440375,93.027664355468005,99.015720967203379,80.722774197347462,79.260559608228505,94.615256288088858,92.470307427458465,58.091564061585814,97.136995890643448,98.45093345688656,95.350543642416596,98.464584283065051,95.696148566901684,82.61657456215471,94.556330075021833,99.714622103143483,89.770070091821253,52.588704742025584,80.012612472753972,89.677193617448211,100.41082533448935,80.92527382215485,75.891283925622702,86.549322484061122,83.492636781651527,94.100503023248166,99.499303622171283,98.295397116802633,92.590224026236683,92.899049708154052,94.268714726902544,74.464229930192232,55.122536864131689,85.507480992004275,78.36346692033112,94.892194412183017,97.154178985394537,62.228278873488307,91.640583132859319,42.495634329970926,76.621701445896178,97.92559797083959,87.712371231522411,73.366566170938313,65.645552916452289,89.096861041150987,97.566604211460799,92.189753376878798,15.184126255102456,36.532446157652885,93.424244076944888,94.621334616560489,97.619527599774301,96.576792038045824,59.894924560096115,83.074755571782589,90.195765100419521],"text":["Group: L1<br />Grammar:  95.0<br />Gender: M<br />Occupation: Student","Group: L1<br />Grammar:  97.5<br />Gender: M<br />Occupation: Student/Support Worker","Group: L1<br />Grammar:  97.5<br />Gender: M<br />Occupation: Retired","Group: L1<br />Grammar:  70.0<br />Gender: M<br />Occupation: Roofer","Group: L1<br />Grammar:  45.0<br />Gender: M<br />Occupation: Manual Worker","Group: L1<br />Grammar:  82.5<br />Gender: M<br />Occupation: Content Editor","Group: L1<br />Grammar:  85.0<br />Gender: M<br />Occupation: School Crossing Guard","Group: L1<br />Grammar:  92.5<br />Gender: M<br />Occupation: It Support","Group: L1<br />Grammar: 100.0<br />Gender: M<br />Occupation: Admin Officer","Group: L1<br />Grammar:  80.0<br />Gender: M<br />Occupation: Boilermaker","Group: L1<br />Grammar:  80.0<br />Gender: M<br />Occupation: Retired","Group: L1<br />Grammar:  95.0<br />Gender: M<br />Occupation: Sales Assistant","Group: L1<br />Grammar:  92.5<br />Gender: M<br />Occupation: Unemployed","Group: L1<br />Grammar:  57.5<br />Gender: M<br />Occupation: Retired","Group: L1<br />Grammar:  97.5<br />Gender: M<br />Occupation: Teacher","Group: L1<br />Grammar:  97.5<br />Gender: M<br />Occupation: Unemployed","Group: L1<br />Grammar:  95.0<br />Gender: M<br />Occupation: Shop Assistant","Group: L1<br />Grammar:  97.5<br />Gender: M<br />Occupation: Quantity Surveyor","Group: L1<br />Grammar:  95.0<br />Gender: M<br />Occupation: Office Admin Co-Ordinator","Group: L1<br />Grammar:  82.5<br />Gender: M<br />Occupation: Personal Searcher","Group: L1<br />Grammar:  95.0<br />Gender: M<br />Occupation: Train Driver","Group: L1<br />Grammar: 100.0<br />Gender: M<br />Occupation: Quantity Surveyor","Group: L1<br />Grammar:  90.0<br />Gender: M<br />Occupation: Shop Assistant","Group: L1<br />Grammar:  52.5<br />Gender: M<br />Occupation: Retired","Group: L1<br />Grammar:  80.0<br />Gender: M<br />Occupation: Retired","Group: L1<br />Grammar:  90.0<br />Gender: M<br />Occupation: Retired","Group: L1<br />Grammar: 100.0<br />Gender: M<br />Occupation: Retired","Group: L1<br />Grammar:  80.0<br />Gender: M<br />Occupation: School Crossing Patrol","Group: L1<br />Grammar:  75.0<br />Gender: M<br />Occupation: Supermarket Assistant","Group: L1<br />Grammar:  87.5<br />Gender: M<br />Occupation: Policeman","Group: L1<br />Grammar:  82.5<br />Gender: M<br />Occupation: Factory Worker","Group: L1<br />Grammar:  95.0<br />Gender: M<br />Occupation: Unemploed","Group: L1<br />Grammar: 100.0<br />Gender: M<br />Occupation: Policeman","Group: L1<br />Grammar:  97.5<br />Gender: M<br />Occupation: Factory Worker","Group: L1<br />Grammar:  92.5<br />Gender: M<br />Occupation: Warehouse Operative","Group: L1<br />Grammar:  92.5<br />Gender: M<br />Occupation: Customer Service Advisor","Group: L1<br />Grammar:  95.0<br />Gender: M<br />Occupation: Student","Group: L1<br />Grammar:  75.0<br />Gender: M<br />Occupation: Student","Group: L1<br />Grammar:  55.0<br />Gender: M<br />Occupation: Student","Group: L1<br />Grammar:  85.0<br />Gender: M<br />Occupation: Student","Group: L1<br />Grammar:  77.5<br />Gender: M<br />Occupation: Student","Group: L1<br />Grammar:  95.0<br />Gender: M<br />Occupation: Student","Group: L2<br />Grammar:  97.5<br />Gender: M<br />Occupation: Student","Group: L2<br />Grammar:  62.5<br />Gender: M<br />Occupation: Factory Worker","Group: L2<br />Grammar:  92.5<br />Gender: M<br />Occupation: Product Operative","Group: L2<br />Grammar:  42.5<br />Gender: M<br />Occupation: Product Operative","Group: L2<br />Grammar:  77.5<br />Gender: M<br />Occupation: Driver","Group: L2<br />Grammar:  97.5<br />Gender: M<br />Occupation: Student","Group: L2<br />Grammar:  87.5<br />Gender: M<br />Occupation: Chemist","Group: L2<br />Grammar:  72.5<br />Gender: M<br />Occupation: Bus Mechanic","Group: L2<br />Grammar:  65.0<br />Gender: M<br />Occupation: Student","Group: L2<br />Grammar:  90.0<br />Gender: M<br />Occupation: Mechanical Services Engineer","Group: L2<br />Grammar:  97.5<br />Gender: M<br />Occupation: Househusband","Group: L2<br />Grammar:  92.5<br />Gender: M<br />Occupation: Herbalist","Group: L2<br />Grammar:  15.0<br />Gender: M<br />Occupation: Product Operative","Group: L2<br />Grammar:  37.5<br />Gender: M<br />Occupation: Product Operative","Group: L2<br />Grammar:  92.5<br />Gender: M<br />Occupation: Self Employed","Group: L2<br />Grammar:  95.0<br />Gender: M<br />Occupation: Academic Tutor","Group: L2<br />Grammar:  97.5<br />Gender: M<br />Occupation: Academic Tutor","Group: L2<br />Grammar:  97.5<br />Gender: M<br />Occupation: It Tech Support","Group: L2<br />Grammar:  60.0<br />Gender: M<br />Occupation: Driver","Group: L2<br />Grammar:  82.5<br />Gender: M<br />Occupation: Company Director","Group: L2<br />Grammar:  90.0<br />Gender: M<br />Occupation: Retired"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,191,196,1)","opacity":0.80000000000000004,"size":7.559055118110237,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(0,191,196,1)"}},"hoveron":"points","name":"M","legendgroup":"M","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":23.305936073059364,"r":7.3059360730593621,"b":22.648401826484022,"l":43.105022831050235},"plot_bgcolor":"rgba(255,255,255,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[0.40000000000000002,2.6000000000000001],"tickmode":"array","ticktext":["L1","L2"],"tickvals":[1,2],"categoryorder":"array","categoryarray":["L1","L2"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"y","title":{"text":"","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-5.0367868187138818,105.7725231929915],"tickmode":"array","ticktext":["0","25","50","75","100"],"tickvals":[0,24.999999999999996,50,75,100],"categoryorder":"array","categoryarray":["0","25","50","75","100"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"x","title":{"text":"Grammar comprehension test score","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":"transparent","line":{"color":"rgba(51,51,51,1)","width":0.66417600664176002,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.8897637795275593,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.68949771689498},"title":{"text":"Gender","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"6b7669e3e600":{"x":{},"y":{},"colour":{},"label":{},"type":"box"},"6b767111404f":{"x":{},"y":{},"colour":{},"label":{}}},"cur_data":"6b7669e3e600","visdat":{"6b7669e3e600":["function (y) ","x"],"6b767111404f":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>If you want to display more than one additional variable on hover, you can do using the <code>text</code> mapping. Here you can customise which variables are displayed and how. As the interactive plot is coded in HTML, you need to use the “<br>” tag to add a new line.</p>
<div class="cell" data-source-line-numbers="5-7,17">
<div class="sourceCode cell-code" id="cb100" data-source-line-numbers="5-7,17" data-code-line-numbers="5-7,17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb100-1"><a href="#cb100-1" aria-hidden="true" tabindex="-1"></a>myplot2 <span class="ot">&lt;-</span> Dabrowska.data <span class="sc">|&gt;</span> </span>
<span id="cb100-2"><a href="#cb100-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">y =</span> Grammar, </span>
<span id="cb100-3"><a href="#cb100-3" aria-hidden="true" tabindex="-1"></a>                       <span class="at">x =</span> Group, </span>
<span id="cb100-4"><a href="#cb100-4" aria-hidden="true" tabindex="-1"></a>                       <span class="at">colour =</span> Gender,</span>
<span id="cb100-5"><a href="#cb100-5" aria-hidden="true" tabindex="-1"></a>                       <span class="at">text =</span> <span class="fu">paste</span>(<span class="st">"Age:"</span>, Age,</span>
<span id="cb100-6"><a href="#cb100-6" aria-hidden="true" tabindex="-1"></a>                                    <span class="st">"&lt;/br&gt;Years in formal education:"</span>, EduTotal,</span>
<span id="cb100-7"><a href="#cb100-7" aria-hidden="true" tabindex="-1"></a>                                     <span class="st">"&lt;/br&gt;Job:"</span>, Occupation))) <span class="sc">+</span></span>
<span id="cb100-8"><a href="#cb100-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_jitter</span>(<span class="at">alpha =</span> <span class="fl">0.8</span>, </span>
<span id="cb100-9"><a href="#cb100-9" aria-hidden="true" tabindex="-1"></a>              <span class="at">width =</span> <span class="fl">0.1</span>) <span class="sc">+</span></span>
<span id="cb100-10"><a href="#cb100-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">alpha =</span> <span class="dv">0</span>, </span>
<span id="cb100-11"><a href="#cb100-11" aria-hidden="true" tabindex="-1"></a>               <span class="at">colour =</span> <span class="st">"black"</span>,</span>
<span id="cb100-12"><a href="#cb100-12" aria-hidden="true" tabindex="-1"></a>               <span class="at">outliers =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb100-13"><a href="#cb100-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="cn">NULL</span>,</span>
<span id="cb100-14"><a href="#cb100-14" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Grammar comprehension test score"</span>) <span class="sc">+</span></span>
<span id="cb100-15"><a href="#cb100-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>()</span>
<span id="cb100-16"><a href="#cb100-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-17"><a href="#cb100-17" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplotly</span>(myplot2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-683d88e9b09f78c3c88a" style="width:80%;height:480px;"></div>
<script type="application/json" data-for="htmlwidget-683d88e9b09f78c3c88a">{"x":{"data":[{"x":[1.0329795730765909,0.91099292049184444,0.98850176809355617,0.99357092562131588,1.0492574535775929,1.053990575671196,1.0424925804138183,1.0318642045836897,1.033578619780019,1.0303597956895829,1.0216257532127202,0.91375107141211631,1.0625533773563802,1.0952379761263729,0.93425421249121432,1.0462261483073234,1.0092793121468275,1.0648474952206015,1.0059520248323679,0.942575981002301,1.0484098440501839,1.0922726299148053,0.98640015916898849,1.0386267046909778,0.9157222522888333,0.93330679321661592,0.99252580595202744,0.98478466896340255,1.0498661202378572,1.038044196832925,0.98945312262512741,1.0457561609800905,1.0838041442446411,1.0748559572268277,1.065029273321852,1.0651672932785003,1.075464199995622,1.0561626093927772,0.92627524733543398,1.0138779256958514,1.0087831074837594,0.91631914954632521,0.95021394365467127,0.99781351881101732,0.94013206707313657,1.0137369599658996,1.0960760528687388,1.0459149240981787,2.0926711339037865,2.074540274310857,2.0072711126413196,2.059216652205214,1.9193480559624732,1.9850818402133883,2.0645763411652296,2.0577381332404912,2.0782611558679491,2.0988463636953383,2.027042964519933,1.9527048161253333,2.0364247956313193,2.0220275160856547,2.0656717410311103,2.0600287375040351,1.9630085381679236,2.0524804031010717,2.0114887256175278,1.9735298823099583,2.0517908540554344,2.0469703100621701,1.901181940222159,1.946260958397761,2.0386996848974377,2.0861377831548453,2.0593609765172003,1.946982930926606,2.0912671154364944,1.9641310047823937,2.0770821388345211,1.9348685097880662,2.015984113421291,2.0674781810492275,2.0757748196367176,1.9332228961400688,2.0174697015434502,1.9315420942381025,1.9710617776028811,1.945363452238962,1.9495769516099244,2.0270278385840355,1.9880893709138037,2.0073658476583658,1.987929647276178,2.0849405919201671],"y":[100.67863397765905,96.560367873404175,65.624426622875035,91.893519996199757,72.172380926087499,67.474874193780124,75.40071371756494,75.707747689448297,84.056758914608508,97.983489125501364,98.074869292322546,84.086647326126695,77.64374413061887,98.326008923817426,91.875609285663813,97.675970964133739,85.846424074843526,95.066712939180434,79.800188588444144,99.790103103965521,62.91238510934636,88.455654432997108,100.55188246583566,95.361711316742003,96.77911117579788,95.549226509872824,97.164946657139808,93.451279803179204,70.131161198019981,85.158617838285863,96.551458403468132,77.441576640121639,82.200876723043621,94.362615635618567,98.41449723765254,90.533284605015069,75.059665323700756,71.583647385705262,80.145964118652046,75.102430507075042,97.428120743948966,100.00532224634662,73.373830212280154,80.978614422492683,84.639884128700942,84.780691109597683,78.146139648742974,60.505840242374688,49.16812163265422,13.084183390717953,84.55062134610489,94.815642689820379,92.551071228459477,4.0598394507542253,95.805598791688681,13.394753618165851,99.838117929641157,91.628083811141551,10.995272036176175,72.371252449695021,84.339135098736733,69.915016144514084,13.403197346720845,3.2875149943865836,4.3508925992064178,96.833123164717108,93.197174271568656,94.291887145023793,99.9381896071136,54.655006085522473,95.040010696742684,100.17330671520904,89.80509494477883,82.840080409776419,92.433446317911148,95.295437679160386,9.0041327541694045,98.108655316289514,66.887836461886764,96.928514980245382,91.698218049947172,94.976737393531948,96.535691113676876,75.884102242533118,97.764627480413765,94.551892193965614,43.436442378442734,0.85134232090786099,20.210242553148419,11.977620059158653,11.833305691834539,82.749469495844096,94.263234083540738,25.638738841749728],"text":["Group: L1<br />Grammar: 100.0<br />Gender: F<br />Age: 26 <\/br>Years in formal education: 17 <\/br>Job: Web Designer","Group: L1<br />Grammar:  97.5<br />Gender: F<br />Age: 55 <\/br>Years in formal education: 12 <\/br>Job: Homemaker","Group: L1<br />Grammar:  65.0<br />Gender: F<br />Age: 58 <\/br>Years in formal education: 12 <\/br>Job: Retired","Group: L1<br />Grammar:  92.5<br />Gender: F<br />Age: 31 <\/br>Years in formal education: 13 <\/br>Job: Cleaner","Group: L1<br />Grammar:  72.5<br />Gender: F<br />Age: 59 <\/br>Years in formal education: 11 <\/br>Job: Housewife","Group: L1<br />Grammar:  67.5<br />Gender: F<br />Age: 32 <\/br>Years in formal education: 13 <\/br>Job: Admin Assistant","Group: L1<br />Grammar:  75.0<br />Gender: F<br />Age: 51 <\/br>Years in formal education: 11 <\/br>Job: Carer/Cleaner","Group: L1<br />Grammar:  75.0<br />Gender: F<br />Age: 29 <\/br>Years in formal education: 13 <\/br>Job: Finance Assistant","Group: L1<br />Grammar:  85.0<br />Gender: F<br />Age: 57 <\/br>Years in formal education: 17 <\/br>Job: Housewife","Group: L1<br />Grammar:  97.5<br />Gender: F<br />Age: 60 <\/br>Years in formal education: 12 <\/br>Job: Functions Co-Ordinator","Group: L1<br />Grammar:  97.5<br />Gender: F<br />Age: 18 <\/br>Years in formal education: 14 <\/br>Job: Student","Group: L1<br />Grammar:  85.0<br />Gender: F<br />Age: 41 <\/br>Years in formal education: 21 <\/br>Job: Senior Lecturer","Group: L1<br />Grammar:  77.5<br />Gender: F<br />Age: 60 <\/br>Years in formal education: 11 <\/br>Job: Retired","Group: L1<br />Grammar:  97.5<br />Gender: F<br />Age: 21 <\/br>Years in formal education: 12 <\/br>Job: Nail Technician","Group: L1<br />Grammar:  92.5<br />Gender: F<br />Age: 25 <\/br>Years in formal education: 18 <\/br>Job: Human Resources","Group: L1<br />Grammar:  97.5<br />Gender: F<br />Age: 26 <\/br>Years in formal education: 17 <\/br>Job: Teacher","Group: L1<br />Grammar:  85.0<br />Gender: F<br />Age: 57 <\/br>Years in formal education: 12 <\/br>Job: Clerk","Group: L1<br />Grammar:  95.0<br />Gender: F<br />Age: 52 <\/br>Years in formal education: 14 <\/br>Job: Dental Nurse","Group: L1<br />Grammar:  80.0<br />Gender: F<br />Age: 23 <\/br>Years in formal education: 14 <\/br>Job: Unemployed","Group: L1<br />Grammar: 100.0<br />Gender: F<br />Age: 42 <\/br>Years in formal education: 21 <\/br>Job: University Lecturer","Group: L1<br />Grammar:  62.5<br />Gender: F<br />Age: 59 <\/br>Years in formal education: 12 <\/br>Job: Retired","Group: L1<br />Grammar:  87.5<br />Gender: F<br />Age: 21 <\/br>Years in formal education: 14 <\/br>Job: Student","Group: L1<br />Grammar: 100.0<br />Gender: F<br />Age: 21 <\/br>Years in formal education: 14 <\/br>Job: Student","Group: L1<br />Grammar:  95.0<br />Gender: F<br />Age: 51 <\/br>Years in formal education: 19 <\/br>Job: P/T Administrator","Group: L1<br />Grammar:  97.5<br />Gender: F<br />Age: 62 <\/br>Years in formal education: 17 <\/br>Job: Retired","Group: L1<br />Grammar:  95.0<br />Gender: F<br />Age: 65 <\/br>Years in formal education: 18 <\/br>Job: Creative Writing Tutor","Group: L1<br />Grammar:  97.5<br />Gender: F<br />Age: 19 <\/br>Years in formal education: 14 <\/br>Job: Student (College)","Group: L1<br />Grammar:  92.5<br />Gender: F<br />Age: 65 <\/br>Years in formal education: 17 <\/br>Job: Retired","Group: L1<br />Grammar:  70.0<br />Gender: F<br />Age: 37 <\/br>Years in formal education: 12 <\/br>Job: Receptionist","Group: L1<br />Grammar:  85.0<br />Gender: F<br />Age: 42 <\/br>Years in formal education: 13 <\/br>Job: Catering Assistant","Group: L1<br />Grammar:  97.5<br />Gender: F<br />Age: 32 <\/br>Years in formal education: 18 <\/br>Job: Unemployed","Group: L1<br />Grammar:  77.5<br />Gender: F<br />Age: 29 <\/br>Years in formal education: 13 <\/br>Job: Waitress","Group: L1<br />Grammar:  82.5<br />Gender: F<br />Age: 29 <\/br>Years in formal education: 12 <\/br>Job: Care Assisant","Group: L1<br />Grammar:  95.0<br />Gender: F<br />Age: 27 <\/br>Years in formal education: 13 <\/br>Job: Civil Servant","Group: L1<br />Grammar:  97.5<br />Gender: F<br />Age: 28 <\/br>Years in formal education: 13 <\/br>Job: Administrator","Group: L1<br />Grammar:  90.0<br />Gender: F<br />Age: 29 <\/br>Years in formal education: 13 <\/br>Job: Admin Assistant","Group: L1<br />Grammar:  75.0<br />Gender: F<br />Age: 25 <\/br>Years in formal education: 13 <\/br>Job: Project Coordinator","Group: L1<br />Grammar:  72.5<br />Gender: F<br />Age: 25 <\/br>Years in formal education: 18 <\/br>Job: Teacher","Group: L1<br />Grammar:  80.0<br />Gender: F<br />Age: 52 <\/br>Years in formal education: 12 <\/br>Job: Support Worker","Group: L1<br />Grammar:  75.0<br />Gender: F<br />Age: 60 <\/br>Years in formal education: 10 <\/br>Job: Retired","Group: L1<br />Grammar:  97.5<br />Gender: F<br />Age: 39 <\/br>Years in formal education: 13 <\/br>Job: Singer","Group: L1<br />Grammar: 100.0<br />Gender: F<br />Age: 55 <\/br>Years in formal education: 13 <\/br>Job: Retired","Group: L1<br />Grammar:  72.5<br />Gender: F<br />Age: 18 <\/br>Years in formal education: 13 <\/br>Job: Student","Group: L1<br />Grammar:  80.0<br />Gender: F<br />Age: 38 <\/br>Years in formal education: 14 <\/br>Job: Housewife","Group: L1<br />Grammar:  85.0<br />Gender: F<br />Age: 44 <\/br>Years in formal education: 11 <\/br>Job: Shop Assistant","Group: L1<br />Grammar:  85.0<br />Gender: F<br />Age: 17 <\/br>Years in formal education: 13 <\/br>Job: Student","Group: L1<br />Grammar:  77.5<br />Gender: F<br />Age: 17 <\/br>Years in formal education: 13 <\/br>Job: Student","Group: L1<br />Grammar:  60.0<br />Gender: F<br />Age: 17 <\/br>Years in formal education: 13 <\/br>Job: Student","Group: L2<br />Grammar:  50.0<br />Gender: F<br />Age: 20 <\/br>Years in formal education: 13 <\/br>Job: Student","Group: L2<br />Grammar:  12.5<br />Gender: F<br />Age: 22 <\/br>Years in formal education: 16 <\/br>Job: Student","Group: L2<br />Grammar:  85.0<br />Gender: F<br />Age: 22 <\/br>Years in formal education: 14 <\/br>Job: Cleaner","Group: L2<br />Grammar:  95.0<br />Gender: F<br />Age: 23 <\/br>Years in formal education: 14 <\/br>Job: Student","Group: L2<br />Grammar:  92.5<br />Gender: F<br />Age: 22 <\/br>Years in formal education: 16 <\/br>Job: Student","Group: L2<br />Grammar:   5.0<br />Gender: F<br />Age: 23 <\/br>Years in formal education: 16 <\/br>Job: Student","Group: L2<br />Grammar:  95.0<br />Gender: F<br />Age: 32 <\/br>Years in formal education: 10 <\/br>Job: Self Employed","Group: L2<br />Grammar:  12.5<br />Gender: F<br />Age: 25 <\/br>Years in formal education: 15 <\/br>Job: Intern","Group: L2<br />Grammar: 100.0<br />Gender: F<br />Age: 26 <\/br>Years in formal education: 19 <\/br>Job: Student","Group: L2<br />Grammar:  92.5<br />Gender: F<br />Age: 26 <\/br>Years in formal education: 17 <\/br>Job: Barmaid","Group: L2<br />Grammar:  10.0<br />Gender: F<br />Age: 39 <\/br>Years in formal education: 15 <\/br>Job: Data Entry","Group: L2<br />Grammar:  72.5<br />Gender: F<br />Age: 29 <\/br>Years in formal education: 12 <\/br>Job: Inventory Taker","Group: L2<br />Grammar:  85.0<br />Gender: F<br />Age: 31 <\/br>Years in formal education: 13 <\/br>Job: Cleaner","Group: L2<br />Grammar:  70.0<br />Gender: F<br />Age: 31 <\/br>Years in formal education: 13 <\/br>Job: Horticultarist","Group: L2<br />Grammar:  12.5<br />Gender: F<br />Age: 48 <\/br>Years in formal education: 14 <\/br>Job: Product Operative","Group: L2<br />Grammar:   2.5<br />Gender: F<br />Age: 52 <\/br>Years in formal education: 15 <\/br>Job: Cashier","Group: L2<br />Grammar:   5.0<br />Gender: F<br />Age: 21 <\/br>Years in formal education: 14 <\/br>Job: Student","Group: L2<br />Grammar:  97.5<br />Gender: F<br />Age: 28 <\/br>Years in formal education: 14 <\/br>Job: Admin Assistant","Group: L2<br />Grammar:  92.5<br />Gender: F<br />Age: 27 <\/br>Years in formal education: 24 <\/br>Job: Phd Candidate","Group: L2<br />Grammar:  95.0<br />Gender: F<br />Age: 28 <\/br>Years in formal education: 18 <\/br>Job: Student","Group: L2<br />Grammar: 100.0<br />Gender: F<br />Age: 24 <\/br>Years in formal education: 14 <\/br>Job: Bar Staff","Group: L2<br />Grammar:  55.0<br />Gender: F<br />Age: 28 <\/br>Years in formal education: 17 <\/br>Job: Care Worker","Group: L2<br />Grammar:  95.0<br />Gender: F<br />Age: 31 <\/br>Years in formal education: 19 <\/br>Job: After School Club Assistant","Group: L2<br />Grammar: 100.0<br />Gender: F<br />Age: 22 <\/br>Years in formal education: 14 <\/br>Job: Student","Group: L2<br />Grammar:  90.0<br />Gender: F<br />Age: 30 <\/br>Years in formal education: 18 <\/br>Job: Teacher","Group: L2<br />Grammar:  82.5<br />Gender: F<br />Age: 30 <\/br>Years in formal education: 15 <\/br>Job: Housing Services Officer","Group: L2<br />Grammar:  92.5<br />Gender: F<br />Age: 31 <\/br>Years in formal education: 16 <\/br>Job: Freelance Interpreter","Group: L2<br />Grammar:  95.0<br />Gender: F<br />Age: 37 <\/br>Years in formal education: 21 <\/br>Job: Physicist","Group: L2<br />Grammar:  10.0<br />Gender: F<br />Age: 38 <\/br>Years in formal education: 17 <\/br>Job: Media Asst.","Group: L2<br />Grammar:  97.5<br />Gender: F<br />Age: 31 <\/br>Years in formal education: 18 <\/br>Job: Research Assistant","Group: L2<br />Grammar:  67.5<br />Gender: F<br />Age: 51 <\/br>Years in formal education: 16 <\/br>Job: Finance Assistant","Group: L2<br />Grammar:  97.5<br />Gender: F<br />Age: 25 <\/br>Years in formal education: 12 <\/br>Job: Waitress","Group: L2<br />Grammar:  92.5<br />Gender: F<br />Age: 28 <\/br>Years in formal education: 16 <\/br>Job: Student Experience Asst.","Group: L2<br />Grammar:  95.0<br />Gender: F<br />Age: 28 <\/br>Years in formal education: 21 <\/br>Job: Pharmacist","Group: L2<br />Grammar:  97.5<br />Gender: F<br />Age: 41 <\/br>Years in formal education: 15 <\/br>Job: House Manager","Group: L2<br />Grammar:  75.0<br />Gender: F<br />Age: 25 <\/br>Years in formal education: 8.5 <\/br>Job: Receptionist In Chinese Clinic","Group: L2<br />Grammar:  97.5<br />Gender: F<br />Age: 27 <\/br>Years in formal education: 17 <\/br>Job: Pharmacist","Group: L2<br />Grammar:  95.0<br />Gender: F<br />Age: 23 <\/br>Years in formal education: 13 <\/br>Job: Bar Staff","Group: L2<br />Grammar:  42.5<br />Gender: F<br />Age: 33 <\/br>Years in formal education: 13 <\/br>Job: Cleaner","Group: L2<br />Grammar:   0.0<br />Gender: F<br />Age: 33 <\/br>Years in formal education: 18 <\/br>Job: Teacher","Group: L2<br />Grammar:  20.0<br />Gender: F<br />Age: 32 <\/br>Years in formal education: 16 <\/br>Job: Office Manager","Group: L2<br />Grammar:  12.5<br />Gender: F<br />Age: 35 <\/br>Years in formal education: 17 <\/br>Job: Researcher","Group: L2<br />Grammar:  12.5<br />Gender: F<br />Age: 39 <\/br>Years in formal education: 18 <\/br>Job: Student","Group: L2<br />Grammar:  82.5<br />Gender: F<br />Age: 38 <\/br>Years in formal education: 19 <\/br>Job: Clinic Manager","Group: L2<br />Grammar:  95.0<br />Gender: F<br />Age: 39 <\/br>Years in formal education: 17.5 <\/br>Job: Interpreter","Group: L2<br />Grammar:  25.0<br />Gender: F<br />Age: 40 <\/br>Years in formal education: 17 <\/br>Job: Cashier"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","opacity":0.80000000000000004,"size":5.6692913385826778,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(248,118,109,1)"}},"hoveron":"points","name":"F","legendgroup":"F","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1.0836397029925138,0.97825655522756283,1.0580609815195203,0.99350576153956349,1.0165862123947591,1.0033602162729949,0.99016635166481137,0.95538451434113081,1.0764889687299728,1.0883480265270919,0.94404736692085867,0.94842821005731826,0.97959890156053009,1.0108388141728937,1.087728883838281,1.0015236728359014,0.98419941347092388,1.0441105439793319,1.0640612961724401,0.99477562941610809,1.0092758099082857,1.0856188523117454,1.0972221804317086,1.072654620045796,0.94574025659821925,1.0271734800189734,0.90668606897816062,1.0327700002118945,0.99293775106780235,0.92777468110434713,0.95501682567410173,1.0765710424166173,1.0014371233060957,0.99814670444466169,1.0249035615473985,0.98546107220463453,1.0381020513363182,1.0290719250682741,0.90038181282579899,0.96900274730287494,1.0259926049504429,0.94588759588077664,1.9117621671408416,1.9684746062848717,2.0816302870400252,1.9666126543655991,2.0868681347928941,2.0316968496423216,2.0677633826620876,2.0827925966121255,2.0746322191320359,1.9507787321694194,1.9304424037691206,1.9196226397994907,2.0352912276983259,2.0614810694940386,1.9209640306420623,1.9312154786661266,2.047850240720436,1.9133888150565326,1.9474030505400151,2.0194866995792835,2.0097850833553821],"y":[94.885406708344817,97.834320738445967,97.949012889061123,69.912356287240982,44.420762280933559,82.564499938394874,85.741230149753392,92.095555196981877,99.005575900431722,80.118277459405363,79.160837550181895,94.673037846107036,93.400163544341922,57.863547245971859,98.215641465503722,97.188028119970113,95.834269240032881,96.751882133074105,95.062035808805376,81.874663173221052,95.521494374144822,100.13138881418854,90.711213539354503,52.245778465177864,80.742594401352108,90.297361495904624,100.21560564916581,80.165898334234953,74.103763291146606,87.553405569400638,82.985801957082003,94.00432959292084,100.46218639379367,97.675959849264473,92.122904643416405,92.913731771986932,94.39685066184029,75.369844077154994,54.292053337674588,84.458067633677274,78.279202053323388,94.720276074018329,96.825248530134559,62.012618399690837,91.648780276998878,42.859756105113775,77.766406343784183,98.248812904581428,86.813704129774123,72.100170549470931,65.503863724414259,89.140510235447437,98.046401526778936,91.863493555225432,15.203140876721591,37.151856970973313,92.819463775027543,95.185141223948449,97.083159478846937,97.614233917091042,59.597409547306597,82.50593928527087,90.819384249858558],"text":["Group: L1<br />Grammar:  95.0<br />Gender: M<br />Age: 21 <\/br>Years in formal education: 17 <\/br>Job: Student","Group: L1<br />Grammar:  97.5<br />Gender: M<br />Age: 38 <\/br>Years in formal education: 13 <\/br>Job: Student/Support Worker","Group: L1<br />Grammar:  97.5<br />Gender: M<br />Age: 55 <\/br>Years in formal education: 11 <\/br>Job: Retired","Group: L1<br />Grammar:  70.0<br />Gender: M<br />Age: 58 <\/br>Years in formal education: 11 <\/br>Job: Roofer","Group: L1<br />Grammar:  45.0<br />Gender: M<br />Age: 42 <\/br>Years in formal education: 11 <\/br>Job: Manual Worker","Group: L1<br />Grammar:  82.5<br />Gender: M<br />Age: 27 <\/br>Years in formal education: 18 <\/br>Job: Content Editor","Group: L1<br />Grammar:  85.0<br />Gender: M<br />Age: 60 <\/br>Years in formal education: 12 <\/br>Job: School Crossing Guard","Group: L1<br />Grammar:  92.5<br />Gender: M<br />Age: 32 <\/br>Years in formal education: 14 <\/br>Job: It Support","Group: L1<br />Grammar: 100.0<br />Gender: M<br />Age: 41 <\/br>Years in formal education: 12 <\/br>Job: Admin Officer","Group: L1<br />Grammar:  80.0<br />Gender: M<br />Age: 60 <\/br>Years in formal education: 12 <\/br>Job: Boilermaker","Group: L1<br />Grammar:  80.0<br />Gender: M<br />Age: 60 <\/br>Years in formal education: 17 <\/br>Job: Retired","Group: L1<br />Grammar:  95.0<br />Gender: M<br />Age: 25 <\/br>Years in formal education: 12 <\/br>Job: Sales Assistant","Group: L1<br />Grammar:  92.5<br />Gender: M<br />Age: 30 <\/br>Years in formal education: 13 <\/br>Job: Unemployed","Group: L1<br />Grammar:  57.5<br />Gender: M<br />Age: 60 <\/br>Years in formal education: 12 <\/br>Job: Retired","Group: L1<br />Grammar:  97.5<br />Gender: M<br />Age: 29 <\/br>Years in formal education: 18 <\/br>Job: Teacher","Group: L1<br />Grammar:  97.5<br />Gender: M<br />Age: 38 <\/br>Years in formal education: 12 <\/br>Job: Unemployed","Group: L1<br />Grammar:  95.0<br />Gender: M<br />Age: 20 <\/br>Years in formal education: 13 <\/br>Job: Shop Assistant","Group: L1<br />Grammar:  97.5<br />Gender: M<br />Age: 33 <\/br>Years in formal education: 18 <\/br>Job: Quantity Surveyor","Group: L1<br />Grammar:  95.0<br />Gender: M<br />Age: 25 <\/br>Years in formal education: 14 <\/br>Job: Office Admin Co-Ordinator","Group: L1<br />Grammar:  82.5<br />Gender: M<br />Age: 25 <\/br>Years in formal education: 13 <\/br>Job: Personal Searcher","Group: L1<br />Grammar:  95.0<br />Gender: M<br />Age: 25 <\/br>Years in formal education: 14 <\/br>Job: Train Driver","Group: L1<br />Grammar: 100.0<br />Gender: M<br />Age: 53 <\/br>Years in formal education: 16 <\/br>Job: Quantity Surveyor","Group: L1<br />Grammar:  90.0<br />Gender: M<br />Age: 22 <\/br>Years in formal education: 17 <\/br>Job: Shop Assistant","Group: L1<br />Grammar:  52.5<br />Gender: M<br />Age: 65 <\/br>Years in formal education: 10 <\/br>Job: Retired","Group: L1<br />Grammar:  80.0<br />Gender: M<br />Age: 61 <\/br>Years in formal education: 10 <\/br>Job: Retired","Group: L1<br />Grammar:  90.0<br />Gender: M<br />Age: 65 <\/br>Years in formal education: 11 <\/br>Job: Retired","Group: L1<br />Grammar: 100.0<br />Gender: M<br />Age: 65 <\/br>Years in formal education: 14 <\/br>Job: Retired","Group: L1<br />Grammar:  80.0<br />Gender: M<br />Age: 61 <\/br>Years in formal education: 16 <\/br>Job: School Crossing Patrol","Group: L1<br />Grammar:  75.0<br />Gender: M<br />Age: 30 <\/br>Years in formal education: 11 <\/br>Job: Supermarket Assistant","Group: L1<br />Grammar:  87.5<br />Gender: M<br />Age: 30 <\/br>Years in formal education: 13 <\/br>Job: Policeman","Group: L1<br />Grammar:  82.5<br />Gender: M<br />Age: 32 <\/br>Years in formal education: 13 <\/br>Job: Factory Worker","Group: L1<br />Grammar:  95.0<br />Gender: M<br />Age: 30 <\/br>Years in formal education: 13 <\/br>Job: Unemploed","Group: L1<br />Grammar: 100.0<br />Gender: M<br />Age: 29 <\/br>Years in formal education: 13 <\/br>Job: Policeman","Group: L1<br />Grammar:  97.5<br />Gender: M<br />Age: 32 <\/br>Years in formal education: 13 <\/br>Job: Factory Worker","Group: L1<br />Grammar:  92.5<br />Gender: M<br />Age: 31 <\/br>Years in formal education: 15 <\/br>Job: Warehouse Operative","Group: L1<br />Grammar:  92.5<br />Gender: M<br />Age: 20 <\/br>Years in formal education: 12 <\/br>Job: Customer Service Advisor","Group: L1<br />Grammar:  95.0<br />Gender: M<br />Age: 18 <\/br>Years in formal education: 12 <\/br>Job: Student","Group: L1<br />Grammar:  75.0<br />Gender: M<br />Age: 17 <\/br>Years in formal education: 13 <\/br>Job: Student","Group: L1<br />Grammar:  55.0<br />Gender: M<br />Age: 17 <\/br>Years in formal education: 13 <\/br>Job: Student","Group: L1<br />Grammar:  85.0<br />Gender: M<br />Age: 17 <\/br>Years in formal education: 13 <\/br>Job: Student","Group: L1<br />Grammar:  77.5<br />Gender: M<br />Age: 17 <\/br>Years in formal education: 13 <\/br>Job: Student","Group: L1<br />Grammar:  95.0<br />Gender: M<br />Age: 17 <\/br>Years in formal education: 13 <\/br>Job: Student","Group: L2<br />Grammar:  97.5<br />Gender: M<br />Age: 22 <\/br>Years in formal education: 16 <\/br>Job: Student","Group: L2<br />Grammar:  62.5<br />Gender: M<br />Age: 29 <\/br>Years in formal education: 17 <\/br>Job: Factory Worker","Group: L2<br />Grammar:  92.5<br />Gender: M<br />Age: 33 <\/br>Years in formal education: 19 <\/br>Job: Product Operative","Group: L2<br />Grammar:  42.5<br />Gender: M<br />Age: 47 <\/br>Years in formal education: 17 <\/br>Job: Product Operative","Group: L2<br />Grammar:  77.5<br />Gender: M<br />Age: 28 <\/br>Years in formal education: 14 <\/br>Job: Driver","Group: L2<br />Grammar:  97.5<br />Gender: M<br />Age: 24 <\/br>Years in formal education: 15 <\/br>Job: Student","Group: L2<br />Grammar:  87.5<br />Gender: M<br />Age: 34 <\/br>Years in formal education: 17 <\/br>Job: Chemist","Group: L2<br />Grammar:  72.5<br />Gender: M<br />Age: 39 <\/br>Years in formal education: 14 <\/br>Job: Bus Mechanic","Group: L2<br />Grammar:  65.0<br />Gender: M<br />Age: 29 <\/br>Years in formal education: 19 <\/br>Job: Student","Group: L2<br />Grammar:  90.0<br />Gender: M<br />Age: 37 <\/br>Years in formal education: 17 <\/br>Job: Mechanical Services Engineer","Group: L2<br />Grammar:  97.5<br />Gender: M<br />Age: 35 <\/br>Years in formal education: 18 <\/br>Job: Househusband","Group: L2<br />Grammar:  92.5<br />Gender: M<br />Age: 46 <\/br>Years in formal education: 16 <\/br>Job: Herbalist","Group: L2<br />Grammar:  15.0<br />Gender: M<br />Age: 55 <\/br>Years in formal education: 13 <\/br>Job: Product Operative","Group: L2<br />Grammar:  37.5<br />Gender: M<br />Age: 37 <\/br>Years in formal education: 13 <\/br>Job: Product Operative","Group: L2<br />Grammar:  92.5<br />Gender: M<br />Age: 42 <\/br>Years in formal education: 15 <\/br>Job: Self Employed","Group: L2<br />Grammar:  95.0<br />Gender: M<br />Age: 30 <\/br>Years in formal education: 15 <\/br>Job: Academic Tutor","Group: L2<br />Grammar:  97.5<br />Gender: M<br />Age: 39 <\/br>Years in formal education: 21 <\/br>Job: Academic Tutor","Group: L2<br />Grammar:  97.5<br />Gender: M<br />Age: 30 <\/br>Years in formal education: 21 <\/br>Job: It Tech Support","Group: L2<br />Grammar:  60.0<br />Gender: M<br />Age: 46 <\/br>Years in formal education: 10 <\/br>Job: Driver","Group: L2<br />Grammar:  82.5<br />Gender: M<br />Age: 34 <\/br>Years in formal education: 15 <\/br>Job: Company Director","Group: L2<br />Grammar:  90.0<br />Gender: M<br />Age: 62 <\/br>Years in formal education: 14 <\/br>Job: Retired"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,191,196,1)","opacity":0.80000000000000004,"size":5.6692913385826778,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(0,191,196,1)"}},"hoveron":"points","name":"M","legendgroup":"M","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2],"y":[95,97.5,97.5,100,97.5,65,92.5,70,45,72.5,67.5,82.5,85,75,92.5,75,100,85,97.5,97.5,85,77.5,97.5,92.5,97.5,80,85,80,95,95,80,100,62.5,92.5,87.5,100,57.5,95,97.5,95,97.5,92.5,97.5,97.5,70,85,95,97.5,77.5,82.5,95,97.5,90,75,97.5,95,82.5,72.5,80,95,100,90,52.5,75,80,90,100,80,75,87.5,82.5,97.5,95,97.5,100,100,72.5,92.5,92.5,80,85,95,75,85,77.5,55,85,77.5,60,95,50,12.5,97.5,92.5,85,95,5,95,12.5,100,92.5,10,72.5,62.5,85,70,92.5,42.5,12.5,2.5,5,97.5,92.5,95,100,55,77.5,95,100,97.5,90,82.5,92.5,87.5,95,10,72.5,65,97.5,90,67.5,97.5,97.5,92.5,95,97.5,92.5,15,75,97.5,95,42.5,0,37.5,92.5,95,20,12.5,12.5,82.5,97.5,97.5,95,60,25,82.5,90],"hoverinfo":"y","type":"box","fillcolor":"rgba(255,255,255,0)","marker":{"opacity":null,"outliercolor":"rgba(0,0,0,1)","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"},"size":5.6692913385826778},"line":{"color":"rgba(0,0,0,1)","width":1.8897637795275593},"showlegend":false,"xaxis":"x","yaxis":"y","frame":null}],"layout":{"margin":{"t":23.305936073059364,"r":7.3059360730593621,"b":22.648401826484022,"l":43.105022831050235},"plot_bgcolor":"rgba(255,255,255,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[0.40000000000000002,2.6000000000000001],"tickmode":"array","ticktext":["L1","L2"],"tickvals":[1,2],"categoryorder":"array","categoryarray":["L1","L2"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"y","title":{"text":"","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-5.0339316988829523,105.712565676542],"tickmode":"array","ticktext":["0","25","50","75","100"],"tickvals":[0,24.999999999999996,50,75,100],"categoryorder":"array","categoryarray":["0","25","50","75","100"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"x","title":{"text":"Grammar comprehension test score","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":"transparent","line":{"color":"rgba(51,51,51,1)","width":0.66417600664176002,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.8897637795275593,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.68949771689498},"title":{"text":"Gender","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"6b761916cc86":{"x":{},"y":{},"colour":{},"text":{},"type":"scatter"},"6b7627cd7e48":{"x":{},"y":{},"colour":{},"text":{}}},"cur_data":"6b761916cc86","visdat":{"6b761916cc86":["function (y) ","x"],"6b7627cd7e48":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
</section>
<section id="sec-ExploringPlots" class="level2" data-number="10.3">
<h2 data-number="10.3" class="anchored" data-anchor-id="sec-ExploringPlots"><span class="header-section-number">10.3</span> Exporting plots 🚀</h2>
<p>You may want to share the plots that you have created in <code>R</code> with others or insert them in a research paper or presentation. {ggplot2} provides a convenient way to export plots in various formats using the <code>ggsave()</code> function. You can specify the file name, format, and other options such as the width, height, and resolution of the image.</p>
<p>If you run the <code>ggsave()</code> function without specifying which plot should be saved, it will save the last plot that was displayed. The image file type is determined by the extension of the file name that you provide, e.g., a file name ending in <code>.png</code> will export your graph to a PNG file. You can specify its dimensions in centimetres (<code>cm</code>), millimetres (<code>mm</code>), inches (<code>in</code>), and pixel (<code>px</code>). Working out appropriate dimensions can be tricky and typically requires a bit of experimenting until you get it right.</p>
<div class="cell" data-source-line-numbers="9-12">
<div class="sourceCode cell-code" id="cb101" data-source-line-numbers="9-12" data-code-line-numbers="9-12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb101-1"><a href="#cb101-1" aria-hidden="true" tabindex="-1"></a>Dabrowska.data <span class="sc">|&gt;</span> </span>
<span id="cb101-2"><a href="#cb101-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> Blocks,</span>
<span id="cb101-3"><a href="#cb101-3" aria-hidden="true" tabindex="-1"></a>                       <span class="at">fill =</span> Group)) <span class="sc">+</span></span>
<span id="cb101-4"><a href="#cb101-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density</span>(<span class="at">alpha =</span> <span class="fl">0.7</span>) <span class="sc">+</span></span>
<span id="cb101-5"><a href="#cb101-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_viridis_d</span>() <span class="sc">+</span></span>
<span id="cb101-6"><a href="#cb101-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Non-verbal IQ (Blocks test)"</span>) <span class="sc">+</span></span>
<span id="cb101-7"><a href="#cb101-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>()</span>
<span id="cb101-8"><a href="#cb101-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb101-9"><a href="#cb101-9" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsave</span>(<span class="st">"BlocksDensityPlot.png"</span>,</span>
<span id="cb101-10"><a href="#cb101-10" aria-hidden="true" tabindex="-1"></a>       <span class="at">width =</span> <span class="dv">10</span>,</span>
<span id="cb101-11"><a href="#cb101-11" aria-hidden="true" tabindex="-1"></a>       <span class="at">height =</span> <span class="dv">8</span>,</span>
<span id="cb101-12"><a href="#cb101-12" aria-hidden="true" tabindex="-1"></a>       <span class="at">units =</span> <span class="st">"cm"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>By default, plots will be exported to the project’s working directory. You can save it elsewhere by specifying a different file path (see <a href="3_DataManagement.html#sec-FoldersPaths" class="quarto-xref"><span>Section 3.3</span></a>). For example, this function will save the last plot displayed as an SVG file in the project’s subfolder “figures”. Note that, if the subfolder to which you want to save your graph does not yet exist, <code>R</code> will return an error. So make sure that the subfolder exists at the path that you specified before attempting to save anything in it!</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb102" data-source-line-numbers="nil" data-code-line-numbers="nil"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb102-1"><a href="#cb102-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsave</span>(<span class="st">"figures/BlocksDensityPlot.svg"</span>,</span>
<span id="cb102-2"><a href="#cb102-2" aria-hidden="true" tabindex="-1"></a>       <span class="at">width =</span> <span class="dv">1500</span>,</span>
<span id="cb102-3"><a href="#cb102-3" aria-hidden="true" tabindex="-1"></a>       <span class="at">height =</span> <span class="dv">1000</span>,</span>
<span id="cb102-4"><a href="#cb102-4" aria-hidden="true" tabindex="-1"></a>       <span class="at">units =</span> <span class="st">"px"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="check-your-progress" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="check-your-progress">Check your progress 🌟</h3>
<p>Well done! You have successfully completed this chapter on data visualisation using the Grammar of Graphics approach. You have answered <span style="color:green;"><span id="checkdown_final_score">0</span> out of 9 questions</span> correctly.</p>
<p>Are you confident that you can…?</p>
<ul class="task-list">
<li><label><input type="checkbox">Use the syntax of the Grammar of Graphics to build and customise your graphs layer-by-layer (using data, aesthetics, geometries, facetting, scales, coordinates, and theme layers).</label></li>
<li><label><input type="checkbox">Create and interpret bar plots, histograms, density plots, boxplots, scatter plots, and word clouds.</label></li>
<li><label><input type="checkbox">Create and interpret complex plots and interactive plots for data exploration.</label></li>
<li><label><input type="checkbox">Export and share your plots in various formats.</label></li>
</ul>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Going further: Plotting your way to success 🗺️
</div>
</div>
<div class="callout-body-container callout-body">
<p>If you have completed this chapter, you can now produce some of the most widely used graphs in the language sciences: Congratulations!</p>
<p>Bar plots, boxplots, scatter plots, density plots and histograms may well be all that you need for now. But you should know that the possibilities with <code>R</code>, the {ggplot2} library, and its many extensions are pretty much limitless: The <a href="https://r-graph-gallery.com/"><code>R</code> Graph Gallery</a> lists some 50 different types of charts with over 400 examples with code! Another great resource is <a href="https://r-graphics.org">The R Graphics Cookbook</a> by Winston Chang. To go beyond the basics and to find out more information about the theoretical underpinnings of the {ggplot2} package, I recommend <a href="https://ggplot2-book.org">ggplot2: Elegant Graphics for Data Analysis</a>. There are also great <code>R</code> packages to produce more specialised types of graphs frequently used in linguistics such as vowel charts and dialectal maps (see Appendix A).</p>
</div>
</div>


<div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list" style="display: none">
<div id="ref-clevelandGraphicalPerceptionVisual1987" class="csl-entry" role="listitem">
Cleveland, William S. &amp; Robert McGill. 1987. Graphical perception: The visual decoding of quantitative information on graphical displays of data. <em>Journal of the Royal Statistical Society: Series A (General)</em> 150(3). 192–210. <a href="https://doi.org/10.2307/2981473">https://doi.org/10.2307/2981473</a>.
</div>
<div id="ref-DabrowskaExperienceAptitudeIndividual2019" class="csl-entry" role="listitem">
Dąbrowska, Ewa. 2019. Experience, aptitude, and individual differences in linguistic attainment: A comparison of native and nonnative speakers. <em>Language Learning</em> 69(S1). 72–100. <a href="https://doi.org/10.1111/lang.12323">https://doi.org/10.1111/lang.12323</a>.
</div>
<div id="ref-fewPiesDessert" class="csl-entry" role="listitem">
Few, Stephen. Save the pies for dessert. <em>August 2007</em>. <a href="http://www.perceptualedge.com/articles/08-21-07.pdf">http://www.perceptualedge.com/articles/08-21-07.pdf</a>.
</div>
<div id="ref-garnierSjmgarnierViridisCRAN2023" class="csl-entry" role="listitem">
Garnier, Simon, Noam Ross, BoB Rudis, Antoine Filipovic-Pierucci, Tal Galili, Timelyportfolio, Alan O’Callaghan, et al. 2023. <em>Sjmgarnier/viridis: CRAN release v0.6.3</em>. Zenodo. <a href="https://doi.org/10.5281/ZENODO.4679423">https://doi.org/10.5281/ZENODO.4679423</a>.
</div>
<div id="ref-hvitfeldtPaletteerComprehensiveCollection2021" class="csl-entry" role="listitem">
Hvitfeldt, Emil. 2021. <em>Paletteer: Comprehensive collection of color palettes</em>. <a href="https://github.com/EmilHvitfeldt/paletteer">https://github.com/EmilHvitfeldt/paletteer</a>.
</div>
<div id="ref-ouColorBlindnessSafeColor2021" class="csl-entry" role="listitem">
Ou, Jianhong. 2021. <em>colorBlindness: Safe color set for color blindness</em>. <a href="https://CRAN.R-project.org/package=colorBlindness">https://CRAN.R-project.org/package=colorBlindness</a>.
</div>
<div id="ref-Wickhamggplot2Elegantgraphics2016" class="csl-entry" role="listitem">
Wickham, Hadley. 2016. <em>ggplot2: Elegant graphics for data analysis</em>. New York: Springer. <a href="https://ggplot2.tidyverse.org">https://ggplot2.tidyverse.org</a>.
</div>
<div id="ref-wilkinsonGrammarGraphics2005" class="csl-entry" role="listitem">
Wilkinson, Leland. 2005. <em>The Grammar of Graphics</em> (Statistics and Computing). New York: Springer. <a href="https://doi.org/10.1007/0-387-28695-0">https://doi.org/10.1007/0-387-28695-0</a>.
</div>
</div>
</section>
</section>
<section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes">
<hr>
<ol>
<li id="fn1"><p>Note that, while the library is called {ggplot2}, its main function is called <code>ggplot()</code>.<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    // Ensure there is a toggle, if there isn't float one in the top right
    if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
      const a = window.document.createElement('a');
      a.classList.add('top-right');
      a.classList.add('quarto-color-scheme-toggle');
      a.href = "";
      a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
      const i = window.document.createElement("i");
      i.classList.add('bi');
      a.appendChild(i);
      window.document.body.appendChild(a);
    }
    window.setColorSchemeToggle(window.hasAlternateSentinel())
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/elenlefoll\.github\.io\/RstatsTexbook\/");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
            // target, if specified
            link.setAttribute("target", "_blank");
            if (link.getAttribute("rel") === null) {
              link.setAttribute("rel", "noopener");
            }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./9_DataWrangling.html" class="pagination-link" aria-label="Data w`R`angling">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Data w<code>R</code>angling</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./11_InferentialStats.html" class="pagination-link" aria-label="Infe`R`ential statistics">
        <span class="nav-page-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Infe<code>R</code>ential statistics</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p><a href="https://www.elenlefoll.eu">Elen Le Foll</a></p>
</div>   
    <div class="nav-footer-center">
<p>Data Analysis for the Language Sciences</p>
</div>
    <div class="nav-footer-right">
<p><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA</a></p>
</div>
  </div>
</footer>
<script>var lightboxQuarto = GLightbox({"closeEffect":"zoom","descPosition":"bottom","loop":false,"openEffect":"zoom","selector":".lightbox"});
(function() {
  let previousOnload = window.onload;
  window.onload = () => {
    if (previousOnload) {
      previousOnload();
    }
    lightboxQuarto.on('slide_before_load', (data) => {
      const { slideIndex, slideNode, slideConfig, player, trigger } = data;
      const href = trigger.getAttribute('href');
      if (href !== null) {
        const imgEl = window.document.querySelector(`a[href="${href}"] img`);
        if (imgEl !== null) {
          const srcAttr = imgEl.getAttribute("src");
          if (srcAttr && srcAttr.startsWith("data:")) {
            slideConfig.href = srcAttr;
          }
        }
      } 
    });
  
    lightboxQuarto.on('slide_after_load', (data) => {
      const { slideIndex, slideNode, slideConfig, player, trigger } = data;
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(slideNode);
      }
    });
  
  };
  
})();
          </script>




<script src="site_libs/quarto-contrib/line-highlight-1.0.0/line-highlight.js" defer="true"></script>
</body></html>